{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction cov_1rqcdrfc2l() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/games/cornerus/Controls.tsx\";\n  var hash = \"87695272eff34a104ec3839bc55f78069cdf3e44\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/games/cornerus/Controls.tsx\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 29,\n          column: 11\n        },\n        end: {\n          line: 29,\n          column: 32\n        }\n      },\n      \"1\": {\n        start: {\n          line: 30,\n          column: 11\n        },\n        end: {\n          line: 30,\n          column: 32\n        }\n      },\n      \"2\": {\n        start: {\n          line: 33,\n          column: 15\n        },\n        end: {\n          line: 33,\n          column: 49\n        }\n      },\n      \"3\": {\n        start: {\n          line: 34,\n          column: 4\n        },\n        end: {\n          line: 36,\n          column: 5\n        }\n      },\n      \"4\": {\n        start: {\n          line: 34,\n          column: 17\n        },\n        end: {\n          line: 34,\n          column: 18\n        }\n      },\n      \"5\": {\n        start: {\n          line: 35,\n          column: 6\n        },\n        end: {\n          line: 35,\n          column: 31\n        }\n      },\n      \"6\": {\n        start: {\n          line: 38,\n          column: 4\n        },\n        end: {\n          line: 45,\n          column: 7\n        }\n      },\n      \"7\": {\n        start: {\n          line: 49,\n          column: 4\n        },\n        end: {\n          line: 60,\n          column: 7\n        }\n      },\n      \"8\": {\n        start: {\n          line: 64,\n          column: 4\n        },\n        end: {\n          line: 75,\n          column: 7\n        }\n      },\n      \"9\": {\n        start: {\n          line: 79,\n          column: 21\n        },\n        end: {\n          line: 79,\n          column: 90\n        }\n      },\n      \"10\": {\n        start: {\n          line: 80,\n          column: 18\n        },\n        end: {\n          line: 80,\n          column: 105\n        }\n      },\n      \"11\": {\n        start: {\n          line: 81,\n          column: 4\n        },\n        end: {\n          line: 86,\n          column: 7\n        }\n      },\n      \"12\": {\n        start: {\n          line: 90,\n          column: 4\n        },\n        end: {\n          line: 127,\n          column: 6\n        }\n      },\n      \"13\": {\n        start: {\n          line: 92,\n          column: 35\n        },\n        end: {\n          line: 92,\n          column: 49\n        }\n      },\n      \"14\": {\n        start: {\n          line: 95,\n          column: 35\n        },\n        end: {\n          line: 95,\n          column: 49\n        }\n      },\n      \"15\": {\n        start: {\n          line: 106,\n          column: 12\n        },\n        end: {\n          line: 109,\n          column: 13\n        }\n      },\n      \"16\": {\n        start: {\n          line: 115,\n          column: 35\n        },\n        end: {\n          line: 115,\n          column: 49\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 32,\n            column: 2\n          },\n          end: {\n            line: 32,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 32,\n            column: 20\n          },\n          end: {\n            line: 46,\n            column: 3\n          }\n        },\n        line: 32\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 48,\n            column: 2\n          },\n          end: {\n            line: 48,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 48,\n            column: 10\n          },\n          end: {\n            line: 61,\n            column: 3\n          }\n        },\n        line: 48\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 63,\n            column: 2\n          },\n          end: {\n            line: 63,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 63,\n            column: 10\n          },\n          end: {\n            line: 76,\n            column: 3\n          }\n        },\n        line: 63\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 78,\n            column: 2\n          },\n          end: {\n            line: 78,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 78,\n            column: 25\n          },\n          end: {\n            line: 87,\n            column: 3\n          }\n        },\n        line: 78\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 89,\n            column: 2\n          },\n          end: {\n            line: 89,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 89,\n            column: 11\n          },\n          end: {\n            line: 128,\n            column: 3\n          }\n        },\n        line: 89\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 92,\n            column: 29\n          },\n          end: {\n            line: 92,\n            column: 30\n          }\n        },\n        loc: {\n          start: {\n            line: 92,\n            column: 35\n          },\n          end: {\n            line: 92,\n            column: 49\n          }\n        },\n        line: 92\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 95,\n            column: 29\n          },\n          end: {\n            line: 95,\n            column: 30\n          }\n        },\n        loc: {\n          start: {\n            line: 95,\n            column: 35\n          },\n          end: {\n            line: 95,\n            column: 49\n          }\n        },\n        line: 95\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 105,\n            column: 19\n          },\n          end: {\n            line: 105,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 106,\n            column: 12\n          },\n          end: {\n            line: 109,\n            column: 13\n          }\n        },\n        line: 106\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 115,\n            column: 29\n          },\n          end: {\n            line: 115,\n            column: 30\n          }\n        },\n        loc: {\n          start: {\n            line: 115,\n            column: 35\n          },\n          end: {\n            line: 115,\n            column: 49\n          }\n        },\n        line: 115\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 55,\n            column: 10\n          },\n          end: {\n            line: 57,\n            column: 59\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 56,\n            column: 14\n          },\n          end: {\n            line: 56,\n            column: 49\n          }\n        }, {\n          start: {\n            line: 57,\n            column: 14\n          },\n          end: {\n            line: 57,\n            column: 59\n          }\n        }],\n        line: 55\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 70,\n            column: 10\n          },\n          end: {\n            line: 72,\n            column: 59\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 71,\n            column: 14\n          },\n          end: {\n            line: 71,\n            column: 49\n          }\n        }, {\n          start: {\n            line: 72,\n            column: 14\n          },\n          end: {\n            line: 72,\n            column: 59\n          }\n        }],\n        line: 70\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 122,\n            column: 28\n          },\n          end: {\n            line: 122,\n            column: 63\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 122,\n            column: 56\n          },\n          end: {\n            line: 122,\n            column: 57\n          }\n        }, {\n          start: {\n            line: 122,\n            column: 60\n          },\n          end: {\n            line: 122,\n            column: 63\n          }\n        }],\n        line: 122\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"87695272eff34a104ec3839bc55f78069cdf3e44\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_1rqcdrfc2l = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_1rqcdrfc2l();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { rotatePiece, flipPieceY, flipPieceX, getPlayer } from './game';\nimport { pieces } from './pieces';\nimport Done from '@material-ui/icons/Done';\nimport RotateLeft from '@material-ui/icons/RotateLeft';\nimport RotateRight from '@material-ui/icons/RotateRight';\nimport Flip from '@material-ui/icons/Flip';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport IconButton from '@material-ui/core/IconButton';\nimport css from './Controls.css';\n\nvar Controls = /*#__PURE__*/function (_React$Component) {\n  _inherits(Controls, _React$Component);\n\n  var _super = _createSuper(Controls);\n\n  function Controls() {\n    var _this;\n\n    _classCallCheck(this, Controls);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_flipY\", (cov_1rqcdrfc2l().s[0]++, _this.flipY.bind(_assertThisInitialized(_this))));\n\n    _defineProperty(_assertThisInitialized(_this), \"_flipX\", (cov_1rqcdrfc2l().s[1]++, _this.flipX.bind(_assertThisInitialized(_this))));\n\n    return _this;\n  }\n\n  _createClass(Controls, [{\n    key: \"rotate\",\n    value: function rotate(n) {\n      cov_1rqcdrfc2l().f[0]++;\n      var data = (cov_1rqcdrfc2l().s[2]++, rotatePiece(this.props.piece.data));\n      cov_1rqcdrfc2l().s[3]++;\n\n      for (var i = (cov_1rqcdrfc2l().s[4]++, 0); i < n - 1; i++) {\n        cov_1rqcdrfc2l().s[5]++;\n        data = rotatePiece(data);\n      }\n\n      cov_1rqcdrfc2l().s[6]++;\n      this.props.modifyPiece(_objectSpread({}, this.props.piece, {\n        transform: _objectSpread({}, this.props.piece.transform, {\n          rotation: (this.props.piece.transform.rotation + n) % 4\n        }),\n        data: data\n      }));\n    }\n  }, {\n    key: \"flipY\",\n    value: function flipY() {\n      cov_1rqcdrfc2l().f[1]++;\n      cov_1rqcdrfc2l().s[7]++;\n      this.props.modifyPiece(_objectSpread({}, this.props.piece, {\n        transform: _objectSpread({}, this.props.piece.transform, {\n          flipY: !this.props.piece.transform.flipY,\n          rotation: this.props.piece.transform.rotation % 2 === 0 ? (cov_1rqcdrfc2l().b[0][0]++, this.props.piece.transform.rotation) : (cov_1rqcdrfc2l().b[0][1]++, (this.props.piece.transform.rotation + 2) % 4)\n        }),\n        data: flipPieceY(this.props.piece.data)\n      }));\n    }\n  }, {\n    key: \"flipX\",\n    value: function flipX() {\n      cov_1rqcdrfc2l().f[2]++;\n      cov_1rqcdrfc2l().s[8]++;\n      this.props.modifyPiece(_objectSpread({}, this.props.piece, {\n        transform: _objectSpread({}, this.props.piece.transform, {\n          flipX: !this.props.piece.transform.flipX,\n          rotation: this.props.piece.transform.rotation % 2 === 0 ? (cov_1rqcdrfc2l().b[1][0]++, this.props.piece.transform.rotation) : (cov_1rqcdrfc2l().b[1][1]++, (this.props.piece.transform.rotation + 2) % 4)\n        }),\n        data: flipPieceX(this.props.piece.data)\n      }));\n    }\n  }, {\n    key: \"select\",\n    value: function select(offset) {\n      cov_1rqcdrfc2l().f[3]++;\n      var playerID = (cov_1rqcdrfc2l().s[9]++, getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer));\n      var index = (cov_1rqcdrfc2l().s[10]++, (this.props.piece.index + offset) % this.props.G.players[playerID].pieces.length);\n      cov_1rqcdrfc2l().s[11]++;\n      this.props.modifyPiece(_objectSpread({}, this.props.piece, {\n        index: index,\n        data: pieces[this.props.G.players[playerID].pieces[index]],\n        transform: _objectSpread({}, this.props.piece.transform, {\n          flipX: false,\n          flipY: false,\n          rotation: 0\n        })\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      cov_1rqcdrfc2l().f[4]++;\n      cov_1rqcdrfc2l().s[12]++;\n      return __jsx(\"div\", {\n        className: css.Controls\n      }, __jsx(IconButton, {\n        onClick: function onClick() {\n          cov_1rqcdrfc2l().f[5]++;\n          cov_1rqcdrfc2l().s[13]++;\n          return _this2.rotate(3);\n        },\n        id: \"rotate-left\"\n      }, __jsx(RotateLeft, null)), __jsx(IconButton, {\n        onClick: function onClick() {\n          cov_1rqcdrfc2l().f[6]++;\n          cov_1rqcdrfc2l().s[14]++;\n          return _this2.rotate(1);\n        },\n        id: \"rotate-right\"\n      }, __jsx(RotateRight, null)), __jsx(IconButton, {\n        onClick: this._flipY,\n        style: {\n          transform: 'rotate(90deg)'\n        },\n        id: \"flip-y\"\n      }, __jsx(Flip, null)), __jsx(IconButton, {\n        onClick: this._flipX,\n        id: \"flip-x\"\n      }, __jsx(Flip, null)), __jsx(IconButton, {\n        onClick: function onClick() {\n          cov_1rqcdrfc2l().f[7]++;\n          cov_1rqcdrfc2l().s[15]++;\n          return _this2.select(_this2.props.G.players[getPlayer(_this2.props.ctx, _this2.props.G, _this2.props.ctx.currentPlayer)].pieces.length - 1);\n        },\n        id: \"select-prev\"\n      }, __jsx(ChevronLeft, null)), __jsx(IconButton, {\n        onClick: function onClick() {\n          cov_1rqcdrfc2l().f[8]++;\n          cov_1rqcdrfc2l().s[16]++;\n          return _this2.select(1);\n        },\n        id: \"select-next\"\n      }, __jsx(ChevronRight, null)), __jsx(IconButton, {\n        onClick: this.props.placePiece,\n        id: \"place\",\n        disabled: !this.props.validTransform,\n        style: {\n          opacity: this.props.validTransform ? (cov_1rqcdrfc2l().b[2][0]++, 1) : (cov_1rqcdrfc2l().b[2][1]++, 0.5)\n        }\n      }, __jsx(Done, null)));\n    }\n  }]);\n\n  return Controls;\n}((React.Component));\n\nexport { Controls as default };","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/games/cornerus/Controls.tsx"],"names":["React","rotatePiece","flipPieceY","flipPieceX","getPlayer","pieces","Done","RotateLeft","RotateRight","Flip","ChevronLeft","ChevronRight","IconButton","css","Controls","flipY","bind","flipX","n","data","props","piece","i","modifyPiece","transform","rotation","offset","playerID","ctx","G","currentPlayer","index","players","length","rotate","_flipY","_flipX","select","placePiece","validTransform","opacity","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAIA,SAAaC,WAAb,EAA0BC,UAA1B,EAAsCC,UAAtC,EAAkDC,SAAlD,QAAmE,QAAnE;AAEA,SAASC,MAAT,QAAuB,UAAvB;AAEA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,UAAP,MAAuB,+BAAvB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,WAAP,MAAwB,gCAAxB;AACA,OAAOC,YAAP,MAAyB,iCAAzB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AAEA,OAAOC,GAAP,MAAgB,gBAAhB;;IAWqBC,Q;;;;;;;;;;;;;;;;uFACV,MAAKC,KAAL,CAAWC,IAAX,+B;;uFACA,MAAKC,KAAL,CAAWD,IAAX,+B;;;;;;;2BAEFE,C,EAAW;AAAA;AAChB,UAAIC,IAAI,6BAAGlB,WAAW,CAAC,KAAKmB,KAAL,CAAWC,KAAX,CAAiBF,IAAlB,CAAd,CAAR;AADgB;;AAEhB,WAAK,IAAIG,CAAC,6BAAG,CAAH,CAAV,EAAgBA,CAAC,GAAGJ,CAAC,GAAG,CAAxB,EAA2BI,CAAC,EAA5B,EAAgC;AAAA;AAC9BH,QAAAA,IAAI,GAAGlB,WAAW,CAACkB,IAAD,CAAlB;AACD;;AAJe;AAMhB,WAAKC,KAAL,CAAWG,WAAX,mBACK,KAAKH,KAAL,CAAWC,KADhB;AAEEG,QAAAA,SAAS,oBACJ,KAAKJ,KAAL,CAAWC,KAAX,CAAiBG,SADb;AAEPC,UAAAA,QAAQ,EAAE,CAAC,KAAKL,KAAL,CAAWC,KAAX,CAAiBG,SAAjB,CAA2BC,QAA3B,GAAsCP,CAAvC,IAA4C;AAF/C,UAFX;AAMEC,QAAAA,IAAI,EAAJA;AANF;AAQD;;;4BAEO;AAAA;AAAA;AACN,WAAKC,KAAL,CAAWG,WAAX,mBACK,KAAKH,KAAL,CAAWC,KADhB;AAEEG,QAAAA,SAAS,oBACJ,KAAKJ,KAAL,CAAWC,KAAX,CAAiBG,SADb;AAEPT,UAAAA,KAAK,EAAE,CAAC,KAAKK,KAAL,CAAWC,KAAX,CAAiBG,SAAjB,CAA2BT,KAF5B;AAGPU,UAAAA,QAAQ,EACN,KAAKL,KAAL,CAAWC,KAAX,CAAiBG,SAAjB,CAA2BC,QAA3B,GAAsC,CAAtC,KAA4C,CAA5C,gCACI,KAAKL,KAAL,CAAWC,KAAX,CAAiBG,SAAjB,CAA2BC,QAD/B,iCAEI,CAAC,KAAKL,KAAL,CAAWC,KAAX,CAAiBG,SAAjB,CAA2BC,QAA3B,GAAsC,CAAvC,IAA4C,CAFhD;AAJK,UAFX;AAUEN,QAAAA,IAAI,EAAEjB,UAAU,CAAC,KAAKkB,KAAL,CAAWC,KAAX,CAAiBF,IAAlB;AAVlB;AAYD;;;4BAEO;AAAA;AAAA;AACN,WAAKC,KAAL,CAAWG,WAAX,mBACK,KAAKH,KAAL,CAAWC,KADhB;AAEEG,QAAAA,SAAS,oBACJ,KAAKJ,KAAL,CAAWC,KAAX,CAAiBG,SADb;AAEPP,UAAAA,KAAK,EAAE,CAAC,KAAKG,KAAL,CAAWC,KAAX,CAAiBG,SAAjB,CAA2BP,KAF5B;AAGPQ,UAAAA,QAAQ,EACN,KAAKL,KAAL,CAAWC,KAAX,CAAiBG,SAAjB,CAA2BC,QAA3B,GAAsC,CAAtC,KAA4C,CAA5C,gCACI,KAAKL,KAAL,CAAWC,KAAX,CAAiBG,SAAjB,CAA2BC,QAD/B,iCAEI,CAAC,KAAKL,KAAL,CAAWC,KAAX,CAAiBG,SAAjB,CAA2BC,QAA3B,GAAsC,CAAvC,IAA4C,CAFhD;AAJK,UAFX;AAUEN,QAAAA,IAAI,EAAEhB,UAAU,CAAC,KAAKiB,KAAL,CAAWC,KAAX,CAAiBF,IAAlB;AAVlB;AAYD;;;2BAEMO,M,EAAgB;AAAA;AACrB,UAAMC,QAAQ,6BAAGvB,SAAS,CAAC,KAAKgB,KAAL,CAAWQ,GAAZ,EAAiB,KAAKR,KAAL,CAAWS,CAA5B,EAA+B,KAAKT,KAAL,CAAWQ,GAAX,CAAeE,aAA9C,CAAZ,CAAd;AACA,UAAMC,KAAK,8BAAG,CAAC,KAAKX,KAAL,CAAWC,KAAX,CAAiBU,KAAjB,GAAyBL,MAA1B,IAAoC,KAAKN,KAAL,CAAWS,CAAX,CAAaG,OAAb,CAAqBL,QAArB,EAAsCtB,MAAtC,CAA6C4B,MAApF,CAAX;AAFqB;AAGrB,WAAKb,KAAL,CAAWG,WAAX,mBACK,KAAKH,KAAL,CAAWC,KADhB;AAEEU,QAAAA,KAAK,EAALA,KAFF;AAGEZ,QAAAA,IAAI,EAAEd,MAAM,CAAC,KAAKe,KAAL,CAAWS,CAAX,CAAaG,OAAb,CAAqBL,QAArB,EAAsCtB,MAAtC,CAA6C0B,KAA7C,CAAD,CAHd;AAIEP,QAAAA,SAAS,oBAAO,KAAKJ,KAAL,CAAWC,KAAX,CAAiBG,SAAxB;AAAmCP,UAAAA,KAAK,EAAE,KAA1C;AAAiDF,UAAAA,KAAK,EAAE,KAAxD;AAA+DU,UAAAA,QAAQ,EAAE;AAAzE;AAJX;AAMD;;;6BAEQ;AAAA;;AAAA;AAAA;AACP,aACE;AAAK,QAAA,SAAS,EAAEZ,GAAG,CAACC;AAApB,SACE,MAAC,UAAD;AAAY,QAAA,OAAO,EAAE,mBAAM;AAAA;AAAA;AAAA,iBAAA,MAAI,CAACoB,MAAL,CAAY,CAAZ;AAAc,SAAzC;AAA2C,QAAA,EAAE,EAAC;AAA9C,SACE,MAAC,UAAD,OADF,CADF,EAIE,MAAC,UAAD;AAAY,QAAA,OAAO,EAAE,mBAAM;AAAA;AAAA;AAAA,iBAAA,MAAI,CAACA,MAAL,CAAY,CAAZ;AAAc,SAAzC;AAA2C,QAAA,EAAE,EAAC;AAA9C,SACE,MAAC,WAAD,OADF,CAJF,EAOE,MAAC,UAAD;AAAY,QAAA,OAAO,EAAE,KAAKC,MAA1B;AAAkC,QAAA,KAAK,EAAE;AAAEX,UAAAA,SAAS,EAAE;AAAb,SAAzC;AAAyE,QAAA,EAAE,EAAC;AAA5E,SACE,MAAC,IAAD,OADF,CAPF,EAUE,MAAC,UAAD;AAAY,QAAA,OAAO,EAAE,KAAKY,MAA1B;AAAkC,QAAA,EAAE,EAAC;AAArC,SACE,MAAC,IAAD,OADF,CAVF,EAaE,MAAC,UAAD;AACE,QAAA,OAAO,EAAE,mBACP;AAAA;AAAA;AAAA,iBAAA,MAAI,CAACC,MAAL,CACE,MAAI,CAACjB,KAAL,CAAWS,CAAX,CAAaG,OAAb,CAAqB5B,SAAS,CAAC,MAAI,CAACgB,KAAL,CAAWQ,GAAZ,EAAiB,MAAI,CAACR,KAAL,CAAWS,CAA5B,EAA+B,MAAI,CAACT,KAAL,CAAWQ,GAAX,CAAeE,aAA9C,CAA9B,EAAmGzB,MAAnG,CACG4B,MADH,GACY,CAFd;AAGC,SALL;AAOE,QAAA,EAAE,EAAC;AAPL,SASE,MAAC,WAAD,OATF,CAbF,EAwBE,MAAC,UAAD;AAAY,QAAA,OAAO,EAAE,mBAAM;AAAA;AAAA;AAAA,iBAAA,MAAI,CAACI,MAAL,CAAY,CAAZ;AAAc,SAAzC;AAA2C,QAAA,EAAE,EAAC;AAA9C,SACE,MAAC,YAAD,OADF,CAxBF,EA2BE,MAAC,UAAD;AACE,QAAA,OAAO,EAAE,KAAKjB,KAAL,CAAWkB,UADtB;AAEE,QAAA,EAAE,EAAC,OAFL;AAGE,QAAA,QAAQ,EAAE,CAAC,KAAKlB,KAAL,CAAWmB,cAHxB;AAIE,QAAA,KAAK,EAAE;AAAEC,UAAAA,OAAO,EAAE,KAAKpB,KAAL,CAAWmB,cAAX,gCAA4B,CAA5B,iCAAgC,GAAhC;AAAX;AAJT,SAME,MAAC,IAAD,OANF,CA3BF,CADF;AAsCD;;;;GApGmCvC,KAAK,CAACyC,S;;SAAvB3B,Q","sourcesContent":["import React from 'react';\n\nimport { IGameCtx } from 'boardgame.io/core';\n\nimport { IG, rotatePiece, flipPieceY, flipPieceX, getPlayer } from './game';\nimport { IPiece } from './board';\nimport { pieces } from './pieces';\n\nimport Done from '@material-ui/icons/Done';\nimport RotateLeft from '@material-ui/icons/RotateLeft';\nimport RotateRight from '@material-ui/icons/RotateRight';\nimport Flip from '@material-ui/icons/Flip';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport css from './Controls.css';\n\ninterface IControlsProps {\n  placePiece: () => void;\n  modifyPiece: (piece: IPiece) => void;\n  validTransform: boolean;\n  piece: IPiece;\n  G: IG;\n  ctx: IGameCtx;\n}\n\nexport default class Controls extends React.Component<IControlsProps, {}> {\n  _flipY = this.flipY.bind(this);\n  _flipX = this.flipX.bind(this);\n\n  rotate(n: number) {\n    let data = rotatePiece(this.props.piece.data);\n    for (let i = 0; i < n - 1; i++) {\n      data = rotatePiece(data);\n    }\n\n    this.props.modifyPiece({\n      ...this.props.piece,\n      transform: {\n        ...this.props.piece.transform,\n        rotation: (this.props.piece.transform.rotation + n) % 4,\n      },\n      data,\n    });\n  }\n\n  flipY() {\n    this.props.modifyPiece({\n      ...this.props.piece,\n      transform: {\n        ...this.props.piece.transform,\n        flipY: !this.props.piece.transform.flipY,\n        rotation:\n          this.props.piece.transform.rotation % 2 === 0\n            ? this.props.piece.transform.rotation\n            : (this.props.piece.transform.rotation + 2) % 4,\n      },\n      data: flipPieceY(this.props.piece.data),\n    });\n  }\n\n  flipX() {\n    this.props.modifyPiece({\n      ...this.props.piece,\n      transform: {\n        ...this.props.piece.transform,\n        flipX: !this.props.piece.transform.flipX,\n        rotation:\n          this.props.piece.transform.rotation % 2 === 0\n            ? this.props.piece.transform.rotation\n            : (this.props.piece.transform.rotation + 2) % 4,\n      },\n      data: flipPieceX(this.props.piece.data),\n    });\n  }\n\n  select(offset: number) {\n    const playerID = getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer);\n    const index = (this.props.piece.index + offset) % this.props.G.players[playerID as any].pieces.length;\n    this.props.modifyPiece({\n      ...this.props.piece,\n      index,\n      data: pieces[this.props.G.players[playerID as any].pieces[index]],\n      transform: { ...this.props.piece.transform, flipX: false, flipY: false, rotation: 0 },\n    });\n  }\n\n  render() {\n    return (\n      <div className={css.Controls}>\n        <IconButton onClick={() => this.rotate(3)} id=\"rotate-left\">\n          <RotateLeft />\n        </IconButton>\n        <IconButton onClick={() => this.rotate(1)} id=\"rotate-right\">\n          <RotateRight />\n        </IconButton>\n        <IconButton onClick={this._flipY} style={{ transform: 'rotate(90deg)' }} id=\"flip-y\">\n          <Flip />\n        </IconButton>\n        <IconButton onClick={this._flipX} id=\"flip-x\">\n          <Flip />\n        </IconButton>\n        <IconButton\n          onClick={() =>\n            this.select(\n              this.props.G.players[getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer) as any].pieces\n                .length - 1,\n            )\n          }\n          id=\"select-prev\"\n        >\n          <ChevronLeft />\n        </IconButton>\n        <IconButton onClick={() => this.select(1)} id=\"select-next\">\n          <ChevronRight />\n        </IconButton>\n        <IconButton\n          onClick={this.props.placePiece}\n          id=\"place\"\n          disabled={!this.props.validTransform}\n          style={{ opacity: this.props.validTransform ? 1 : 0.5 }}\n        >\n          <Done />\n        </IconButton>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}