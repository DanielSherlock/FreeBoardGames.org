{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction cov_2luprcp72b() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/pages/room/[gameCode]/[roomID]/Room.tsx\";\n  var hash = \"cca8f878d9c159a13983c579cf68d89673e6aa4e\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/pages/room/[gameCode]/[roomID]/Room.tsx\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 16,\n          column: 37\n        },\n        end: {\n          line: 16,\n          column: 41\n        }\n      },\n      \"1\": {\n        start: {\n          line: 36,\n          column: 22\n        },\n        end: {\n          line: 43,\n          column: 3\n        }\n      },\n      \"2\": {\n        start: {\n          line: 48,\n          column: 4\n        },\n        end: {\n          line: 48,\n          column: 17\n        }\n      },\n      \"3\": {\n        start: {\n          line: 49,\n          column: 4\n        },\n        end: {\n          line: 49,\n          column: 63\n        }\n      },\n      \"4\": {\n        start: {\n          line: 53,\n          column: 4\n        },\n        end: {\n          line: 53,\n          column: 68\n        }\n      },\n      \"5\": {\n        start: {\n          line: 54,\n          column: 4\n        },\n        end: {\n          line: 54,\n          column: 64\n        }\n      },\n      \"6\": {\n        start: {\n          line: 54,\n          column: 35\n        },\n        end: {\n          line: 54,\n          column: 56\n        }\n      },\n      \"7\": {\n        start: {\n          line: 55,\n          column: 4\n        },\n        end: {\n          line: 55,\n          column: 30\n        }\n      },\n      \"8\": {\n        start: {\n          line: 59,\n          column: 21\n        },\n        end: {\n          line: 59,\n          column: 47\n        }\n      },\n      \"9\": {\n        start: {\n          line: 60,\n          column: 4\n        },\n        end: {\n          line: 62,\n          column: 5\n        }\n      },\n      \"10\": {\n        start: {\n          line: 61,\n          column: 6\n        },\n        end: {\n          line: 61,\n          column: 76\n        }\n      },\n      \"11\": {\n        start: {\n          line: 63,\n          column: 4\n        },\n        end: {\n          line: 71,\n          column: 5\n        }\n      },\n      \"12\": {\n        start: {\n          line: 65,\n          column: 8\n        },\n        end: {\n          line: 68,\n          column: 17\n        }\n      },\n      \"13\": {\n        start: {\n          line: 70,\n          column: 6\n        },\n        end: {\n          line: 70,\n          column: 98\n        }\n      },\n      \"14\": {\n        start: {\n          line: 72,\n          column: 4\n        },\n        end: {\n          line: 74,\n          column: 5\n        }\n      },\n      \"15\": {\n        start: {\n          line: 73,\n          column: 6\n        },\n        end: {\n          line: 73,\n          column: 69\n        }\n      },\n      \"16\": {\n        start: {\n          line: 75,\n          column: 4\n        },\n        end: {\n          line: 78,\n          column: 5\n        }\n      },\n      \"17\": {\n        start: {\n          line: 76,\n          column: 19\n        },\n        end: {\n          line: 76,\n          column: 42\n        }\n      },\n      \"18\": {\n        start: {\n          line: 77,\n          column: 6\n        },\n        end: {\n          line: 77,\n          column: 34\n        }\n      },\n      \"19\": {\n        start: {\n          line: 79,\n          column: 27\n        },\n        end: {\n          line: 81,\n          column: 12\n        }\n      },\n      \"20\": {\n        start: {\n          line: 82,\n          column: 4\n        },\n        end: {\n          line: 89,\n          column: 6\n        }\n      },\n      \"21\": {\n        start: {\n          line: 92,\n          column: 19\n        },\n        end: {\n          line: 140,\n          column: 3\n        }\n      },\n      \"22\": {\n        start: {\n          line: 93,\n          column: 21\n        },\n        end: {\n          line: 93,\n          column: 63\n        }\n      },\n      \"23\": {\n        start: {\n          line: 94,\n          column: 19\n        },\n        end: {\n          line: 94,\n          column: 59\n        }\n      },\n      \"24\": {\n        start: {\n          line: 95,\n          column: 4\n        },\n        end: {\n          line: 99,\n          column: 5\n        }\n      },\n      \"25\": {\n        start: {\n          line: 96,\n          column: 6\n        },\n        end: {\n          line: 98,\n          column: 7\n        }\n      },\n      \"26\": {\n        start: {\n          line: 97,\n          column: 8\n        },\n        end: {\n          line: 97,\n          column: 15\n        }\n      },\n      \"27\": {\n        start: {\n          line: 100,\n          column: 4\n        },\n        end: {\n          line: 102,\n          column: 5\n        }\n      },\n      \"28\": {\n        start: {\n          line: 101,\n          column: 6\n        },\n        end: {\n          line: 101,\n          column: 13\n        }\n      },\n      \"29\": {\n        start: {\n          line: 103,\n          column: 4\n        },\n        end: {\n          line: 107,\n          column: 5\n        }\n      },\n      \"30\": {\n        start: {\n          line: 104,\n          column: 20\n        },\n        end: {\n          line: 104,\n          column: 64\n        }\n      },\n      \"31\": {\n        start: {\n          line: 105,\n          column: 6\n        },\n        end: {\n          line: 105,\n          column: 60\n        }\n      },\n      \"32\": {\n        start: {\n          line: 105,\n          column: 35\n        },\n        end: {\n          line: 105,\n          column: 57\n        }\n      },\n      \"33\": {\n        start: {\n          line: 106,\n          column: 6\n        },\n        end: {\n          line: 106,\n          column: 13\n        }\n      },\n      \"34\": {\n        start: {\n          line: 108,\n          column: 4\n        },\n        end: {\n          line: 111,\n          column: 8\n        }\n      },\n      \"35\": {\n        start: {\n          line: 108,\n          column: 33\n        },\n        end: {\n          line: 111,\n          column: 5\n        }\n      },\n      \"36\": {\n        start: {\n          line: 112,\n          column: 4\n        },\n        end: {\n          line: 139,\n          column: 8\n        }\n      },\n      \"37\": {\n        start: {\n          line: 114,\n          column: 8\n        },\n        end: {\n          line: 122,\n          column: 9\n        }\n      },\n      \"38\": {\n        start: {\n          line: 115,\n          column: 40\n        },\n        end: {\n          line: 119,\n          column: 11\n        }\n      },\n      \"39\": {\n        start: {\n          line: 120,\n          column: 10\n        },\n        end: {\n          line: 120,\n          column: 56\n        }\n      },\n      \"40\": {\n        start: {\n          line: 121,\n          column: 10\n        },\n        end: {\n          line: 121,\n          column: 64\n        }\n      },\n      \"41\": {\n        start: {\n          line: 123,\n          column: 8\n        },\n        end: {\n          line: 123,\n          column: 24\n        }\n      },\n      \"42\": {\n        start: {\n          line: 127,\n          column: 10\n        },\n        end: {\n          line: 130,\n          column: 11\n        }\n      },\n      \"43\": {\n        start: {\n          line: 128,\n          column: 12\n        },\n        end: {\n          line: 128,\n          column: 76\n        }\n      },\n      \"44\": {\n        start: {\n          line: 128,\n          column: 41\n        },\n        end: {\n          line: 128,\n          column: 73\n        }\n      },\n      \"45\": {\n        start: {\n          line: 129,\n          column: 12\n        },\n        end: {\n          line: 129,\n          column: 37\n        }\n      },\n      \"46\": {\n        start: {\n          line: 131,\n          column: 10\n        },\n        end: {\n          line: 131,\n          column: 97\n        }\n      },\n      \"47\": {\n        start: {\n          line: 131,\n          column: 39\n        },\n        end: {\n          line: 131,\n          column: 94\n        }\n      },\n      \"48\": {\n        start: {\n          line: 132,\n          column: 10\n        },\n        end: {\n          line: 132,\n          column: 26\n        }\n      },\n      \"49\": {\n        start: {\n          line: 135,\n          column: 24\n        },\n        end: {\n          line: 135,\n          column: 56\n        }\n      },\n      \"50\": {\n        start: {\n          line: 136,\n          column: 10\n        },\n        end: {\n          line: 136,\n          column: 35\n        }\n      },\n      \"51\": {\n        start: {\n          line: 137,\n          column: 10\n        },\n        end: {\n          line: 137,\n          column: 64\n        }\n      },\n      \"52\": {\n        start: {\n          line: 137,\n          column: 39\n        },\n        end: {\n          line: 137,\n          column: 61\n        }\n      },\n      \"53\": {\n        start: {\n          line: 142,\n          column: 19\n        },\n        end: {\n          line: 145,\n          column: 3\n        }\n      },\n      \"54\": {\n        start: {\n          line: 143,\n          column: 25\n        },\n        end: {\n          line: 143,\n          column: 80\n        }\n      },\n      \"55\": {\n        start: {\n          line: 144,\n          column: 4\n        },\n        end: {\n          line: 144,\n          column: 106\n        }\n      },\n      \"56\": {\n        start: {\n          line: 147,\n          column: 23\n        },\n        end: {\n          line: 149,\n          column: 3\n        }\n      },\n      \"57\": {\n        start: {\n          line: 148,\n          column: 4\n        },\n        end: {\n          line: 148,\n          column: 89\n        }\n      },\n      \"58\": {\n        start: {\n          line: 148,\n          column: 33\n        },\n        end: {\n          line: 148,\n          column: 86\n        }\n      },\n      \"59\": {\n        start: {\n          line: 151,\n          column: 17\n        },\n        end: {\n          line: 159,\n          column: 3\n        }\n      },\n      \"60\": {\n        start: {\n          line: 152,\n          column: 4\n        },\n        end: {\n          line: 152,\n          column: 39\n        }\n      },\n      \"61\": {\n        start: {\n          line: 153,\n          column: 4\n        },\n        end: {\n          line: 157,\n          column: 5\n        }\n      },\n      \"62\": {\n        start: {\n          line: 154,\n          column: 19\n        },\n        end: {\n          line: 154,\n          column: 42\n        }\n      },\n      \"63\": {\n        start: {\n          line: 155,\n          column: 6\n        },\n        end: {\n          line: 155,\n          column: 73\n        }\n      },\n      \"64\": {\n        start: {\n          line: 156,\n          column: 6\n        },\n        end: {\n          line: 156,\n          column: 32\n        }\n      },\n      \"65\": {\n        start: {\n          line: 158,\n          column: 4\n        },\n        end: {\n          line: 158,\n          column: 26\n        }\n      },\n      \"66\": {\n        start: {\n          line: 162,\n          column: 4\n        },\n        end: {\n          line: 162,\n          column: 29\n        }\n      },\n      \"67\": {\n        start: {\n          line: 163,\n          column: 4\n        },\n        end: {\n          line: 163,\n          column: 71\n        }\n      },\n      \"68\": {\n        start: {\n          line: 166,\n          column: 22\n        },\n        end: {\n          line: 169,\n          column: 3\n        }\n      },\n      \"69\": {\n        start: {\n          line: 167,\n          column: 4\n        },\n        end: {\n          line: 167,\n          column: 30\n        }\n      },\n      \"70\": {\n        start: {\n          line: 168,\n          column: 4\n        },\n        end: {\n          line: 168,\n          column: 27\n        }\n      },\n      \"71\": {\n        start: {\n          line: 171,\n          column: 20\n        },\n        end: {\n          line: 175,\n          column: 3\n        }\n      },\n      \"72\": {\n        start: {\n          line: 172,\n          column: 21\n        },\n        end: {\n          line: 172,\n          column: 63\n        }\n      },\n      \"73\": {\n        start: {\n          line: 173,\n          column: 19\n        },\n        end: {\n          line: 173,\n          column: 59\n        }\n      },\n      \"74\": {\n        start: {\n          line: 174,\n          column: 4\n        },\n        end: {\n          line: 174,\n          column: 102\n        }\n      },\n      \"75\": {\n        start: {\n          line: 177,\n          column: 14\n        },\n        end: {\n          line: 181,\n          column: 3\n        }\n      },\n      \"76\": {\n        start: {\n          line: 178,\n          column: 4\n        },\n        end: {\n          line: 178,\n          column: 62\n        }\n      },\n      \"77\": {\n        start: {\n          line: 178,\n          column: 33\n        },\n        end: {\n          line: 178,\n          column: 59\n        }\n      },\n      \"78\": {\n        start: {\n          line: 179,\n          column: 4\n        },\n        end: {\n          line: 179,\n          column: 26\n        }\n      },\n      \"79\": {\n        start: {\n          line: 180,\n          column: 4\n        },\n        end: {\n          line: 180,\n          column: 64\n        }\n      },\n      \"80\": {\n        start: {\n          line: 180,\n          column: 35\n        },\n        end: {\n          line: 180,\n          column: 56\n        }\n      },\n      \"81\": {\n        start: {\n          line: 184,\n          column: 23\n        },\n        end: {\n          line: 187,\n          column: 1\n        }\n      },\n      \"82\": {\n        start: {\n          line: 185,\n          column: 17\n        },\n        end: {\n          line: 185,\n          column: 28\n        }\n      },\n      \"83\": {\n        start: {\n          line: 186,\n          column: 2\n        },\n        end: {\n          line: 186,\n          column: 45\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 47,\n            column: 2\n          },\n          end: {\n            line: 47,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 47,\n            column: 21\n          },\n          end: {\n            line: 50,\n            column: 3\n          }\n        },\n        line: 47\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 52,\n            column: 2\n          },\n          end: {\n            line: 52,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 52,\n            column: 22\n          },\n          end: {\n            line: 56,\n            column: 3\n          }\n        },\n        line: 52\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 54,\n            column: 29\n          },\n          end: {\n            line: 54,\n            column: 30\n          }\n        },\n        loc: {\n          start: {\n            line: 54,\n            column: 35\n          },\n          end: {\n            line: 54,\n            column: 56\n          }\n        },\n        line: 54\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 58,\n            column: 2\n          },\n          end: {\n            line: 58,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 58,\n            column: 11\n          },\n          end: {\n            line: 90,\n            column: 3\n          }\n        },\n        line: 58\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 92,\n            column: 19\n          },\n          end: {\n            line: 92,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 92,\n            column: 43\n          },\n          end: {\n            line: 140,\n            column: 3\n          }\n        },\n        line: 92\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 105,\n            column: 20\n          },\n          end: {\n            line: 105,\n            column: 21\n          }\n        },\n        loc: {\n          start: {\n            line: 105,\n            column: 35\n          },\n          end: {\n            line: 105,\n            column: 57\n          }\n        },\n        line: 105\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 108,\n            column: 18\n          },\n          end: {\n            line: 108,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 108,\n            column: 33\n          },\n          end: {\n            line: 111,\n            column: 5\n          }\n        },\n        line: 108\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 113,\n            column: 12\n          },\n          end: {\n            line: 113,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 113,\n            column: 32\n          },\n          end: {\n            line: 124,\n            column: 7\n          }\n        },\n        line: 113\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 126,\n            column: 8\n          },\n          end: {\n            line: 126,\n            column: 9\n          }\n        },\n        loc: {\n          start: {\n            line: 126,\n            column: 22\n          },\n          end: {\n            line: 133,\n            column: 9\n          }\n        },\n        line: 126\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 128,\n            column: 26\n          },\n          end: {\n            line: 128,\n            column: 27\n          }\n        },\n        loc: {\n          start: {\n            line: 128,\n            column: 41\n          },\n          end: {\n            line: 128,\n            column: 73\n          }\n        },\n        line: 128\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 131,\n            column: 24\n          },\n          end: {\n            line: 131,\n            column: 25\n          }\n        },\n        loc: {\n          start: {\n            line: 131,\n            column: 39\n          },\n          end: {\n            line: 131,\n            column: 94\n          }\n        },\n        line: 131\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 134,\n            column: 8\n          },\n          end: {\n            line: 134,\n            column: 9\n          }\n        },\n        loc: {\n          start: {\n            line: 134,\n            column: 14\n          },\n          end: {\n            line: 138,\n            column: 9\n          }\n        },\n        line: 134\n      },\n      \"12\": {\n        name: \"(anonymous_12)\",\n        decl: {\n          start: {\n            line: 137,\n            column: 24\n          },\n          end: {\n            line: 137,\n            column: 25\n          }\n        },\n        loc: {\n          start: {\n            line: 137,\n            column: 39\n          },\n          end: {\n            line: 137,\n            column: 61\n          }\n        },\n        line: 137\n      },\n      \"13\": {\n        name: \"(anonymous_13)\",\n        decl: {\n          start: {\n            line: 142,\n            column: 19\n          },\n          end: {\n            line: 142,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 142,\n            column: 38\n          },\n          end: {\n            line: 145,\n            column: 3\n          }\n        },\n        line: 142\n      },\n      \"14\": {\n        name: \"(anonymous_14)\",\n        decl: {\n          start: {\n            line: 147,\n            column: 23\n          },\n          end: {\n            line: 147,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 147,\n            column: 29\n          },\n          end: {\n            line: 149,\n            column: 3\n          }\n        },\n        line: 147\n      },\n      \"15\": {\n        name: \"(anonymous_15)\",\n        decl: {\n          start: {\n            line: 148,\n            column: 18\n          },\n          end: {\n            line: 148,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 148,\n            column: 33\n          },\n          end: {\n            line: 148,\n            column: 86\n          }\n        },\n        line: 148\n      },\n      \"16\": {\n        name: \"(anonymous_16)\",\n        decl: {\n          start: {\n            line: 151,\n            column: 17\n          },\n          end: {\n            line: 151,\n            column: 18\n          }\n        },\n        loc: {\n          start: {\n            line: 151,\n            column: 39\n          },\n          end: {\n            line: 159,\n            column: 3\n          }\n        },\n        line: 151\n      },\n      \"17\": {\n        name: \"(anonymous_17)\",\n        decl: {\n          start: {\n            line: 161,\n            column: 2\n          },\n          end: {\n            line: 161,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 161,\n            column: 25\n          },\n          end: {\n            line: 164,\n            column: 3\n          }\n        },\n        line: 161\n      },\n      \"18\": {\n        name: \"(anonymous_18)\",\n        decl: {\n          start: {\n            line: 166,\n            column: 22\n          },\n          end: {\n            line: 166,\n            column: 23\n          }\n        },\n        loc: {\n          start: {\n            line: 166,\n            column: 28\n          },\n          end: {\n            line: 169,\n            column: 3\n          }\n        },\n        line: 166\n      },\n      \"19\": {\n        name: \"(anonymous_19)\",\n        decl: {\n          start: {\n            line: 171,\n            column: 20\n          },\n          end: {\n            line: 171,\n            column: 21\n          }\n        },\n        loc: {\n          start: {\n            line: 171,\n            column: 26\n          },\n          end: {\n            line: 175,\n            column: 3\n          }\n        },\n        line: 171\n      },\n      \"20\": {\n        name: \"(anonymous_20)\",\n        decl: {\n          start: {\n            line: 177,\n            column: 14\n          },\n          end: {\n            line: 177,\n            column: 15\n          }\n        },\n        loc: {\n          start: {\n            line: 177,\n            column: 20\n          },\n          end: {\n            line: 181,\n            column: 3\n          }\n        },\n        line: 177\n      },\n      \"21\": {\n        name: \"(anonymous_21)\",\n        decl: {\n          start: {\n            line: 178,\n            column: 18\n          },\n          end: {\n            line: 178,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 178,\n            column: 33\n          },\n          end: {\n            line: 178,\n            column: 59\n          }\n        },\n        line: 178\n      },\n      \"22\": {\n        name: \"(anonymous_22)\",\n        decl: {\n          start: {\n            line: 180,\n            column: 29\n          },\n          end: {\n            line: 180,\n            column: 30\n          }\n        },\n        loc: {\n          start: {\n            line: 180,\n            column: 35\n          },\n          end: {\n            line: 180,\n            column: 56\n          }\n        },\n        line: 180\n      },\n      \"23\": {\n        name: \"(anonymous_23)\",\n        decl: {\n          start: {\n            line: 184,\n            column: 23\n          },\n          end: {\n            line: 184,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 184,\n            column: 34\n          },\n          end: {\n            line: 187,\n            column: 1\n          }\n        },\n        line: 184\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        }],\n        line: 60\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 63,\n            column: 4\n          },\n          end: {\n            line: 71,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 63,\n            column: 4\n          },\n          end: {\n            line: 71,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 63,\n            column: 4\n          },\n          end: {\n            line: 71,\n            column: 5\n          }\n        }],\n        line: 63\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 72,\n            column: 4\n          },\n          end: {\n            line: 74,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 72,\n            column: 4\n          },\n          end: {\n            line: 74,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 72,\n            column: 4\n          },\n          end: {\n            line: 74,\n            column: 5\n          }\n        }],\n        line: 72\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 75,\n            column: 4\n          },\n          end: {\n            line: 78,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 75,\n            column: 4\n          },\n          end: {\n            line: 78,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 75,\n            column: 4\n          },\n          end: {\n            line: 78,\n            column: 5\n          }\n        }],\n        line: 75\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 79,\n            column: 27\n          },\n          end: {\n            line: 81,\n            column: 12\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 80,\n            column: 6\n          },\n          end: {\n            line: 80,\n            column: 94\n          }\n        }, {\n          start: {\n            line: 81,\n            column: 8\n          },\n          end: {\n            line: 81,\n            column: 12\n          }\n        }],\n        line: 79\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 95,\n            column: 4\n          },\n          end: {\n            line: 99,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 95,\n            column: 4\n          },\n          end: {\n            line: 99,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 95,\n            column: 4\n          },\n          end: {\n            line: 99,\n            column: 5\n          }\n        }],\n        line: 95\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 96,\n            column: 6\n          },\n          end: {\n            line: 98,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 96,\n            column: 6\n          },\n          end: {\n            line: 98,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 96,\n            column: 6\n          },\n          end: {\n            line: 98,\n            column: 7\n          }\n        }],\n        line: 96\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 100,\n            column: 4\n          },\n          end: {\n            line: 102,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 100,\n            column: 4\n          },\n          end: {\n            line: 102,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 100,\n            column: 4\n          },\n          end: {\n            line: 102,\n            column: 5\n          }\n        }],\n        line: 100\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 103,\n            column: 4\n          },\n          end: {\n            line: 107,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 103,\n            column: 4\n          },\n          end: {\n            line: 107,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 103,\n            column: 4\n          },\n          end: {\n            line: 107,\n            column: 5\n          }\n        }],\n        line: 103\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 114,\n            column: 8\n          },\n          end: {\n            line: 122,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 114,\n            column: 8\n          },\n          end: {\n            line: 122,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 114,\n            column: 8\n          },\n          end: {\n            line: 122,\n            column: 9\n          }\n        }],\n        line: 114\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 127,\n            column: 10\n          },\n          end: {\n            line: 130,\n            column: 11\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 127,\n            column: 10\n          },\n          end: {\n            line: 130,\n            column: 11\n          }\n        }, {\n          start: {\n            line: 127,\n            column: 10\n          },\n          end: {\n            line: 130,\n            column: 11\n          }\n        }],\n        line: 127\n      },\n      \"11\": {\n        loc: {\n          start: {\n            line: 143,\n            column: 25\n          },\n          end: {\n            line: 143,\n            column: 80\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 143,\n            column: 50\n          },\n          end: {\n            line: 143,\n            column: 73\n          }\n        }, {\n          start: {\n            line: 143,\n            column: 76\n          },\n          end: {\n            line: 143,\n            column: 80\n          }\n        }],\n        line: 143\n      },\n      \"12\": {\n        loc: {\n          start: {\n            line: 153,\n            column: 4\n          },\n          end: {\n            line: 157,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 153,\n            column: 4\n          },\n          end: {\n            line: 157,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 153,\n            column: 4\n          },\n          end: {\n            line: 157,\n            column: 5\n          }\n        }],\n        line: 153\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0,\n      \"51\": 0,\n      \"52\": 0,\n      \"53\": 0,\n      \"54\": 0,\n      \"55\": 0,\n      \"56\": 0,\n      \"57\": 0,\n      \"58\": 0,\n      \"59\": 0,\n      \"60\": 0,\n      \"61\": 0,\n      \"62\": 0,\n      \"63\": 0,\n      \"64\": 0,\n      \"65\": 0,\n      \"66\": 0,\n      \"67\": 0,\n      \"68\": 0,\n      \"69\": 0,\n      \"70\": 0,\n      \"71\": 0,\n      \"72\": 0,\n      \"73\": 0,\n      \"74\": 0,\n      \"75\": 0,\n      \"76\": 0,\n      \"77\": 0,\n      \"78\": 0,\n      \"79\": 0,\n      \"80\": 0,\n      \"81\": 0,\n      \"82\": 0,\n      \"83\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0],\n      \"11\": [0, 0],\n      \"12\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"cca8f878d9c159a13983c579cf68d89673e6aa4e\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_2luprcp72b = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_2luprcp72b();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport MessagePage from 'components/App/MessagePageClass';\nimport { LobbyService } from '../../../../components/App/Lobby/LobbyService';\nimport { GAMES_MAP } from '../../../../games';\nimport AlertLayer from '../../../../components/App/Game/AlertLayer';\nimport FreeBoardGamesBar from '../../../../components/App/FreeBoardGamesBar';\nimport { GameSharing } from '../../../../components/App/Game/GameSharing';\nimport Game from '../../../../components/App/Game/Game';\nimport { ListPlayers } from '../../../../components/App/Lobby/ListPlayers';\nimport { GameCard } from '../../../../components/App/Game/GameCard';\nimport { NicknamePrompt } from '../../../../components/App/Lobby/NicknamePrompt';\nimport { useRouter } from 'next/router';\nimport Button from '@material-ui/core/Button';\nimport ReplayIcon from '@material-ui/icons/Replay';\nvar MAX_TIMES_TO_UPDATE_METADATA = (cov_2luprcp72b().s[0]++, 2000);\n\nvar Room = /*#__PURE__*/function (_React$Component) {\n  _inherits(Room, _React$Component);\n\n  var _super = _createSuper(Room);\n\n  // fixme loads state of room\n  function Room(props) {\n    var _this;\n\n    _classCallCheck(this, Room);\n\n    cov_2luprcp72b().f[0]++;\n    cov_2luprcp72b().s[2]++;\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", (cov_2luprcp72b().s[1]++, {\n      error: '',\n      loading: true,\n      gameReady: false,\n      editingName: false,\n      interval: undefined,\n      numberOfTimesUpdatedMetadata: 0\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"timer\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"promise\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"updateMetadata\", (cov_2luprcp72b().s[21]++, function (firstRun) {\n      cov_2luprcp72b().f[4]++;\n      var gameCode = (cov_2luprcp72b().s[22]++, _this.props.router.query.gameCode);\n      var roomID = (cov_2luprcp72b().s[23]++, _this.props.router.query.roomID);\n      cov_2luprcp72b().s[24]++;\n\n      if (!firstRun) {\n        cov_2luprcp72b().b[5][0]++;\n        cov_2luprcp72b().s[25]++;\n\n        if (_this.state.editingName) {\n          cov_2luprcp72b().b[6][0]++;\n          cov_2luprcp72b().s[26]++;\n          return;\n        } else {\n          cov_2luprcp72b().b[6][1]++;\n        }\n      } else {\n        cov_2luprcp72b().b[5][1]++;\n      }\n\n      cov_2luprcp72b().s[27]++;\n\n      if (!LobbyService.getNickname()) {\n        cov_2luprcp72b().b[7][0]++;\n        cov_2luprcp72b().s[28]++;\n        return;\n      } else {\n        cov_2luprcp72b().b[7][1]++;\n      }\n\n      cov_2luprcp72b().s[29]++;\n\n      if (_this.state.numberOfTimesUpdatedMetadata > MAX_TIMES_TO_UPDATE_METADATA) {\n        cov_2luprcp72b().b[8][0]++;\n        var error = (cov_2luprcp72b().s[30]++, 'Session expired.  Please refresh the page.');\n        cov_2luprcp72b().s[31]++;\n\n        _this.setState(function (oldState) {\n          cov_2luprcp72b().f[5]++;\n          cov_2luprcp72b().s[32]++;\n          return _objectSpread({}, oldState, {\n            error: error\n          });\n        });\n\n        cov_2luprcp72b().s[33]++;\n        return;\n      } else {\n        cov_2luprcp72b().b[8][1]++;\n      }\n\n      cov_2luprcp72b().s[34]++;\n\n      _this.setState(function (oldState) {\n        cov_2luprcp72b().f[6]++;\n        cov_2luprcp72b().s[35]++;\n        return _objectSpread({}, oldState, {\n          numberOfTimesUpdatedMetadata: _this.state.numberOfTimesUpdatedMetadata + 1\n        });\n      });\n\n      cov_2luprcp72b().s[36]++;\n      _this.promise = LobbyService.getRoomMetadata(gameCode, roomID).then(function _callee(metadata) {\n        var player;\n        return _regeneratorRuntime.async(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                cov_2luprcp72b().f[7]++;\n                cov_2luprcp72b().s[37]++;\n\n                if (metadata.currentUser) {\n                  _context.next = 12;\n                  break;\n                }\n\n                cov_2luprcp72b().b[9][0]++;\n                player = (cov_2luprcp72b().s[38]++, {\n                  playerID: metadata.players.length,\n                  roomID: roomID,\n                  name: LobbyService.getNickname()\n                });\n                cov_2luprcp72b().s[39]++;\n                _context.next = 8;\n                return _regeneratorRuntime.awrap(LobbyService.joinRoom(gameCode, player));\n\n              case 8:\n                cov_2luprcp72b().s[40]++;\n                return _context.abrupt(\"return\", LobbyService.getRoomMetadata(gameCode, roomID));\n\n              case 12:\n                cov_2luprcp72b().b[9][1]++;\n\n              case 13:\n                cov_2luprcp72b().s[41]++;\n                return _context.abrupt(\"return\", metadata);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }).then(function (metadata) {\n        cov_2luprcp72b().f[8]++;\n        cov_2luprcp72b().s[42]++;\n\n        if (metadata.numberOfPlayers === metadata.players.length) {\n          cov_2luprcp72b().b[10][0]++;\n          cov_2luprcp72b().s[43]++;\n\n          _this.setState(function (oldState) {\n            cov_2luprcp72b().f[9]++;\n            cov_2luprcp72b().s[44]++;\n            return _objectSpread({}, oldState, {\n              gameReady: true\n            });\n          });\n\n          cov_2luprcp72b().s[45]++;\n\n          _this._componentCleanup();\n        } else {\n          cov_2luprcp72b().b[10][1]++;\n        }\n\n        cov_2luprcp72b().s[46]++;\n\n        _this.setState(function (oldState) {\n          cov_2luprcp72b().f[10]++;\n          cov_2luprcp72b().s[47]++;\n          return _objectSpread({}, oldState, {\n            roomMetadata: metadata,\n            loading: false\n          });\n        });\n\n        cov_2luprcp72b().s[48]++;\n        return metadata;\n      }, function () {\n        cov_2luprcp72b().f[11]++;\n        var error = (cov_2luprcp72b().s[49]++, 'Failed to fetch room metadata.');\n        cov_2luprcp72b().s[50]++;\n\n        _this._componentCleanup();\n\n        cov_2luprcp72b().s[51]++;\n\n        _this.setState(function (oldState) {\n          cov_2luprcp72b().f[12]++;\n          cov_2luprcp72b().s[52]++;\n          return _objectSpread({}, oldState, {\n            error: error\n          });\n        });\n      });\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_getNamePrompt\", (cov_2luprcp72b().s[53]++, function (name) {\n      cov_2luprcp72b().f[13]++;\n      var togglePrompt = (cov_2luprcp72b().s[54]++, _this.state.editingName ? (cov_2luprcp72b().b[11][0]++, _this._toggleEditingName) : (cov_2luprcp72b().b[11][1]++, null));\n      cov_2luprcp72b().s[55]++;\n      return __jsx(NicknamePrompt, {\n        setNickname: _this._setNickname,\n        nickname: name,\n        togglePrompt: togglePrompt\n      });\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_toggleEditingName\", (cov_2luprcp72b().s[56]++, function () {\n      cov_2luprcp72b().f[14]++;\n      cov_2luprcp72b().s[57]++;\n\n      _this.setState(function (oldState) {\n        cov_2luprcp72b().f[15]++;\n        cov_2luprcp72b().s[58]++;\n        return _objectSpread({}, oldState, {\n          editingName: !_this.state.editingName\n        });\n      });\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_setNickname\", (cov_2luprcp72b().s[59]++, function (nickname) {\n      cov_2luprcp72b().f[16]++;\n      cov_2luprcp72b().s[60]++;\n      LobbyService.setNickname(nickname);\n      cov_2luprcp72b().s[61]++;\n\n      if (_this.state.editingName) {\n        cov_2luprcp72b().b[12][0]++;\n        var room = (cov_2luprcp72b().s[62]++, _this.state.roomMetadata);\n        cov_2luprcp72b().s[63]++;\n        LobbyService.renameUser(room.gameCode, room.currentUser, nickname);\n        cov_2luprcp72b().s[64]++;\n\n        _this._toggleEditingName();\n      } else {\n        cov_2luprcp72b().b[12][1]++;\n      }\n\n      cov_2luprcp72b().s[65]++;\n\n      _this.updateMetadata();\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_componentCleanup\", (cov_2luprcp72b().s[68]++, function () {\n      cov_2luprcp72b().f[18]++;\n      cov_2luprcp72b().s[69]++;\n      clearInterval(_this.timer);\n      cov_2luprcp72b().s[70]++;\n      _this.timer = undefined;\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_getGameSharing\", (cov_2luprcp72b().s[71]++, function () {\n      cov_2luprcp72b().f[19]++;\n      var gameCode = (cov_2luprcp72b().s[72]++, _this.props.router.query.gameCode);\n      var roomID = (cov_2luprcp72b().s[73]++, _this.props.router.query.roomID);\n      cov_2luprcp72b().s[74]++;\n      return __jsx(GameSharing, {\n        gameCode: gameCode,\n        roomID: roomID,\n        roomMetadata: _this.state.roomMetadata\n      });\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_tryAgain\", (cov_2luprcp72b().s[75]++, function () {\n      cov_2luprcp72b().f[20]++;\n      cov_2luprcp72b().s[76]++;\n\n      _this.setState(function (oldState) {\n        cov_2luprcp72b().f[21]++;\n        cov_2luprcp72b().s[77]++;\n        return _objectSpread({}, oldState, {\n          error: ''\n        });\n      });\n\n      cov_2luprcp72b().s[78]++;\n\n      _this.updateMetadata();\n\n      cov_2luprcp72b().s[79]++;\n      _this.timer = setInterval(function () {\n        cov_2luprcp72b().f[22]++;\n        cov_2luprcp72b().s[80]++;\n        return _this.updateMetadata();\n      }, 2000);\n    }));\n\n    cov_2luprcp72b().s[3]++;\n    _this._componentCleanup = _this._componentCleanup.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Room, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      cov_2luprcp72b().f[1]++;\n      cov_2luprcp72b().s[4]++;\n      window.addEventListener('beforeunload', this._componentCleanup);\n      cov_2luprcp72b().s[5]++;\n      this.timer = setInterval(function () {\n        cov_2luprcp72b().f[2]++;\n        cov_2luprcp72b().s[6]++;\n        return _this2.updateMetadata();\n      }, 2000);\n      cov_2luprcp72b().s[7]++;\n      this.updateMetadata(true);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      cov_2luprcp72b().f[3]++;\n      var nickname = (cov_2luprcp72b().s[8]++, LobbyService.getNickname());\n      cov_2luprcp72b().s[9]++;\n\n      if (!nickname) {\n        cov_2luprcp72b().b[0][0]++;\n        cov_2luprcp72b().s[10]++;\n        return __jsx(FreeBoardGamesBar, null, this._getNamePrompt());\n      } else {\n        cov_2luprcp72b().b[0][1]++;\n      }\n\n      cov_2luprcp72b().s[11]++;\n\n      if (this.state.error) {\n        cov_2luprcp72b().b[1][0]++;\n        var TryAgain = (cov_2luprcp72b().s[12]++, __jsx(Button, {\n          variant: \"outlined\",\n          style: {\n            margin: '8px'\n          },\n          onClick: this._tryAgain\n        }, __jsx(ReplayIcon, {\n          style: {\n            marginRight: '8px'\n          }\n        }), \"Try Again\"));\n        cov_2luprcp72b().s[13]++;\n        return __jsx(MessagePage, {\n          type: 'error',\n          message: this.state.error,\n          actionComponent: TryAgain\n        });\n      } else {\n        cov_2luprcp72b().b[1][1]++;\n      }\n\n      cov_2luprcp72b().s[14]++;\n\n      if (this.state.loading) {\n        cov_2luprcp72b().b[2][0]++;\n        cov_2luprcp72b().s[15]++;\n        return __jsx(MessagePage, {\n          type: 'loading',\n          message: 'Loading...'\n        });\n      } else {\n        cov_2luprcp72b().b[2][1]++;\n      }\n\n      cov_2luprcp72b().s[16]++;\n\n      if (this.state.gameReady) {\n        cov_2luprcp72b().b[3][0]++;\n        var room = (cov_2luprcp72b().s[17]++, this.state.roomMetadata);\n        cov_2luprcp72b().s[18]++;\n        return __jsx(Game, {\n          room: room\n        });\n      } else {\n        cov_2luprcp72b().b[3][1]++;\n      }\n\n      var nicknamePrompt = (cov_2luprcp72b().s[19]++, this.state.editingName ? (cov_2luprcp72b().b[4][0]++, __jsx(AlertLayer, null, this._getNamePrompt(this.state.roomMetadata.currentUser.name))) : (cov_2luprcp72b().b[4][1]++, null));\n      cov_2luprcp72b().s[20]++;\n      return __jsx(FreeBoardGamesBar, null, nicknamePrompt, __jsx(GameCard, {\n        game: GAMES_MAP[this.state.roomMetadata.gameCode]\n      }), this._getGameSharing(), __jsx(ListPlayers, {\n        roomMetadata: this.state.roomMetadata,\n        editNickname: this._toggleEditingName\n      }));\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cov_2luprcp72b().f[17]++;\n      cov_2luprcp72b().s[66]++;\n\n      this._componentCleanup();\n\n      cov_2luprcp72b().s[67]++;\n      window.removeEventListener('beforeunload', this._componentCleanup);\n    }\n  }]);\n\n  return Room;\n}((React.Component));\n\ncov_2luprcp72b().s[81]++;\n\nvar roomWithRouter = function roomWithRouter(props) {\n  cov_2luprcp72b().f[23]++;\n  var router = (cov_2luprcp72b().s[82]++, useRouter());\n  cov_2luprcp72b().s[83]++;\n  return __jsx(Room, _extends({}, props, {\n    router: router\n  }));\n};\n\nexport default roomWithRouter;","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/pages/room/[gameCode]/[roomID]/Room.tsx"],"names":["React","MessagePage","LobbyService","GAMES_MAP","AlertLayer","FreeBoardGamesBar","GameSharing","Game","ListPlayers","GameCard","NicknamePrompt","useRouter","Button","ReplayIcon","MAX_TIMES_TO_UPDATE_METADATA","Room","props","error","loading","gameReady","editingName","interval","undefined","numberOfTimesUpdatedMetadata","firstRun","gameCode","router","query","roomID","state","getNickname","setState","oldState","promise","getRoomMetadata","then","metadata","currentUser","player","playerID","players","length","name","joinRoom","numberOfPlayers","_componentCleanup","roomMetadata","togglePrompt","_toggleEditingName","_setNickname","nickname","setNickname","room","renameUser","updateMetadata","clearInterval","timer","setInterval","bind","window","addEventListener","_getNamePrompt","TryAgain","margin","_tryAgain","marginRight","nicknamePrompt","_getGameSharing","removeEventListener","Component","roomWithRouter"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,iCAAxB;AACA,SAASC,YAAT,QAA2D,+CAA3D;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,OAAOC,UAAP,MAAuB,4CAAvB;AACA,OAAOC,iBAAP,MAA8B,8CAA9B;AACA,SAASC,WAAT,QAA4B,6CAA5B;AACA,OAAOC,IAAP,MAAiB,sCAAjB;AACA,SAASC,WAAT,QAA4B,8CAA5B;AACA,SAASC,QAAT,QAAyB,0CAAzB;AACA,SAASC,cAAT,QAA+B,iDAA/B;AACA,SAASC,SAAT,QAAsC,aAAtC;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,2BAAvB;AAEA,IAAMC,4BAA4B,6BAAG,IAAH,CAAlC;;IAmBMC,I;;;;;AASgB;AAGpB,gBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AAAA;AAAA;AACjB,8BAAMA,KAAN;;AADiB,sFAXC;AAClBC,MAAAA,KAAK,EAAE,EADW;AAElBC,MAAAA,OAAO,EAAE,IAFS;AAGlBC,MAAAA,SAAS,EAAE,KAHO;AAIlBC,MAAAA,WAAW,EAAE,KAJK;AAKlBC,MAAAA,QAAQ,EAAEC,SALQ;AAMlBC,MAAAA,4BAA4B,EAAE;AANZ,KAWD;;AAAA;;AAAA;;AAAA,gGA6CF,UAACC,QAAD,EAAwB;AAAA;AACvC,UAAMC,QAAQ,8BAAG,MAAKT,KAAL,CAAWU,MAAX,CAAkBC,KAAlB,CAAwBF,QAA3B,CAAd;AACA,UAAMG,MAAM,8BAAG,MAAKZ,KAAL,CAAWU,MAAX,CAAkBC,KAAlB,CAAwBC,MAA3B,CAAZ;AAFuC;;AAGvC,UAAI,CAACJ,QAAL,EAAe;AAAA;AAAA;;AACb,YAAI,MAAKK,KAAL,CAAWT,WAAf,EAA4B;AAAA;AAAA;AAC1B;AACD,SAFD;AAAA;AAAA;AAGD,OAJD;AAAA;AAAA;;AAHuC;;AAQvC,UAAI,CAAClB,YAAY,CAAC4B,WAAb,EAAL,EAAiC;AAAA;AAAA;AAC/B;AACD,OAFD;AAAA;AAAA;;AARuC;;AAWvC,UAAI,MAAKD,KAAL,CAAWN,4BAAX,GAA0CT,4BAA9C,EAA4E;AAAA;AAC1E,YAAMG,KAAK,8BAAG,4CAAH,CAAX;AAD0E;;AAE1E,cAAKc,QAAL,CAAc,UAACC,QAAD,EAAe;AAAA;AAAA;AAAA,mCAAKA,QAAL;AAAef,YAAAA,KAAK,EAALA;AAAf;AAAsB,SAAnD;;AAF0E;AAG1E;AACD,OAJD;AAAA;AAAA;;AAXuC;;AAgBvC,YAAKc,QAAL,CAAc,UAACC,QAAD,EAAe;AAAA;AAAA;AAAA,iCACxBA,QADwB;AAE3BT,UAAAA,4BAA4B,EAAE,MAAKM,KAAL,CAAWN,4BAAX,GAA0C;AAF7C;AAG5B,OAHD;;AAhBuC;AAoBvC,YAAKU,OAAL,GAAe/B,YAAY,CAACgC,eAAb,CAA6BT,QAA7B,EAAuCG,MAAvC,EACZO,IADY,CACP,iBAAOC,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,oBACCA,QAAQ,CAACC,WADV;AAAA;AAAA;AAAA;;AAAA;AAEIC,gBAAAA,MAFJ,8BAE4B;AAC5BC,kBAAAA,QAAQ,EAAEH,QAAQ,CAACI,OAAT,CAAiBC,MADC;AAE5Bb,kBAAAA,MAAM,EAANA,MAF4B;AAG5Bc,kBAAAA,IAAI,EAAExC,YAAY,CAAC4B,WAAb;AAHsB,iBAF5B;AAAA;AAAA;AAAA,iDAOI5B,YAAY,CAACyC,QAAb,CAAsBlB,QAAtB,EAAgCa,MAAhC,CAPJ;;AAAA;AAAA;AAAA,iDAQKpC,YAAY,CAACgC,eAAb,CAA6BT,QAA7B,EAAuCG,MAAvC,CARL;;AAAA;AAAA;;AAAA;AAAA;AAAA,iDAUGQ,QAVH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADO,EAaZD,IAbY,CAcX,UAACC,QAAD,EAAc;AAAA;AAAA;;AACZ,YAAIA,QAAQ,CAACQ,eAAT,KAA6BR,QAAQ,CAACI,OAAT,CAAiBC,MAAlD,EAA0D;AAAA;AAAA;;AACxD,gBAAKV,QAAL,CAAc,UAACC,QAAD,EAAe;AAAA;AAAA;AAAA,qCAAKA,QAAL;AAAeb,cAAAA,SAAS,EAAE;AAA1B;AAAgC,WAA7D;;AADwD;;AAExD,gBAAK0B,iBAAL;AACD,SAHD;AAAA;AAAA;;AADY;;AAKZ,cAAKd,QAAL,CAAc,UAACC,QAAD,EAAe;AAAA;AAAA;AAAA,mCAAKA,QAAL;AAAec,YAAAA,YAAY,EAAEV,QAA7B;AAAuClB,YAAAA,OAAO,EAAE;AAAhD;AAAuD,SAApF;;AALY;AAMZ,eAAOkB,QAAP;AACD,OArBU,EAsBX,YAAM;AAAA;AACJ,YAAMnB,KAAK,8BAAG,gCAAH,CAAX;AADI;;AAEJ,cAAK4B,iBAAL;;AAFI;;AAGJ,cAAKd,QAAL,CAAc,UAACC,QAAD,EAAe;AAAA;AAAA;AAAA,mCAAKA,QAAL;AAAef,YAAAA,KAAK,EAALA;AAAf;AAAsB,SAAnD;AACD,OA1BU,CAAf;AA4BD,KA7FkB;;AAAA,gGA+FF,UAACyB,IAAD,EAAmB;AAAA;AAClC,UAAMK,YAAY,8BAAG,MAAKlB,KAAL,CAAWT,WAAX,iCAAyB,MAAK4B,kBAA9B,kCAAmD,IAAnD,CAAH,CAAlB;AADkC;AAElC,aAAO,MAAC,cAAD;AAAgB,QAAA,WAAW,EAAE,MAAKC,YAAlC;AAAgD,QAAA,QAAQ,EAAEP,IAA1D;AAAgE,QAAA,YAAY,EAAEK;AAA9E,QAAP;AACD,KAlGkB;;AAAA,oGAoGE,YAAM;AAAA;AAAA;;AACzB,YAAKhB,QAAL,CAAc,UAACC,QAAD,EAAe;AAAA;AAAA;AAAA,iCAAKA,QAAL;AAAeZ,UAAAA,WAAW,EAAE,CAAC,MAAKS,KAAL,CAAWT;AAAxC;AAAqD,OAAlF;AACD,KAtGkB;;AAAA,8FAwGJ,UAAC8B,QAAD,EAAsB;AAAA;AAAA;AACnChD,MAAAA,YAAY,CAACiD,WAAb,CAAyBD,QAAzB;AADmC;;AAEnC,UAAI,MAAKrB,KAAL,CAAWT,WAAf,EAA4B;AAAA;AAC1B,YAAMgC,IAAI,8BAAG,MAAKvB,KAAL,CAAWiB,YAAd,CAAV;AAD0B;AAE1B5C,QAAAA,YAAY,CAACmD,UAAb,CAAwBD,IAAI,CAAC3B,QAA7B,EAAuC2B,IAAI,CAACf,WAA5C,EAAyDa,QAAzD;AAF0B;;AAG1B,cAAKF,kBAAL;AACD,OAJD;AAAA;AAAA;;AAFmC;;AAOnC,YAAKM,cAAL;AACD,KAhHkB;;AAAA,mGAuHC,YAAM;AAAA;AAAA;AACxBC,MAAAA,aAAa,CAAC,MAAKC,KAAN,CAAb;AADwB;AAExB,YAAKA,KAAL,GAAalC,SAAb;AACD,KA1HkB;;AAAA,iGA4HD,YAAM;AAAA;AACtB,UAAMG,QAAQ,8BAAG,MAAKT,KAAL,CAAWU,MAAX,CAAkBC,KAAlB,CAAwBF,QAA3B,CAAd;AACA,UAAMG,MAAM,8BAAG,MAAKZ,KAAL,CAAWU,MAAX,CAAkBC,KAAlB,CAAwBC,MAA3B,CAAZ;AAFsB;AAGtB,aAAO,MAAC,WAAD;AAAa,QAAA,QAAQ,EAAEH,QAAvB;AAAiC,QAAA,MAAM,EAAEG,MAAzC;AAAiD,QAAA,YAAY,EAAE,MAAKC,KAAL,CAAWiB;AAA1E,QAAP;AACD,KAhIkB;;AAAA,2FAkIP,YAAM;AAAA;AAAA;;AAChB,YAAKf,QAAL,CAAc,UAACC,QAAD,EAAe;AAAA;AAAA;AAAA,iCAAKA,QAAL;AAAef,UAAAA,KAAK,EAAE;AAAtB;AAA0B,OAAvD;;AADgB;;AAEhB,YAAKqC,cAAL;;AAFgB;AAGhB,YAAKE,KAAL,GAAaC,WAAW,CAAC,YAAM;AAAA;AAAA;AAAA,qBAAKH,cAAL;AAAqB,OAA5B,EAA8B,IAA9B,CAAxB;AACD,KAtIkB;;AAAA;AAEjB,UAAKT,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBa,IAAvB,+BAAzB;AAFiB;AAGlB;;;;wCAEmB;AAAA;;AAAA;AAAA;AAClBC,MAAAA,MAAM,CAACC,gBAAP,CAAwB,cAAxB,EAAwC,KAAKf,iBAA7C;AADkB;AAElB,WAAKW,KAAL,GAAaC,WAAW,CAAC,YAAM;AAAA;AAAA;AAAA,eAAA,MAAI,CAACH,cAAL;AAAqB,OAA5B,EAA8B,IAA9B,CAAxB;AAFkB;AAGlB,WAAKA,cAAL,CAAoB,IAApB;AACD;;;6BAEQ;AAAA;AACP,UAAMJ,QAAQ,6BAAGhD,YAAY,CAAC4B,WAAb,EAAH,CAAd;AADO;;AAEP,UAAI,CAACoB,QAAL,EAAe;AAAA;AAAA;AACb,eAAO,MAAC,iBAAD,QAAoB,KAAKW,cAAL,EAApB,CAAP;AACD,OAFD;AAAA;AAAA;;AAFO;;AAKP,UAAI,KAAKhC,KAAL,CAAWZ,KAAf,EAAsB;AAAA;AACpB,YAAM6C,QAAQ,8BACZ,MAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,UAAhB;AAA2B,UAAA,KAAK,EAAE;AAAEC,YAAAA,MAAM,EAAE;AAAV,WAAlC;AAAqD,UAAA,OAAO,EAAE,KAAKC;AAAnE,WACE,MAAC,UAAD;AAAY,UAAA,KAAK,EAAE;AAAEC,YAAAA,WAAW,EAAE;AAAf;AAAnB,UADF,cADY,CAAd;AADoB;AAOpB,eAAO,MAAC,WAAD;AAAa,UAAA,IAAI,EAAE,OAAnB;AAA4B,UAAA,OAAO,EAAE,KAAKpC,KAAL,CAAWZ,KAAhD;AAAuD,UAAA,eAAe,EAAE6C;AAAxE,UAAP;AACD,OARD;AAAA;AAAA;;AALO;;AAcP,UAAI,KAAKjC,KAAL,CAAWX,OAAf,EAAwB;AAAA;AAAA;AACtB,eAAO,MAAC,WAAD;AAAa,UAAA,IAAI,EAAE,SAAnB;AAA8B,UAAA,OAAO,EAAE;AAAvC,UAAP;AACD,OAFD;AAAA;AAAA;;AAdO;;AAiBP,UAAI,KAAKW,KAAL,CAAWV,SAAf,EAA0B;AAAA;AACxB,YAAMiC,IAAI,8BAAG,KAAKvB,KAAL,CAAWiB,YAAd,CAAV;AADwB;AAExB,eAAO,MAAC,IAAD;AAAM,UAAA,IAAI,EAAEM;AAAZ,UAAP;AACD,OAHD;AAAA;AAAA;;AAIA,UAAMc,cAAc,8BAAG,KAAKrC,KAAL,CAAWT,WAAX,gCACrB,MAAC,UAAD,QAAa,KAAKyC,cAAL,CAAoB,KAAKhC,KAAL,CAAWiB,YAAX,CAAwBT,WAAxB,CAAoCK,IAAxD,CAAb,CADqB,iCAEnB,IAFmB,CAAH,CAApB;AArBO;AAwBP,aACE,MAAC,iBAAD,QACGwB,cADH,EAEE,MAAC,QAAD;AAAU,QAAA,IAAI,EAAE/D,SAAS,CAAC,KAAK0B,KAAL,CAAWiB,YAAX,CAAwBrB,QAAzB;AAAzB,QAFF,EAGG,KAAK0C,eAAL,EAHH,EAIE,MAAC,WAAD;AAAa,QAAA,YAAY,EAAE,KAAKtC,KAAL,CAAWiB,YAAtC;AAAoD,QAAA,YAAY,EAAE,KAAKE;AAAvE,QAJF,CADF;AAQD;;;2CAuEsB;AAAA;AAAA;;AACrB,WAAKH,iBAAL;;AADqB;AAErBc,MAAAA,MAAM,CAACS,mBAAP,CAA2B,cAA3B,EAA2C,KAAKvB,iBAAhD;AACD;;;;GAjIgB7C,KAAK,CAACqE,S;;;;AAqJzB,IAAMC,cAAc,GAAG,SAAjBA,cAAiB,CAACtD,KAAD,EAAW;AAAA;AAChC,MAAMU,MAAM,8BAAGf,SAAS,EAAZ,CAAZ;AADgC;AAEhC,SAAO,MAAC,IAAD,eAAUK,KAAV;AAAiB,IAAA,MAAM,EAAEU;AAAzB,KAAP;AACD,CAHD;;AAKA,eAAe4C,cAAf","sourcesContent":["import React from 'react';\nimport MessagePage from 'components/App/MessagePageClass';\nimport { LobbyService, IRoomMetadata, IPlayerInRoom } from '../../../../components/App/Lobby/LobbyService';\nimport { GAMES_MAP } from '../../../../games';\nimport AlertLayer from '../../../../components/App/Game/AlertLayer';\nimport FreeBoardGamesBar from '../../../../components/App/FreeBoardGamesBar';\nimport { GameSharing } from '../../../../components/App/Game/GameSharing';\nimport Game from '../../../../components/App/Game/Game';\nimport { ListPlayers } from '../../../../components/App/Lobby/ListPlayers';\nimport { GameCard } from '../../../../components/App/Game/GameCard';\nimport { NicknamePrompt } from '../../../../components/App/Lobby/NicknamePrompt';\nimport { useRouter, NextRouter } from 'next/router';\nimport Button from '@material-ui/core/Button';\nimport ReplayIcon from '@material-ui/icons/Replay';\n\nconst MAX_TIMES_TO_UPDATE_METADATA = 2000;\n\ninterface IRoomProps {\n  gameCode: string;\n  roomID: string;\n  router: NextRouter;\n}\n\ninterface IRoomState {\n  roomMetadata?: IRoomMetadata;\n  nameTextField?: string;\n  loading: boolean;\n  gameReady: boolean;\n  error: string;\n  editingName: boolean;\n  interval: number | undefined;\n  numberOfTimesUpdatedMetadata: number;\n}\n\nclass Room extends React.Component<IRoomProps, IRoomState> {\n  state: IRoomState = {\n    error: '',\n    loading: true,\n    gameReady: false,\n    editingName: false,\n    interval: undefined,\n    numberOfTimesUpdatedMetadata: 0,\n  };\n  private timer: any; // fixme loads state of room\n  private promise: Promise<IRoomMetadata | void>;\n\n  constructor(props) {\n    super(props);\n    this._componentCleanup = this._componentCleanup.bind(this);\n  }\n\n  componentDidMount() {\n    window.addEventListener('beforeunload', this._componentCleanup);\n    this.timer = setInterval(() => this.updateMetadata(), 2000);\n    this.updateMetadata(true);\n  }\n\n  render() {\n    const nickname = LobbyService.getNickname();\n    if (!nickname) {\n      return <FreeBoardGamesBar>{this._getNamePrompt()}</FreeBoardGamesBar>;\n    }\n    if (this.state.error) {\n      const TryAgain = (\n        <Button variant=\"outlined\" style={{ margin: '8px' }} onClick={this._tryAgain}>\n          <ReplayIcon style={{ marginRight: '8px' }} />\n          Try Again\n        </Button>\n      );\n      return <MessagePage type={'error'} message={this.state.error} actionComponent={TryAgain} />;\n    }\n    if (this.state.loading) {\n      return <MessagePage type={'loading'} message={'Loading...'} />;\n    }\n    if (this.state.gameReady) {\n      const room = this.state.roomMetadata;\n      return <Game room={room} />;\n    }\n    const nicknamePrompt = this.state.editingName ? (\n      <AlertLayer>{this._getNamePrompt(this.state.roomMetadata.currentUser.name)}</AlertLayer>\n    ) : null;\n    return (\n      <FreeBoardGamesBar>\n        {nicknamePrompt}\n        <GameCard game={GAMES_MAP[this.state.roomMetadata.gameCode]} />\n        {this._getGameSharing()}\n        <ListPlayers roomMetadata={this.state.roomMetadata} editNickname={this._toggleEditingName} />\n      </FreeBoardGamesBar>\n    );\n  }\n\n  updateMetadata = (firstRun?: boolean) => {\n    const gameCode = this.props.router.query.gameCode as string;\n    const roomID = this.props.router.query.roomID as string;\n    if (!firstRun) {\n      if (this.state.editingName) {\n        return;\n      }\n    }\n    if (!LobbyService.getNickname()) {\n      return;\n    }\n    if (this.state.numberOfTimesUpdatedMetadata > MAX_TIMES_TO_UPDATE_METADATA) {\n      const error = 'Session expired.  Please refresh the page.';\n      this.setState((oldState) => ({ ...oldState, error }));\n      return;\n    }\n    this.setState((oldState) => ({\n      ...oldState,\n      numberOfTimesUpdatedMetadata: this.state.numberOfTimesUpdatedMetadata + 1,\n    }));\n    this.promise = LobbyService.getRoomMetadata(gameCode, roomID)\n      .then(async (metadata) => {\n        if (!metadata.currentUser) {\n          const player: IPlayerInRoom = {\n            playerID: metadata.players.length,\n            roomID,\n            name: LobbyService.getNickname(),\n          };\n          await LobbyService.joinRoom(gameCode, player);\n          return LobbyService.getRoomMetadata(gameCode, roomID);\n        }\n        return metadata;\n      })\n      .then(\n        (metadata) => {\n          if (metadata.numberOfPlayers === metadata.players.length) {\n            this.setState((oldState) => ({ ...oldState, gameReady: true }));\n            this._componentCleanup();\n          }\n          this.setState((oldState) => ({ ...oldState, roomMetadata: metadata, loading: false }));\n          return metadata;\n        },\n        () => {\n          const error = 'Failed to fetch room metadata.';\n          this._componentCleanup();\n          this.setState((oldState) => ({ ...oldState, error }));\n        },\n      );\n  };\n\n  _getNamePrompt = (name?: string) => {\n    const togglePrompt = this.state.editingName ? this._toggleEditingName : null;\n    return <NicknamePrompt setNickname={this._setNickname} nickname={name} togglePrompt={togglePrompt} />;\n  };\n\n  _toggleEditingName = () => {\n    this.setState((oldState) => ({ ...oldState, editingName: !this.state.editingName }));\n  };\n\n  _setNickname = (nickname: string) => {\n    LobbyService.setNickname(nickname);\n    if (this.state.editingName) {\n      const room = this.state.roomMetadata;\n      LobbyService.renameUser(room.gameCode, room.currentUser, nickname);\n      this._toggleEditingName();\n    }\n    this.updateMetadata();\n  };\n\n  componentWillUnmount() {\n    this._componentCleanup();\n    window.removeEventListener('beforeunload', this._componentCleanup);\n  }\n\n  _componentCleanup = () => {\n    clearInterval(this.timer);\n    this.timer = undefined;\n  };\n\n  _getGameSharing = () => {\n    const gameCode = this.props.router.query.gameCode as string;\n    const roomID = this.props.router.query.roomID as string;\n    return <GameSharing gameCode={gameCode} roomID={roomID} roomMetadata={this.state.roomMetadata} />;\n  };\n\n  _tryAgain = () => {\n    this.setState((oldState) => ({ ...oldState, error: '' }));\n    this.updateMetadata();\n    this.timer = setInterval(() => this.updateMetadata(), 2000);\n  };\n}\n\nconst roomWithRouter = (props) => {\n  const router = useRouter();\n  return <Room {...props} router={router} />;\n};\n\nexport default roomWithRouter;\n"]},"metadata":{},"sourceType":"module"}