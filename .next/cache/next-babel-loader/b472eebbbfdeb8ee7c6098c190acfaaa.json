{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction cov_1e6jm7e3ou() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/games/checkers/board.tsx\";\n  var hash = \"12ac480440743526a323b00c620c27c0fcf83c80\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/games/checkers/board.tsx\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 37,\n          column: 2\n        },\n        end: {\n          line: 37,\n          column: 62\n        }\n      },\n      \"1\": {\n        start: {\n          line: 41,\n          column: 23\n        },\n        end: {\n          line: 44,\n          column: 3\n        }\n      },\n      \"2\": {\n        start: {\n          line: 47,\n          column: 4\n        },\n        end: {\n          line: 47,\n          column: 76\n        }\n      },\n      \"3\": {\n        start: {\n          line: 50,\n          column: 18\n        },\n        end: {\n          line: 56,\n          column: 3\n        }\n      },\n      \"4\": {\n        start: {\n          line: 51,\n          column: 4\n        },\n        end: {\n          line: 53,\n          column: 5\n        }\n      },\n      \"5\": {\n        start: {\n          line: 52,\n          column: 6\n        },\n        end: {\n          line: 52,\n          column: 19\n        }\n      },\n      \"6\": {\n        start: {\n          line: 55,\n          column: 4\n        },\n        end: {\n          line: 55,\n          column: 83\n        }\n      },\n      \"7\": {\n        start: {\n          line: 55,\n          column: 48\n        },\n        end: {\n          line: 55,\n          column: 81\n        }\n      },\n      \"8\": {\n        start: {\n          line: 58,\n          column: 13\n        },\n        end: {\n          line: 68,\n          column: 3\n        }\n      },\n      \"9\": {\n        start: {\n          line: 59,\n          column: 21\n        },\n        end: {\n          line: 59,\n          column: 56\n        }\n      },\n      \"10\": {\n        start: {\n          line: 60,\n          column: 4\n        },\n        end: {\n          line: 67,\n          column: 5\n        }\n      },\n      \"11\": {\n        start: {\n          line: 61,\n          column: 6\n        },\n        end: {\n          line: 64,\n          column: 9\n        }\n      },\n      \"12\": {\n        start: {\n          line: 66,\n          column: 6\n        },\n        end: {\n          line: 66,\n          column: 27\n        }\n      },\n      \"13\": {\n        start: {\n          line: 70,\n          column: 16\n        },\n        end: {\n          line: 72,\n          column: 3\n        }\n      },\n      \"14\": {\n        start: {\n          line: 71,\n          column: 4\n        },\n        end: {\n          line: 71,\n          column: 73\n        }\n      },\n      \"15\": {\n        start: {\n          line: 74,\n          column: 12\n        },\n        end: {\n          line: 90,\n          column: 3\n        }\n      },\n      \"16\": {\n        start: {\n          line: 75,\n          column: 14\n        },\n        end: {\n          line: 75,\n          column: 22\n        }\n      },\n      \"17\": {\n        start: {\n          line: 76,\n          column: 14\n        },\n        end: {\n          line: 76,\n          column: 22\n        }\n      },\n      \"18\": {\n        start: {\n          line: 77,\n          column: 22\n        },\n        end: {\n          line: 77,\n          column: 38\n        }\n      },\n      \"19\": {\n        start: {\n          line: 78,\n          column: 22\n        },\n        end: {\n          line: 78,\n          column: 38\n        }\n      },\n      \"20\": {\n        start: {\n          line: 79,\n          column: 4\n        },\n        end: {\n          line: 89,\n          column: 5\n        }\n      },\n      \"21\": {\n        start: {\n          line: 80,\n          column: 6\n        },\n        end: {\n          line: 83,\n          column: 9\n        }\n      },\n      \"22\": {\n        start: {\n          line: 85,\n          column: 6\n        },\n        end: {\n          line: 88,\n          column: 9\n        }\n      },\n      \"23\": {\n        start: {\n          line: 92,\n          column: 12\n        },\n        end: {\n          line: 96,\n          column: 3\n        }\n      },\n      \"24\": {\n        start: {\n          line: 93,\n          column: 4\n        },\n        end: {\n          line: 95,\n          column: 5\n        }\n      },\n      \"25\": {\n        start: {\n          line: 94,\n          column: 6\n        },\n        end: {\n          line: 94,\n          column: 73\n        }\n      },\n      \"26\": {\n        start: {\n          line: 98,\n          column: 10\n        },\n        end: {\n          line: 108,\n          column: 3\n        }\n      },\n      \"27\": {\n        start: {\n          line: 99,\n          column: 4\n        },\n        end: {\n          line: 101,\n          column: 5\n        }\n      },\n      \"28\": {\n        start: {\n          line: 100,\n          column: 6\n        },\n        end: {\n          line: 100,\n          column: 13\n        }\n      },\n      \"29\": {\n        start: {\n          line: 103,\n          column: 4\n        },\n        end: {\n          line: 103,\n          column: 61\n        }\n      },\n      \"30\": {\n        start: {\n          line: 104,\n          column: 4\n        },\n        end: {\n          line: 107,\n          column: 7\n        }\n      },\n      \"31\": {\n        start: {\n          line: 111,\n          column: 19\n        },\n        end: {\n          line: 111,\n          column: 34\n        }\n      },\n      \"32\": {\n        start: {\n          line: 113,\n          column: 4\n        },\n        end: {\n          line: 120,\n          column: 5\n        }\n      },\n      \"33\": {\n        start: {\n          line: 114,\n          column: 6\n        },\n        end: {\n          line: 114,\n          column: 100\n        }\n      },\n      \"34\": {\n        start: {\n          line: 115,\n          column: 6\n        },\n        end: {\n          line: 119,\n          column: 11\n        }\n      },\n      \"35\": {\n        start: {\n          line: 116,\n          column: 26\n        },\n        end: {\n          line: 116,\n          column: 72\n        }\n      },\n      \"36\": {\n        start: {\n          line: 118,\n          column: 10\n        },\n        end: {\n          line: 118,\n          column: 80\n        }\n      },\n      \"37\": {\n        start: {\n          line: 122,\n          column: 4\n        },\n        end: {\n          line: 122,\n          column: 18\n        }\n      },\n      \"38\": {\n        start: {\n          line: 125,\n          column: 14\n        },\n        end: {\n          line: 151,\n          column: 3\n        }\n      },\n      \"39\": {\n        start: {\n          line: 126,\n          column: 4\n        },\n        end: {\n          line: 150,\n          column: 9\n        }\n      },\n      \"40\": {\n        start: {\n          line: 127,\n          column: 30\n        },\n        end: {\n          line: 127,\n          column: 52\n        }\n      },\n      \"41\": {\n        start: {\n          line: 128,\n          column: 25\n        },\n        end: {\n          line: 128,\n          column: 44\n        }\n      },\n      \"42\": {\n        start: {\n          line: 130,\n          column: 25\n        },\n        end: {\n          line: 130,\n          column: 45\n        }\n      },\n      \"43\": {\n        start: {\n          line: 131,\n          column: 8\n        },\n        end: {\n          line: 149,\n          column: 10\n        }\n      },\n      \"44\": {\n        start: {\n          line: 154,\n          column: 4\n        },\n        end: {\n          line: 167,\n          column: 5\n        }\n      },\n      \"45\": {\n        start: {\n          line: 155,\n          column: 6\n        },\n        end: {\n          line: 159,\n          column: 7\n        }\n      },\n      \"46\": {\n        start: {\n          line: 156,\n          column: 8\n        },\n        end: {\n          line: 156,\n          column: 28\n        }\n      },\n      \"47\": {\n        start: {\n          line: 158,\n          column: 8\n        },\n        end: {\n          line: 158,\n          column: 41\n        }\n      },\n      \"48\": {\n        start: {\n          line: 161,\n          column: 6\n        },\n        end: {\n          line: 166,\n          column: 7\n        }\n      },\n      \"49\": {\n        start: {\n          line: 163,\n          column: 10\n        },\n        end: {\n          line: 163,\n          column: 32\n        }\n      },\n      \"50\": {\n        start: {\n          line: 165,\n          column: 10\n        },\n        end: {\n          line: 165,\n          column: 32\n        }\n      },\n      \"51\": {\n        start: {\n          line: 171,\n          column: 19\n        },\n        end: {\n          line: 171,\n          column: 49\n        }\n      },\n      \"52\": {\n        start: {\n          line: 172,\n          column: 4\n        },\n        end: {\n          line: 186,\n          column: 5\n        }\n      },\n      \"53\": {\n        start: {\n          line: 173,\n          column: 6\n        },\n        end: {\n          line: 185,\n          column: 7\n        }\n      },\n      \"54\": {\n        start: {\n          line: 174,\n          column: 8\n        },\n        end: {\n          line: 178,\n          column: 9\n        }\n      },\n      \"55\": {\n        start: {\n          line: 175,\n          column: 10\n        },\n        end: {\n          line: 175,\n          column: 29\n        }\n      },\n      \"56\": {\n        start: {\n          line: 177,\n          column: 10\n        },\n        end: {\n          line: 177,\n          column: 29\n        }\n      },\n      \"57\": {\n        start: {\n          line: 180,\n          column: 8\n        },\n        end: {\n          line: 184,\n          column: 9\n        }\n      },\n      \"58\": {\n        start: {\n          line: 181,\n          column: 10\n        },\n        end: {\n          line: 181,\n          column: 27\n        }\n      },\n      \"59\": {\n        start: {\n          line: 183,\n          column: 10\n        },\n        end: {\n          line: 183,\n          column: 28\n        }\n      },\n      \"60\": {\n        start: {\n          line: 190,\n          column: 4\n        },\n        end: {\n          line: 198,\n          column: 5\n        }\n      },\n      \"61\": {\n        start: {\n          line: 191,\n          column: 6\n        },\n        end: {\n          line: 197,\n          column: 9\n        }\n      },\n      \"62\": {\n        start: {\n          line: 202,\n          column: 4\n        },\n        end: {\n          line: 204,\n          column: 5\n        }\n      },\n      \"63\": {\n        start: {\n          line: 203,\n          column: 6\n        },\n        end: {\n          line: 203,\n          column: 90\n        }\n      },\n      \"64\": {\n        start: {\n          line: 206,\n          column: 4\n        },\n        end: {\n          line: 219,\n          column: 6\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"roundCoords\",\n        decl: {\n          start: {\n            line: 36,\n            column: 9\n          },\n          end: {\n            line: 36,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 36,\n            column: 47\n          },\n          end: {\n            line: 38,\n            column: 1\n          }\n        },\n        line: 36\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 46,\n            column: 2\n          },\n          end: {\n            line: 46,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 46,\n            column: 15\n          },\n          end: {\n            line: 48,\n            column: 3\n          }\n        },\n        line: 46\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 50,\n            column: 18\n          },\n          end: {\n            line: 50,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 50,\n            column: 48\n          },\n          end: {\n            line: 56,\n            column: 3\n          }\n        },\n        line: 50\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 55,\n            column: 38\n          },\n          end: {\n            line: 55,\n            column: 39\n          }\n        },\n        loc: {\n          start: {\n            line: 55,\n            column: 48\n          },\n          end: {\n            line: 55,\n            column: 81\n          }\n        },\n        line: 55\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 58,\n            column: 13\n          },\n          end: {\n            line: 58,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 58,\n            column: 43\n          },\n          end: {\n            line: 68,\n            column: 3\n          }\n        },\n        line: 58\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 70,\n            column: 16\n          },\n          end: {\n            line: 70,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 70,\n            column: 46\n          },\n          end: {\n            line: 72,\n            column: 3\n          }\n        },\n        line: 70\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 74,\n            column: 12\n          },\n          end: {\n            line: 74,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 74,\n            column: 37\n          },\n          end: {\n            line: 90,\n            column: 3\n          }\n        },\n        line: 74\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 92,\n            column: 12\n          },\n          end: {\n            line: 92,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 92,\n            column: 48\n          },\n          end: {\n            line: 96,\n            column: 3\n          }\n        },\n        line: 92\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 98,\n            column: 10\n          },\n          end: {\n            line: 98,\n            column: 11\n          }\n        },\n        loc: {\n          start: {\n            line: 98,\n            column: 46\n          },\n          end: {\n            line: 108,\n            column: 3\n          }\n        },\n        line: 98\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 110,\n            column: 2\n          },\n          end: {\n            line: 110,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 110,\n            column: 27\n          },\n          end: {\n            line: 123,\n            column: 3\n          }\n        },\n        line: 110\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 116,\n            column: 16\n          },\n          end: {\n            line: 116,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 116,\n            column: 26\n          },\n          end: {\n            line: 116,\n            column: 72\n          }\n        },\n        line: 116\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 117,\n            column: 17\n          },\n          end: {\n            line: 117,\n            column: 18\n          }\n        },\n        loc: {\n          start: {\n            line: 117,\n            column: 27\n          },\n          end: {\n            line: 119,\n            column: 9\n          }\n        },\n        line: 117\n      },\n      \"12\": {\n        name: \"(anonymous_12)\",\n        decl: {\n          start: {\n            line: 125,\n            column: 14\n          },\n          end: {\n            line: 125,\n            column: 15\n          }\n        },\n        loc: {\n          start: {\n            line: 125,\n            column: 20\n          },\n          end: {\n            line: 151,\n            column: 3\n          }\n        },\n        line: 125\n      },\n      \"13\": {\n        name: \"(anonymous_13)\",\n        decl: {\n          start: {\n            line: 127,\n            column: 11\n          },\n          end: {\n            line: 127,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 127,\n            column: 30\n          },\n          end: {\n            line: 127,\n            column: 52\n          }\n        },\n        line: 127\n      },\n      \"14\": {\n        name: \"(anonymous_14)\",\n        decl: {\n          start: {\n            line: 128,\n            column: 14\n          },\n          end: {\n            line: 128,\n            column: 15\n          }\n        },\n        loc: {\n          start: {\n            line: 128,\n            column: 25\n          },\n          end: {\n            line: 128,\n            column: 44\n          }\n        },\n        line: 128\n      },\n      \"15\": {\n        name: \"(anonymous_15)\",\n        decl: {\n          start: {\n            line: 129,\n            column: 11\n          },\n          end: {\n            line: 129,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 129,\n            column: 22\n          },\n          end: {\n            line: 150,\n            column: 7\n          }\n        },\n        line: 129\n      },\n      \"16\": {\n        name: \"(anonymous_16)\",\n        decl: {\n          start: {\n            line: 153,\n            column: 2\n          },\n          end: {\n            line: 153,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 153,\n            column: 15\n          },\n          end: {\n            line: 168,\n            column: 3\n          }\n        },\n        line: 153\n      },\n      \"17\": {\n        name: \"(anonymous_17)\",\n        decl: {\n          start: {\n            line: 170,\n            column: 2\n          },\n          end: {\n            line: 170,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 170,\n            column: 17\n          },\n          end: {\n            line: 187,\n            column: 3\n          }\n        },\n        line: 170\n      },\n      \"18\": {\n        name: \"(anonymous_18)\",\n        decl: {\n          start: {\n            line: 189,\n            column: 2\n          },\n          end: {\n            line: 189,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 189,\n            column: 45\n          },\n          end: {\n            line: 199,\n            column: 3\n          }\n        },\n        line: 189\n      },\n      \"19\": {\n        name: \"(anonymous_19)\",\n        decl: {\n          start: {\n            line: 201,\n            column: 2\n          },\n          end: {\n            line: 201,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 201,\n            column: 11\n          },\n          end: {\n            line: 220,\n            column: 3\n          }\n        },\n        line: 201\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 47,\n            column: 11\n          },\n          end: {\n            line: 47,\n            column: 75\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 47,\n            column: 11\n          },\n          end: {\n            line: 47,\n            column: 44\n          }\n        }, {\n          start: {\n            line: 47,\n            column: 48\n          },\n          end: {\n            line: 47,\n            column: 75\n          }\n        }],\n        line: 47\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 51,\n            column: 4\n          },\n          end: {\n            line: 53,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 51,\n            column: 4\n          },\n          end: {\n            line: 53,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 51,\n            column: 4\n          },\n          end: {\n            line: 53,\n            column: 5\n          }\n        }],\n        line: 51\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 51,\n            column: 8\n          },\n          end: {\n            line: 51,\n            column: 97\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 51,\n            column: 8\n          },\n          end: {\n            line: 51,\n            column: 41\n          }\n        }, {\n          start: {\n            line: 51,\n            column: 45\n          },\n          end: {\n            line: 51,\n            column: 97\n          }\n        }],\n        line: 51\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 67,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 67,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 67,\n            column: 5\n          }\n        }],\n        line: 60\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 60,\n            column: 8\n          },\n          end: {\n            line: 60,\n            column: 68\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 60,\n            column: 8\n          },\n          end: {\n            line: 60,\n            column: 36\n          }\n        }, {\n          start: {\n            line: 60,\n            column: 40\n          },\n          end: {\n            line: 60,\n            column: 68\n          }\n        }],\n        line: 60\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 79,\n            column: 4\n          },\n          end: {\n            line: 89,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 79,\n            column: 4\n          },\n          end: {\n            line: 89,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 79,\n            column: 4\n          },\n          end: {\n            line: 89,\n            column: 5\n          }\n        }],\n        line: 79\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 93,\n            column: 4\n          },\n          end: {\n            line: 95,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 93,\n            column: 4\n          },\n          end: {\n            line: 95,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 93,\n            column: 4\n          },\n          end: {\n            line: 95,\n            column: 5\n          }\n        }],\n        line: 93\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 99,\n            column: 4\n          },\n          end: {\n            line: 101,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 99,\n            column: 4\n          },\n          end: {\n            line: 101,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 99,\n            column: 4\n          },\n          end: {\n            line: 101,\n            column: 5\n          }\n        }],\n        line: 99\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 99,\n            column: 8\n          },\n          end: {\n            line: 99,\n            column: 55\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 99,\n            column: 8\n          },\n          end: {\n            line: 99,\n            column: 36\n          }\n        }, {\n          start: {\n            line: 99,\n            column: 40\n          },\n          end: {\n            line: 99,\n            column: 55\n          }\n        }],\n        line: 99\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 113,\n            column: 4\n          },\n          end: {\n            line: 120,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 113,\n            column: 4\n          },\n          end: {\n            line: 120,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 113,\n            column: 4\n          },\n          end: {\n            line: 120,\n            column: 5\n          }\n        }],\n        line: 113\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 143,\n            column: 36\n          },\n          end: {\n            line: 143,\n            column: 86\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 143,\n            column: 66\n          },\n          end: {\n            line: 143,\n            column: 74\n          }\n        }, {\n          start: {\n            line: 143,\n            column: 77\n          },\n          end: {\n            line: 143,\n            column: 86\n          }\n        }],\n        line: 143\n      },\n      \"11\": {\n        loc: {\n          start: {\n            line: 144,\n            column: 15\n          },\n          end: {\n            line: 146,\n            column: 22\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 145,\n            column: 16\n          },\n          end: {\n            line: 145,\n            column: 111\n          }\n        }, {\n          start: {\n            line: 146,\n            column: 18\n          },\n          end: {\n            line: 146,\n            column: 22\n          }\n        }],\n        line: 144\n      },\n      \"12\": {\n        loc: {\n          start: {\n            line: 145,\n            column: 56\n          },\n          end: {\n            line: 145,\n            column: 107\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 145,\n            column: 86\n          },\n          end: {\n            line: 145,\n            column: 95\n          }\n        }, {\n          start: {\n            line: 145,\n            column: 98\n          },\n          end: {\n            line: 145,\n            column: 107\n          }\n        }],\n        line: 145\n      },\n      \"13\": {\n        loc: {\n          start: {\n            line: 154,\n            column: 4\n          },\n          end: {\n            line: 167,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 154,\n            column: 4\n          },\n          end: {\n            line: 167,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 154,\n            column: 4\n          },\n          end: {\n            line: 167,\n            column: 5\n          }\n        }],\n        line: 154\n      },\n      \"14\": {\n        loc: {\n          start: {\n            line: 154,\n            column: 8\n          },\n          end: {\n            line: 154,\n            column: 74\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 154,\n            column: 8\n          },\n          end: {\n            line: 154,\n            column: 41\n          }\n        }, {\n          start: {\n            line: 154,\n            column: 45\n          },\n          end: {\n            line: 154,\n            column: 74\n          }\n        }],\n        line: 154\n      },\n      \"15\": {\n        loc: {\n          start: {\n            line: 155,\n            column: 6\n          },\n          end: {\n            line: 159,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 155,\n            column: 6\n          },\n          end: {\n            line: 159,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 155,\n            column: 6\n          },\n          end: {\n            line: 159,\n            column: 7\n          }\n        }],\n        line: 155\n      },\n      \"16\": {\n        loc: {\n          start: {\n            line: 161,\n            column: 6\n          },\n          end: {\n            line: 166,\n            column: 7\n          }\n        },\n        type: \"switch\",\n        locations: [{\n          start: {\n            line: 162,\n            column: 8\n          },\n          end: {\n            line: 163,\n            column: 32\n          }\n        }, {\n          start: {\n            line: 164,\n            column: 8\n          },\n          end: {\n            line: 165,\n            column: 32\n          }\n        }],\n        line: 161\n      },\n      \"17\": {\n        loc: {\n          start: {\n            line: 172,\n            column: 4\n          },\n          end: {\n            line: 186,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 172,\n            column: 4\n          },\n          end: {\n            line: 186,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 172,\n            column: 4\n          },\n          end: {\n            line: 186,\n            column: 5\n          }\n        }],\n        line: 172\n      },\n      \"18\": {\n        loc: {\n          start: {\n            line: 173,\n            column: 6\n          },\n          end: {\n            line: 185,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 173,\n            column: 6\n          },\n          end: {\n            line: 185,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 173,\n            column: 6\n          },\n          end: {\n            line: 185,\n            column: 7\n          }\n        }],\n        line: 173\n      },\n      \"19\": {\n        loc: {\n          start: {\n            line: 174,\n            column: 8\n          },\n          end: {\n            line: 178,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 174,\n            column: 8\n          },\n          end: {\n            line: 178,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 174,\n            column: 8\n          },\n          end: {\n            line: 178,\n            column: 9\n          }\n        }],\n        line: 174\n      },\n      \"20\": {\n        loc: {\n          start: {\n            line: 180,\n            column: 8\n          },\n          end: {\n            line: 184,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 180,\n            column: 8\n          },\n          end: {\n            line: 184,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 180,\n            column: 8\n          },\n          end: {\n            line: 184,\n            column: 9\n          }\n        }],\n        line: 180\n      },\n      \"21\": {\n        loc: {\n          start: {\n            line: 190,\n            column: 4\n          },\n          end: {\n            line: 198,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 190,\n            column: 4\n          },\n          end: {\n            line: 198,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 190,\n            column: 4\n          },\n          end: {\n            line: 198,\n            column: 5\n          }\n        }],\n        line: 190\n      },\n      \"22\": {\n        loc: {\n          start: {\n            line: 194,\n            column: 10\n          },\n          end: {\n            line: 196,\n            column: 93\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 195,\n            column: 14\n          },\n          end: {\n            line: 195,\n            column: 71\n          }\n        }, {\n          start: {\n            line: 196,\n            column: 14\n          },\n          end: {\n            line: 196,\n            column: 93\n          }\n        }],\n        line: 194\n      },\n      \"23\": {\n        loc: {\n          start: {\n            line: 202,\n            column: 4\n          },\n          end: {\n            line: 204,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 202,\n            column: 4\n          },\n          end: {\n            line: 204,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 202,\n            column: 4\n          },\n          end: {\n            line: 204,\n            column: 5\n          }\n        }],\n        line: 202\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0,\n      \"51\": 0,\n      \"52\": 0,\n      \"53\": 0,\n      \"54\": 0,\n      \"55\": 0,\n      \"56\": 0,\n      \"57\": 0,\n      \"58\": 0,\n      \"59\": 0,\n      \"60\": 0,\n      \"61\": 0,\n      \"62\": 0,\n      \"63\": 0,\n      \"64\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0],\n      \"11\": [0, 0],\n      \"12\": [0, 0],\n      \"13\": [0, 0],\n      \"14\": [0, 0],\n      \"15\": [0, 0],\n      \"16\": [0, 0],\n      \"17\": [0, 0],\n      \"18\": [0, 0],\n      \"19\": [0, 0],\n      \"20\": [0, 0],\n      \"21\": [0, 0],\n      \"22\": [0, 0],\n      \"23\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"12ac480440743526a323b00c620c27c0fcf83c80\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_1e6jm7e3ou = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_1e6jm7e3ou();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from 'react';\nimport { GameLayout } from 'components/App/Game/GameLayout';\nimport { toCoord, getValidMoves, areCoordsEqual } from './game';\nimport { Checkerboard, applyInvertion, algebraicToCartesian, cartesianToAlgebraic } from '../common/Checkerboard';\nimport { Token } from 'ui';\nimport Typography from '@material-ui/core/Typography';\nimport grey from '@material-ui/core/colors/grey';\nimport blue from '@material-ui/core/colors/blue';\nimport { isOnlineGame, isLocalGame, isAIGame } from '../common/gameMode';\n\nfunction roundCoords(coords) {\n  cov_1e6jm7e3ou().f[0]++;\n  cov_1e6jm7e3ou().s[0]++;\n  return {\n    x: Math.round(coords.x),\n    y: Math.round(coords.y)\n  };\n}\n\nexport class Board extends (React.Component) {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", (cov_1e6jm7e3ou().s[1]++, {\n      selected: null,\n      validMoves: getValidMoves(this.props.G, this.props.ctx.currentPlayer)\n    }));\n\n    _defineProperty(this, \"_isSelectable\", (cov_1e6jm7e3ou().s[3]++, coords => {\n      cov_1e6jm7e3ou().f[2]++;\n      cov_1e6jm7e3ou().s[4]++;\n\n      if ((cov_1e6jm7e3ou().b[2][0]++, isOnlineGame(this.props.gameArgs)) && (cov_1e6jm7e3ou().b[2][1]++, this.props.playerID !== this.props.ctx.currentPlayer)) {\n        cov_1e6jm7e3ou().b[1][0]++;\n        cov_1e6jm7e3ou().s[5]++;\n        return false;\n      } else {\n        cov_1e6jm7e3ou().b[1][1]++;\n      }\n\n      cov_1e6jm7e3ou().s[6]++;\n      return this.state.validMoves.some(move => {\n        cov_1e6jm7e3ou().f[3]++;\n        cov_1e6jm7e3ou().s[7]++;\n        return areCoordsEqual(move.from, coords);\n      });\n    }));\n\n    _defineProperty(this, \"_onClick\", (cov_1e6jm7e3ou().s[8]++, coords => {\n      cov_1e6jm7e3ou().f[4]++;\n      const position = (cov_1e6jm7e3ou().s[9]++, algebraicToCartesian(coords.square));\n      cov_1e6jm7e3ou().s[10]++;\n\n      if ((cov_1e6jm7e3ou().b[4][0]++, this.state.selected === null) && (cov_1e6jm7e3ou().b[4][1]++, this._isSelectable(position))) {\n        cov_1e6jm7e3ou().b[3][0]++;\n        cov_1e6jm7e3ou().s[11]++;\n        this.setState(_objectSpread({}, this.state, {\n          selected: position\n        }));\n      } else {\n        cov_1e6jm7e3ou().b[3][1]++;\n        cov_1e6jm7e3ou().s[12]++;\n\n        this._move(position);\n      }\n    }));\n\n    _defineProperty(this, \"_shouldDrag\", (cov_1e6jm7e3ou().s[13]++, coords => {\n      cov_1e6jm7e3ou().f[5]++;\n      cov_1e6jm7e3ou().s[14]++;\n      return this._isSelectable(applyInvertion(coords, this.isInverted()));\n    }));\n\n    _defineProperty(this, \"_onDrag\", (cov_1e6jm7e3ou().s[15]++, coords => {\n      cov_1e6jm7e3ou().f[6]++;\n      const x = (cov_1e6jm7e3ou().s[16]++, coords.x);\n      const y = (cov_1e6jm7e3ou().s[17]++, coords.y);\n      const originalX = (cov_1e6jm7e3ou().s[18]++, coords.originalX);\n      const originalY = (cov_1e6jm7e3ou().s[19]++, coords.originalY);\n      cov_1e6jm7e3ou().s[20]++;\n\n      if (Math.sqrt((x - originalX) ** 2 + (y - originalY) ** 2) > 0.2) {\n        cov_1e6jm7e3ou().b[5][0]++;\n        cov_1e6jm7e3ou().s[21]++;\n        this.setState(_objectSpread({}, this.state, {\n          selected: applyInvertion({\n            x: originalX,\n            y: originalY\n          }, this.isInverted())\n        }));\n      } else {\n        cov_1e6jm7e3ou().b[5][1]++;\n        cov_1e6jm7e3ou().s[22]++;\n        this.setState(_objectSpread({}, this.state, {\n          selected: null\n        }));\n      }\n    }));\n\n    _defineProperty(this, \"_onDrop\", (cov_1e6jm7e3ou().s[23]++, async coords => {\n      cov_1e6jm7e3ou().f[7]++;\n      cov_1e6jm7e3ou().s[24]++;\n\n      if (this.state.selected) {\n        cov_1e6jm7e3ou().b[6][0]++;\n        cov_1e6jm7e3ou().s[25]++;\n\n        this._move(applyInvertion(roundCoords(coords), this.isInverted()));\n      } else {\n        cov_1e6jm7e3ou().b[6][1]++;\n      }\n    }));\n\n    _defineProperty(this, \"_move\", (cov_1e6jm7e3ou().s[26]++, async coords => {\n      cov_1e6jm7e3ou().f[8]++;\n      cov_1e6jm7e3ou().s[27]++;\n\n      if ((cov_1e6jm7e3ou().b[8][0]++, this.state.selected === null) || (cov_1e6jm7e3ou().b[8][1]++, coords === null)) {\n        cov_1e6jm7e3ou().b[7][0]++;\n        cov_1e6jm7e3ou().s[28]++;\n        return;\n      } else {\n        cov_1e6jm7e3ou().b[7][1]++;\n      }\n\n      cov_1e6jm7e3ou().s[29]++;\n      await this.props.moves.move(this.state.selected, coords);\n      cov_1e6jm7e3ou().s[30]++;\n      this.setState(_objectSpread({}, this.state, {\n        selected: null\n      }));\n    }));\n\n    _defineProperty(this, \"getPieces\", (cov_1e6jm7e3ou().s[38]++, () => {\n      cov_1e6jm7e3ou().f[12]++;\n      cov_1e6jm7e3ou().s[39]++;\n      return this.props.G.board.map((piece, index) => {\n        cov_1e6jm7e3ou().f[13]++;\n        cov_1e6jm7e3ou().s[40]++;\n        return {\n          data: piece,\n          index\n        };\n      }).filter(piece => {\n        cov_1e6jm7e3ou().f[14]++;\n        cov_1e6jm7e3ou().s[41]++;\n        return piece.data !== null;\n      }).map(piece => {\n        cov_1e6jm7e3ou().f[15]++;\n        const {\n          x,\n          y\n        } = (cov_1e6jm7e3ou().s[42]++, toCoord(piece.index));\n        cov_1e6jm7e3ou().s[43]++;\n        return __jsx(Token, {\n          x: x,\n          y: y,\n          draggable: true,\n          shouldDrag: this._shouldDrag,\n          onDrop: this._onDrop,\n          onDrag: this._onDrag,\n          animate: true,\n          key: piece.data.id\n        }, __jsx(\"g\", null, __jsx(\"circle\", {\n          r: \"0.4\",\n          fill: piece.data.playerID === '0' ? (cov_1e6jm7e3ou().b[10][0]++, grey[50]) : (cov_1e6jm7e3ou().b[10][1]++, grey[900]),\n          cx: \"0.5\",\n          cy: \"0.5\"\n        }), piece.data.isKing ? (cov_1e6jm7e3ou().b[11][0]++, __jsx(\"circle\", {\n          r: \"0.2\",\n          cx: \"0.5\",\n          cy: \"0.5\",\n          fill: piece.data.playerID === '1' ? (cov_1e6jm7e3ou().b[12][0]++, grey[800]) : (cov_1e6jm7e3ou().b[12][1]++, grey[400])\n        })) : (cov_1e6jm7e3ou().b[11][1]++, null)));\n      });\n    }));\n  }\n\n  isInverted() {\n    cov_1e6jm7e3ou().f[1]++;\n    cov_1e6jm7e3ou().s[2]++;\n    return (cov_1e6jm7e3ou().b[0][0]++, isOnlineGame(this.props.gameArgs)) && (cov_1e6jm7e3ou().b[0][1]++, this.props.playerID === '1');\n  }\n\n  _getHighlightedSquares() {\n    cov_1e6jm7e3ou().f[9]++;\n    const result = (cov_1e6jm7e3ou().s[31]++, {});\n    cov_1e6jm7e3ou().s[32]++;\n\n    if (this.state.selected !== null) {\n      cov_1e6jm7e3ou().b[9][0]++;\n      cov_1e6jm7e3ou().s[33]++;\n      result[cartesianToAlgebraic(this.state.selected.x, this.state.selected.y, false)] = blue[700];\n      cov_1e6jm7e3ou().s[34]++;\n      this.state.validMoves.filter(move => {\n        cov_1e6jm7e3ou().f[10]++;\n        cov_1e6jm7e3ou().s[35]++;\n        return areCoordsEqual(this.state.selected, move.from);\n      }).forEach(move => {\n        cov_1e6jm7e3ou().f[11]++;\n        cov_1e6jm7e3ou().s[36]++;\n        result[cartesianToAlgebraic(move.to.x, move.to.y, false)] = blue[500];\n      });\n    } else {\n      cov_1e6jm7e3ou().b[9][1]++;\n    }\n\n    cov_1e6jm7e3ou().s[37]++;\n    return result;\n  }\n\n  _getStatus() {\n    cov_1e6jm7e3ou().f[16]++;\n    cov_1e6jm7e3ou().s[44]++;\n\n    if ((cov_1e6jm7e3ou().b[14][0]++, isOnlineGame(this.props.gameArgs)) || (cov_1e6jm7e3ou().b[14][1]++, isAIGame(this.props.gameArgs))) {\n      cov_1e6jm7e3ou().b[13][0]++;\n      cov_1e6jm7e3ou().s[45]++;\n\n      if (this.props.ctx.currentPlayer === this.props.playerID) {\n        cov_1e6jm7e3ou().b[15][0]++;\n        cov_1e6jm7e3ou().s[46]++;\n        return 'Move piece';\n      } else {\n        cov_1e6jm7e3ou().b[15][1]++;\n        cov_1e6jm7e3ou().s[47]++;\n        return 'Waiting for opponent...';\n      }\n    } else {\n      cov_1e6jm7e3ou().b[13][1]++;\n      cov_1e6jm7e3ou().s[48]++;\n\n      switch (this.props.ctx.currentPlayer) {\n        case '0':\n          cov_1e6jm7e3ou().b[16][0]++;\n          cov_1e6jm7e3ou().s[49]++;\n          return \"White's turn\";\n\n        case '1':\n          cov_1e6jm7e3ou().b[16][1]++;\n          cov_1e6jm7e3ou().s[50]++;\n          return \"Black's turn\";\n      }\n    }\n  }\n\n  _getGameOver() {\n    cov_1e6jm7e3ou().f[17]++;\n    const winner = (cov_1e6jm7e3ou().s[51]++, this.props.ctx.gameover.winner);\n    cov_1e6jm7e3ou().s[52]++;\n\n    if (winner) {\n      cov_1e6jm7e3ou().b[17][0]++;\n      cov_1e6jm7e3ou().s[53]++;\n\n      if (isLocalGame(this.props.gameArgs)) {\n        cov_1e6jm7e3ou().b[18][0]++;\n        cov_1e6jm7e3ou().s[54]++;\n\n        if (winner === '0') {\n          cov_1e6jm7e3ou().b[19][0]++;\n          cov_1e6jm7e3ou().s[55]++;\n          return 'white won';\n        } else {\n          cov_1e6jm7e3ou().b[19][1]++;\n          cov_1e6jm7e3ou().s[56]++;\n          return 'black won';\n        }\n      } else {\n        cov_1e6jm7e3ou().b[18][1]++;\n        cov_1e6jm7e3ou().s[57]++;\n\n        if (winner === this.props.playerID) {\n          cov_1e6jm7e3ou().b[20][0]++;\n          cov_1e6jm7e3ou().s[58]++;\n          return 'you won';\n        } else {\n          cov_1e6jm7e3ou().b[20][1]++;\n          cov_1e6jm7e3ou().s[59]++;\n          return 'you lost';\n        }\n      }\n    } else {\n      cov_1e6jm7e3ou().b[17][1]++;\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    cov_1e6jm7e3ou().f[18]++;\n    cov_1e6jm7e3ou().s[60]++;\n\n    if (prevProps.ctx.turn !== this.props.ctx.turn) {\n      cov_1e6jm7e3ou().b[21][0]++;\n      cov_1e6jm7e3ou().s[61]++;\n      this.setState(_objectSpread({}, this.state, {\n        validMoves: this.props.G.jumping === null ? (cov_1e6jm7e3ou().b[22][0]++, getValidMoves(this.props.G, this.props.ctx.currentPlayer)) : (cov_1e6jm7e3ou().b[22][1]++, getValidMoves(this.props.G, this.props.ctx.currentPlayer, this.props.G.jumping))\n      }));\n    } else {\n      cov_1e6jm7e3ou().b[21][1]++;\n    }\n  }\n\n  render() {\n    cov_1e6jm7e3ou().f[19]++;\n    cov_1e6jm7e3ou().s[62]++;\n\n    if (this.props.ctx.gameover) {\n      cov_1e6jm7e3ou().b[23][0]++;\n      cov_1e6jm7e3ou().s[63]++;\n      return __jsx(GameLayout, {\n        gameOver: this._getGameOver(),\n        gameArgs: this.props.gameArgs\n      });\n    } else {\n      cov_1e6jm7e3ou().b[23][1]++;\n    }\n\n    cov_1e6jm7e3ou().s[64]++;\n    return __jsx(GameLayout, {\n      gameArgs: this.props.gameArgs\n    }, __jsx(Typography, {\n      variant: \"h5\",\n      style: {\n        textAlign: 'center',\n        color: 'white',\n        marginBottom: '16px'\n      }\n    }, this._getStatus()), __jsx(Checkerboard, {\n      onClick: this._onClick,\n      invert: this.isInverted(),\n      highlightedSquares: this._getHighlightedSquares()\n    }, this.getPieces()));\n  }\n\n}","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/games/checkers/board.tsx"],"names":["React","GameLayout","toCoord","getValidMoves","areCoordsEqual","Checkerboard","applyInvertion","algebraicToCartesian","cartesianToAlgebraic","Token","Typography","grey","blue","isOnlineGame","isLocalGame","isAIGame","roundCoords","coords","x","Math","round","y","Board","Component","selected","validMoves","props","G","ctx","currentPlayer","gameArgs","playerID","state","some","move","from","position","square","_isSelectable","setState","_move","isInverted","originalX","originalY","sqrt","moves","board","map","piece","index","data","filter","_shouldDrag","_onDrop","_onDrag","id","isKing","_getHighlightedSquares","result","forEach","to","_getStatus","_getGameOver","winner","gameover","componentDidUpdate","prevProps","turn","jumping","render","textAlign","color","marginBottom","_onClick","getPieces"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["import * as React from 'react';\nimport { IGameArgs } from 'components/App/Game/GameBoardWrapper';\nimport { GameLayout } from 'components/App/Game/GameLayout';\nimport { IGameCtx } from 'boardgame.io/core';\nimport { IG, toCoord, IMove, getValidMoves, areCoordsEqual } from './game';\nimport {\n  Checkerboard,\n  IAlgebraicCoords,\n  ICartesianCoords,\n  IOnDragData,\n  applyInvertion,\n  algebraicToCartesian,\n  IColorMap,\n  cartesianToAlgebraic,\n} from '../common/Checkerboard';\nimport { Token } from 'ui';\nimport Typography from '@material-ui/core/Typography';\nimport grey from '@material-ui/core/colors/grey';\nimport blue from '@material-ui/core/colors/blue';\nimport { isOnlineGame, isLocalGame, isAIGame } from '../common/gameMode';\n\ninterface IBoardProps {\n  G: IG;\n  ctx: IGameCtx;\n  moves: any;\n  step?: any;\n  playerID: string;\n  gameArgs?: IGameArgs;\n}\n\ninterface IBoardState {\n  selected: ICartesianCoords;\n  validMoves: IMove[];\n}\n\nfunction roundCoords(coords: ICartesianCoords) {\n  return { x: Math.round(coords.x), y: Math.round(coords.y) };\n}\n\nexport class Board extends React.Component<IBoardProps, IBoardState> {\n  state: IBoardState = {\n    selected: null,\n    validMoves: getValidMoves(this.props.G, this.props.ctx.currentPlayer),\n  };\n\n  isInverted() {\n    return isOnlineGame(this.props.gameArgs) && this.props.playerID === '1';\n  }\n\n  _isSelectable = (coords: ICartesianCoords) => {\n    if (isOnlineGame(this.props.gameArgs) && this.props.playerID !== this.props.ctx.currentPlayer) {\n      return false;\n    }\n\n    return this.state.validMoves.some((move) => areCoordsEqual(move.from, coords));\n  };\n\n  _onClick = (coords: IAlgebraicCoords) => {\n    const position = algebraicToCartesian(coords.square);\n    if (this.state.selected === null && this._isSelectable(position)) {\n      this.setState({\n        ...this.state,\n        selected: position,\n      });\n    } else {\n      this._move(position);\n    }\n  };\n\n  _shouldDrag = (coords: ICartesianCoords) => {\n    return this._isSelectable(applyInvertion(coords, this.isInverted()));\n  };\n\n  _onDrag = (coords: IOnDragData) => {\n    const x = coords.x;\n    const y = coords.y;\n    const originalX = coords.originalX;\n    const originalY = coords.originalY;\n    if (Math.sqrt((x - originalX) ** 2 + (y - originalY) ** 2) > 0.2) {\n      this.setState({\n        ...this.state,\n        selected: applyInvertion({ x: originalX, y: originalY }, this.isInverted()),\n      });\n    } else {\n      this.setState({\n        ...this.state,\n        selected: null,\n      });\n    }\n  };\n\n  _onDrop = async (coords: ICartesianCoords) => {\n    if (this.state.selected) {\n      this._move(applyInvertion(roundCoords(coords), this.isInverted()));\n    }\n  };\n\n  _move = async (coords: ICartesianCoords) => {\n    if (this.state.selected === null || coords === null) {\n      return;\n    }\n\n    await this.props.moves.move(this.state.selected, coords);\n    this.setState({\n      ...this.state,\n      selected: null,\n    });\n  };\n\n  _getHighlightedSquares() {\n    const result = {} as IColorMap;\n\n    if (this.state.selected !== null) {\n      result[cartesianToAlgebraic(this.state.selected.x, this.state.selected.y, false)] = blue[700];\n      this.state.validMoves\n        .filter((move) => areCoordsEqual(this.state.selected, move.from))\n        .forEach((move) => {\n          result[cartesianToAlgebraic(move.to.x, move.to.y, false)] = blue[500];\n        });\n    }\n\n    return result;\n  }\n\n  getPieces = () => {\n    return this.props.G.board\n      .map((piece, index) => ({ data: piece, index }))\n      .filter((piece) => piece.data !== null)\n      .map((piece) => {\n        const { x, y } = toCoord(piece.index);\n        return (\n          <Token\n            x={x}\n            y={y}\n            draggable={true}\n            shouldDrag={this._shouldDrag}\n            onDrop={this._onDrop}\n            onDrag={this._onDrag}\n            animate={true}\n            key={piece.data.id}\n          >\n            <g>\n              <circle r=\"0.4\" fill={piece.data.playerID === '0' ? grey[50] : grey[900]} cx=\"0.5\" cy=\"0.5\" />\n              {piece.data.isKing ? (\n                <circle r=\"0.2\" cx=\"0.5\" cy=\"0.5\" fill={piece.data.playerID === '1' ? grey[800] : grey[400]} />\n              ) : null}\n            </g>\n          </Token>\n        );\n      });\n  };\n\n  _getStatus() {\n    if (isOnlineGame(this.props.gameArgs) || isAIGame(this.props.gameArgs)) {\n      if (this.props.ctx.currentPlayer === this.props.playerID) {\n        return 'Move piece';\n      } else {\n        return 'Waiting for opponent...';\n      }\n    } else {\n      switch (this.props.ctx.currentPlayer) {\n        case '0':\n          return \"White's turn\";\n        case '1':\n          return \"Black's turn\";\n      }\n    }\n  }\n\n  _getGameOver() {\n    const winner = this.props.ctx.gameover.winner;\n    if (winner) {\n      if (isLocalGame(this.props.gameArgs)) {\n        if (winner === '0') {\n          return 'white won';\n        } else {\n          return 'black won';\n        }\n      } else {\n        if (winner === this.props.playerID) {\n          return 'you won';\n        } else {\n          return 'you lost';\n        }\n      }\n    }\n  }\n\n  componentDidUpdate(prevProps: IBoardProps) {\n    if (prevProps.ctx.turn !== this.props.ctx.turn) {\n      this.setState({\n        ...this.state,\n        validMoves:\n          this.props.G.jumping === null\n            ? getValidMoves(this.props.G, this.props.ctx.currentPlayer)\n            : getValidMoves(this.props.G, this.props.ctx.currentPlayer, this.props.G.jumping),\n      });\n    }\n  }\n\n  render() {\n    if (this.props.ctx.gameover) {\n      return <GameLayout gameOver={this._getGameOver()} gameArgs={this.props.gameArgs} />;\n    }\n\n    return (\n      <GameLayout gameArgs={this.props.gameArgs}>\n        <Typography variant=\"h5\" style={{ textAlign: 'center', color: 'white', marginBottom: '16px' }}>\n          {this._getStatus()}\n        </Typography>\n        <Checkerboard\n          onClick={this._onClick}\n          invert={this.isInverted()}\n          highlightedSquares={this._getHighlightedSquares()}\n        >\n          {this.getPieces()}\n        </Checkerboard>\n      </GameLayout>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}