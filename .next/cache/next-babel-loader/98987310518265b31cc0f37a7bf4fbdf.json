{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction cov_1o58dj2m2a() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/games/secretcodes/Lobby.tsx\";\n  var hash = \"6fd32708b382bb6f11e2ddac787c5502044e8e16\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/games/secretcodes/Lobby.tsx\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 25,\n          column: 4\n        },\n        end: {\n          line: 27,\n          column: 5\n        }\n      },\n      \"1\": {\n        start: {\n          line: 26,\n          column: 6\n        },\n        end: {\n          line: 26,\n          column: 35\n        }\n      },\n      \"2\": {\n        start: {\n          line: 30,\n          column: 17\n        },\n        end: {\n          line: 34,\n          column: 3\n        }\n      },\n      \"3\": {\n        start: {\n          line: 31,\n          column: 27\n        },\n        end: {\n          line: 31,\n          column: 41\n        }\n      },\n      \"4\": {\n        start: {\n          line: 32,\n          column: 4\n        },\n        end: {\n          line: 32,\n          column: 107\n        }\n      },\n      \"5\": {\n        start: {\n          line: 32,\n          column: 94\n        },\n        end: {\n          line: 32,\n          column: 107\n        }\n      },\n      \"6\": {\n        start: {\n          line: 33,\n          column: 4\n        },\n        end: {\n          line: 33,\n          column: 91\n        }\n      },\n      \"7\": {\n        start: {\n          line: 33,\n          column: 49\n        },\n        end: {\n          line: 33,\n          column: 71\n        }\n      },\n      \"8\": {\n        start: {\n          line: 36,\n          column: 15\n        },\n        end: {\n          line: 38,\n          column: 3\n        }\n      },\n      \"9\": {\n        start: {\n          line: 37,\n          column: 4\n        },\n        end: {\n          line: 37,\n          column: 33\n        }\n      },\n      \"10\": {\n        start: {\n          line: 41,\n          column: 18\n        },\n        end: {\n          line: 45,\n          column: 5\n        }\n      },\n      \"11\": {\n        start: {\n          line: 46,\n          column: 24\n        },\n        end: {\n          line: 46,\n          column: 43\n        }\n      },\n      \"12\": {\n        start: {\n          line: 48,\n          column: 4\n        },\n        end: {\n          line: 62,\n          column: 5\n        }\n      },\n      \"13\": {\n        start: {\n          line: 49,\n          column: 21\n        },\n        end: {\n          line: 49,\n          column: 54\n        }\n      },\n      \"14\": {\n        start: {\n          line: 51,\n          column: 8\n        },\n        end: {\n          line: 58,\n          column: 10\n        }\n      },\n      \"15\": {\n        start: {\n          line: 61,\n          column: 6\n        },\n        end: {\n          line: 61,\n          column: 66\n        }\n      },\n      \"16\": {\n        start: {\n          line: 64,\n          column: 4\n        },\n        end: {\n          line: 111,\n          column: 6\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 24,\n            column: 2\n          },\n          end: {\n            line: 24,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 24,\n            column: 22\n          },\n          end: {\n            line: 28,\n            column: 3\n          }\n        },\n        line: 24\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 30,\n            column: 17\n          },\n          end: {\n            line: 30,\n            column: 18\n          }\n        },\n        loc: {\n          start: {\n            line: 30,\n            column: 32\n          },\n          end: {\n            line: 34,\n            column: 3\n          }\n        },\n        line: 30\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 33,\n            column: 37\n          },\n          end: {\n            line: 33,\n            column: 38\n          }\n        },\n        loc: {\n          start: {\n            line: 33,\n            column: 49\n          },\n          end: {\n            line: 33,\n            column: 71\n          }\n        },\n        line: 33\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 36,\n            column: 15\n          },\n          end: {\n            line: 36,\n            column: 16\n          }\n        },\n        loc: {\n          start: {\n            line: 36,\n            column: 21\n          },\n          end: {\n            line: 38,\n            column: 3\n          }\n        },\n        line: 36\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 40,\n            column: 2\n          },\n          end: {\n            line: 40,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 40,\n            column: 11\n          },\n          end: {\n            line: 112,\n            column: 3\n          }\n        },\n        line: 40\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 25,\n            column: 4\n          },\n          end: {\n            line: 27,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 25,\n            column: 4\n          },\n          end: {\n            line: 27,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 25,\n            column: 4\n          },\n          end: {\n            line: 27,\n            column: 5\n          }\n        }],\n        line: 25\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 25,\n            column: 8\n          },\n          end: {\n            line: 25,\n            column: 63\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 25,\n            column: 8\n          },\n          end: {\n            line: 25,\n            column: 40\n          }\n        }, {\n          start: {\n            line: 25,\n            column: 44\n          },\n          end: {\n            line: 25,\n            column: 63\n          }\n        }],\n        line: 25\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 32,\n            column: 4\n          },\n          end: {\n            line: 32,\n            column: 107\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 32,\n            column: 4\n          },\n          end: {\n            line: 32,\n            column: 107\n          }\n        }, {\n          start: {\n            line: 32,\n            column: 4\n          },\n          end: {\n            line: 32,\n            column: 107\n          }\n        }],\n        line: 32\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 32,\n            column: 8\n          },\n          end: {\n            line: 32,\n            column: 92\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 32,\n            column: 8\n          },\n          end: {\n            line: 32,\n            column: 48\n          }\n        }, {\n          start: {\n            line: 32,\n            column: 52\n          },\n          end: {\n            line: 32,\n            column: 92\n          }\n        }],\n        line: 32\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 61,\n            column: 12\n          },\n          end: {\n            line: 61,\n            column: 53\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 61,\n            column: 12\n          },\n          end: {\n            line: 61,\n            column: 37\n          }\n        }, {\n          start: {\n            line: 61,\n            column: 41\n          },\n          end: {\n            line: 61,\n            column: 53\n          }\n        }],\n        line: 61\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 93,\n            column: 9\n          },\n          end: {\n            line: 97,\n            column: 16\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 94,\n            column: 10\n          },\n          end: {\n            line: 96,\n            column: 14\n          }\n        }, {\n          start: {\n            line: 97,\n            column: 12\n          },\n          end: {\n            line: 97,\n            column: 16\n          }\n        }],\n        line: 93\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 99,\n            column: 9\n          },\n          end: {\n            line: 109,\n            column: 16\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 100,\n            column: 10\n          },\n          end: {\n            line: 108,\n            column: 19\n          }\n        }, {\n          start: {\n            line: 109,\n            column: 12\n          },\n          end: {\n            line: 109,\n            column: 16\n          }\n        }],\n        line: 99\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"6fd32708b382bb6f11e2ddac787c5502044e8e16\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_1o58dj2m2a = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_1o58dj2m2a();\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport * as React from 'react';\nimport css from './Lobby.css';\nimport { LobbyTeam } from './LobbyTeam';\nimport { LobbyPlayer } from './LobbyPlayer';\nimport { isLocalGame } from '../common/gameMode';\nimport Button from '@material-ui/core/Button';\nexport var Lobby = /*#__PURE__*/function (_React$Component) {\n  _inherits(Lobby, _React$Component);\n\n  var _super = _createSuper(Lobby);\n\n  function Lobby() {\n    var _this;\n\n    _classCallCheck(this, Lobby);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"gameCanStart\", (cov_1o58dj2m2a().s[2]++, function () {\n      cov_1o58dj2m2a().f[1]++;\n\n      var _ref = (cov_1o58dj2m2a().s[3]++, _this.props.ctx),\n          numPlayers = _ref.numPlayers;\n\n      cov_1o58dj2m2a().s[4]++;\n\n      if ((cov_1o58dj2m2a().b[3][0]++, _this.props.G.teams[0].spymaster === null) || (cov_1o58dj2m2a().b[3][1]++, _this.props.G.teams[1].spymaster === null)) {\n        cov_1o58dj2m2a().b[2][0]++;\n        cov_1o58dj2m2a().s[5]++;\n        return false;\n      } else {\n        cov_1o58dj2m2a().b[2][1]++;\n      }\n\n      cov_1o58dj2m2a().s[6]++;\n      return _this.props.G.teams.reduce(function (sum, t) {\n        cov_1o58dj2m2a().f[2]++;\n        cov_1o58dj2m2a().s[7]++;\n        return sum + t.players.length;\n      }, 0) === numPlayers;\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_startGame\", (cov_1o58dj2m2a().s[8]++, function () {\n      cov_1o58dj2m2a().f[3]++;\n      cov_1o58dj2m2a().s[9]++;\n\n      _this.props.events.endPhase();\n    }));\n\n    return _this;\n  }\n\n  _createClass(Lobby, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      cov_1o58dj2m2a().f[0]++;\n      cov_1o58dj2m2a().s[0]++;\n\n      if ((cov_1o58dj2m2a().b[1][0]++, isLocalGame(this.props.gameArgs)) && (cov_1o58dj2m2a().b[1][1]++, this.gameCanStart())) {\n        cov_1o58dj2m2a().b[0][0]++;\n        cov_1o58dj2m2a().s[1]++;\n        this.props.events.endPhase();\n      } else {\n        cov_1o58dj2m2a().b[0][1]++;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      cov_1o58dj2m2a().f[4]++;\n      var teams = (cov_1o58dj2m2a().s[10]++, {\n        0: [],\n        1: [],\n        unassigned: []\n      });\n\n      var _ref2 = (cov_1o58dj2m2a().s[11]++, this.props.gameArgs),\n          players = _ref2.players;\n\n      cov_1o58dj2m2a().s[12]++;\n\n      for (var playerIndex in this.props.G.players) {\n        var _player$teamID;\n\n        var player = (cov_1o58dj2m2a().s[13]++, this.props.G.players[playerIndex]);\n        var item = (cov_1o58dj2m2a().s[14]++, __jsx(LobbyPlayer, {\n          key: playerIndex,\n          playerIndex: playerIndex,\n          moves: this.props.moves,\n          player: player,\n          players: players,\n          isHost: this.props.isHost\n        }));\n        cov_1o58dj2m2a().s[15]++;\n        teams[(cov_1o58dj2m2a().b[4][0]++, (_player$teamID = player.teamID) === null || _player$teamID === void 0 ? void 0 : _player$teamID.toString()) || (cov_1o58dj2m2a().b[4][1]++, 'unassigned')].push(item);\n      }\n\n      cov_1o58dj2m2a().s[16]++;\n      return __jsx(\"div\", {\n        className: css.wrapper\n      }, __jsx(\"h1\", {\n        className: css.title\n      }, \"Select teams\"), __jsx(\"div\", {\n        className: css.teamsContainer\n      }, __jsx(LobbyTeam, {\n        moves: this.props.moves,\n        G: this.props.G,\n        playerID: this.props.playerID,\n        classes: [css.team, css.teamBlue].join(' '),\n        teamName: 'Blue Team',\n        teamPlayers: teams[0],\n        teamID: 0\n      }), __jsx(LobbyTeam, {\n        moves: this.props.moves,\n        G: this.props.G,\n        playerID: this.props.playerID,\n        classes: [css.team, css.teamRed].join(' '),\n        teamName: 'Red Team',\n        teamPlayers: teams[1],\n        teamID: 1\n      }), __jsx(\"div\", {\n        className: [css.team, css.unassigned].join(' ')\n      }, __jsx(\"h3\", null, \"Unassigned\"), __jsx(\"ul\", null, teams.unassigned))), !this.gameCanStart() ? (cov_1o58dj2m2a().b[5][0]++, __jsx(\"p\", {\n        className: css.text\n      }, \"In order to start the game all players need to join a team and each team must have a spymaster.\")) : (cov_1o58dj2m2a().b[5][1]++, null), this.props.isHost ? (cov_1o58dj2m2a().b[6][0]++, __jsx(Button, {\n        style: {\n          \"float\": 'right'\n        },\n        variant: \"contained\",\n        onClick: this._startGame,\n        color: \"primary\",\n        disabled: !this.gameCanStart()\n      }, \"Done, play!\")) : (cov_1o58dj2m2a().b[6][1]++, null));\n    }\n  }]);\n\n  return Lobby;\n}((React.Component));","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/games/secretcodes/Lobby.tsx"],"names":["React","css","LobbyTeam","LobbyPlayer","isLocalGame","Button","Lobby","props","ctx","numPlayers","G","teams","spymaster","reduce","sum","t","players","length","events","endPhase","gameArgs","gameCanStart","unassigned","playerIndex","player","item","moves","isHost","teamID","toString","push","wrapper","title","teamsContainer","playerID","team","teamBlue","join","teamRed","text","_startGame","Component"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { IG } from './definitions';\nimport css from './Lobby.css';\nimport { LobbyTeam } from './LobbyTeam';\nimport { IGameArgs } from '../../components/App/Game/GameBoardWrapper';\nimport { LobbyPlayer } from './LobbyPlayer';\nimport { IGameCtx } from 'boardgame.io/core';\nimport { isLocalGame } from '../common/gameMode';\nimport Button from '@material-ui/core/Button';\n\ninterface ILobbyProps {\n  G: IG;\n  ctx: IGameCtx;\n  moves: any;\n  events: any;\n  playerID: string;\n  gameArgs?: IGameArgs;\n  isHost: boolean;\n}\n\ninterface ILobbyState {}\n\nexport class Lobby extends React.Component<ILobbyProps, ILobbyState> {\n  componentDidMount() {\n    if (isLocalGame(this.props.gameArgs) && this.gameCanStart()) {\n      this.props.events.endPhase();\n    }\n  }\n\n  gameCanStart = (): boolean => {\n    const { numPlayers } = this.props.ctx;\n    if (this.props.G.teams[0].spymaster === null || this.props.G.teams[1].spymaster === null) return false;\n    return this.props.G.teams.reduce((sum, t) => sum + t.players.length, 0) === numPlayers;\n  };\n\n  _startGame = () => {\n    this.props.events.endPhase();\n  };\n\n  render() {\n    const teams = {\n      0: [],\n      1: [],\n      unassigned: [],\n    };\n    const { players } = this.props.gameArgs;\n\n    for (const playerIndex in this.props.G.players) {\n      const player = this.props.G.players[playerIndex];\n      const item = (\n        <LobbyPlayer\n          key={playerIndex}\n          playerIndex={playerIndex}\n          moves={this.props.moves}\n          player={player}\n          players={players}\n          isHost={this.props.isHost}\n        />\n      );\n\n      teams[player.teamID?.toString() || 'unassigned'].push(item);\n    }\n\n    return (\n      <div className={css.wrapper}>\n        <h1 className={css.title}>Select teams</h1>\n\n        <div className={css.teamsContainer}>\n          <LobbyTeam\n            moves={this.props.moves}\n            G={this.props.G}\n            playerID={this.props.playerID}\n            classes={[css.team, css.teamBlue].join(' ')}\n            teamName={'Blue Team'}\n            teamPlayers={teams[0]}\n            teamID={0}\n          />\n          <LobbyTeam\n            moves={this.props.moves}\n            G={this.props.G}\n            playerID={this.props.playerID}\n            classes={[css.team, css.teamRed].join(' ')}\n            teamName={'Red Team'}\n            teamPlayers={teams[1]}\n            teamID={1}\n          />\n          <div className={[css.team, css.unassigned].join(' ')}>\n            <h3>Unassigned</h3>\n            <ul>{teams.unassigned}</ul>\n          </div>\n        </div>\n\n        {!this.gameCanStart() ? (\n          <p className={css.text}>\n            In order to start the game all players need to join a team and each team must have a spymaster.\n          </p>\n        ) : null}\n\n        {this.props.isHost ? (\n          <Button\n            style={{ float: 'right' }}\n            variant=\"contained\"\n            onClick={this._startGame}\n            color=\"primary\"\n            disabled={!this.gameCanStart()}\n          >\n            Done, play!\n          </Button>\n        ) : null}\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}