{"ast":null,"code":"function cov_1dz9mwttqq() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/games/reversi/game.ts\";\n  var hash = \"b818a05d471d35f93fec0d8f7a36bc6a739d69cc\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/games/reversi/game.ts\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 8,\n          column: 2\n        },\n        end: {\n          line: 8,\n          column: 19\n        }\n      },\n      \"1\": {\n        start: {\n          line: 12,\n          column: 2\n        },\n        end: {\n          line: 12,\n          column: 44\n        }\n      },\n      \"2\": {\n        start: {\n          line: 16,\n          column: 32\n        },\n        end: {\n          line: 16,\n          column: 41\n        }\n      },\n      \"3\": {\n        start: {\n          line: 17,\n          column: 2\n        },\n        end: {\n          line: 52,\n          column: 7\n        }\n      },\n      \"4\": {\n        start: {\n          line: 18,\n          column: 32\n        },\n        end: {\n          line: 18,\n          column: 52\n        }\n      },\n      \"5\": {\n        start: {\n          line: 19,\n          column: 23\n        },\n        end: {\n          line: 19,\n          column: 48\n        }\n      },\n      \"6\": {\n        start: {\n          line: 21,\n          column: 6\n        },\n        end: {\n          line: 51,\n          column: 7\n        }\n      },\n      \"7\": {\n        start: {\n          line: 21,\n          column: 19\n        },\n        end: {\n          line: 21,\n          column: 21\n        }\n      },\n      \"8\": {\n        start: {\n          line: 22,\n          column: 8\n        },\n        end: {\n          line: 50,\n          column: 9\n        }\n      },\n      \"9\": {\n        start: {\n          line: 22,\n          column: 21\n        },\n        end: {\n          line: 22,\n          column: 23\n        }\n      },\n      \"10\": {\n        start: {\n          line: 23,\n          column: 10\n        },\n        end: {\n          line: 25,\n          column: 11\n        }\n      },\n      \"11\": {\n        start: {\n          line: 24,\n          column: 12\n        },\n        end: {\n          line: 24,\n          column: 21\n        }\n      },\n      \"12\": {\n        start: {\n          line: 26,\n          column: 20\n        },\n        end: {\n          line: 26,\n          column: 38\n        }\n      },\n      \"13\": {\n        start: {\n          line: 28,\n          column: 20\n        },\n        end: {\n          line: 28,\n          column: 45\n        }\n      },\n      \"14\": {\n        start: {\n          line: 30,\n          column: 22\n        },\n        end: {\n          line: 30,\n          column: 27\n        }\n      },\n      \"15\": {\n        start: {\n          line: 31,\n          column: 22\n        },\n        end: {\n          line: 31,\n          column: 27\n        }\n      },\n      \"16\": {\n        start: {\n          line: 32,\n          column: 18\n        },\n        end: {\n          line: 32,\n          column: 19\n        }\n      },\n      \"17\": {\n        start: {\n          line: 33,\n          column: 28\n        },\n        end: {\n          line: 33,\n          column: 32\n        }\n      },\n      \"18\": {\n        start: {\n          line: 35,\n          column: 10\n        },\n        end: {\n          line: 45,\n          column: 11\n        }\n      },\n      \"19\": {\n        start: {\n          line: 36,\n          column: 29\n        },\n        end: {\n          line: 36,\n          column: 53\n        }\n      },\n      \"20\": {\n        start: {\n          line: 37,\n          column: 12\n        },\n        end: {\n          line: 40,\n          column: 13\n        }\n      },\n      \"21\": {\n        start: {\n          line: 38,\n          column: 14\n        },\n        end: {\n          line: 38,\n          column: 29\n        }\n      },\n      \"22\": {\n        start: {\n          line: 39,\n          column: 14\n        },\n        end: {\n          line: 39,\n          column: 20\n        }\n      },\n      \"23\": {\n        start: {\n          line: 42,\n          column: 12\n        },\n        end: {\n          line: 42,\n          column: 16\n        }\n      },\n      \"24\": {\n        start: {\n          line: 43,\n          column: 12\n        },\n        end: {\n          line: 43,\n          column: 30\n        }\n      },\n      \"25\": {\n        start: {\n          line: 44,\n          column: 12\n        },\n        end: {\n          line: 44,\n          column: 30\n        }\n      },\n      \"26\": {\n        start: {\n          line: 47,\n          column: 10\n        },\n        end: {\n          line: 49,\n          column: 11\n        }\n      },\n      \"27\": {\n        start: {\n          line: 48,\n          column: 12\n        },\n        end: {\n          line: 48,\n          column: 32\n        }\n      },\n      \"28\": {\n        start: {\n          line: 54,\n          column: 2\n        },\n        end: {\n          line: 56,\n          column: 3\n        }\n      },\n      \"29\": {\n        start: {\n          line: 55,\n          column: 4\n        },\n        end: {\n          line: 55,\n          column: 22\n        }\n      },\n      \"30\": {\n        start: {\n          line: 58,\n          column: 2\n        },\n        end: {\n          line: 75,\n          column: 7\n        }\n      },\n      \"31\": {\n        start: {\n          line: 59,\n          column: 32\n        },\n        end: {\n          line: 59,\n          column: 52\n        }\n      },\n      \"32\": {\n        start: {\n          line: 60,\n          column: 23\n        },\n        end: {\n          line: 60,\n          column: 44\n        }\n      },\n      \"33\": {\n        start: {\n          line: 62,\n          column: 6\n        },\n        end: {\n          line: 74,\n          column: 7\n        }\n      },\n      \"34\": {\n        start: {\n          line: 62,\n          column: 19\n        },\n        end: {\n          line: 62,\n          column: 21\n        }\n      },\n      \"35\": {\n        start: {\n          line: 63,\n          column: 8\n        },\n        end: {\n          line: 73,\n          column: 9\n        }\n      },\n      \"36\": {\n        start: {\n          line: 63,\n          column: 21\n        },\n        end: {\n          line: 63,\n          column: 23\n        }\n      },\n      \"37\": {\n        start: {\n          line: 64,\n          column: 10\n        },\n        end: {\n          line: 66,\n          column: 11\n        }\n      },\n      \"38\": {\n        start: {\n          line: 65,\n          column: 12\n        },\n        end: {\n          line: 65,\n          column: 21\n        }\n      },\n      \"39\": {\n        start: {\n          line: 68,\n          column: 20\n        },\n        end: {\n          line: 68,\n          column: 38\n        }\n      },\n      \"40\": {\n        start: {\n          line: 69,\n          column: 20\n        },\n        end: {\n          line: 69,\n          column: 45\n        }\n      },\n      \"41\": {\n        start: {\n          line: 70,\n          column: 10\n        },\n        end: {\n          line: 72,\n          column: 11\n        }\n      },\n      \"42\": {\n        start: {\n          line: 71,\n          column: 12\n        },\n        end: {\n          line: 71,\n          column: 43\n        }\n      },\n      \"43\": {\n        start: {\n          line: 77,\n          column: 2\n        },\n        end: {\n          line: 77,\n          column: 20\n        }\n      },\n      \"44\": {\n        start: {\n          line: 81,\n          column: 2\n        },\n        end: {\n          line: 83,\n          column: 3\n        }\n      },\n      \"45\": {\n        start: {\n          line: 82,\n          column: 4\n        },\n        end: {\n          line: 82,\n          column: 24\n        }\n      },\n      \"46\": {\n        start: {\n          line: 85,\n          column: 26\n        },\n        end: {\n          line: 85,\n          column: 44\n        }\n      },\n      \"47\": {\n        start: {\n          line: 86,\n          column: 2\n        },\n        end: {\n          line: 111,\n          column: 3\n        }\n      },\n      \"48\": {\n        start: {\n          line: 86,\n          column: 15\n        },\n        end: {\n          line: 86,\n          column: 17\n        }\n      },\n      \"49\": {\n        start: {\n          line: 87,\n          column: 4\n        },\n        end: {\n          line: 110,\n          column: 5\n        }\n      },\n      \"50\": {\n        start: {\n          line: 87,\n          column: 17\n        },\n        end: {\n          line: 87,\n          column: 19\n        }\n      },\n      \"51\": {\n        start: {\n          line: 88,\n          column: 6\n        },\n        end: {\n          line: 90,\n          column: 7\n        }\n      },\n      \"52\": {\n        start: {\n          line: 89,\n          column: 8\n        },\n        end: {\n          line: 89,\n          column: 17\n        }\n      },\n      \"53\": {\n        start: {\n          line: 92,\n          column: 18\n        },\n        end: {\n          line: 92,\n          column: 23\n        }\n      },\n      \"54\": {\n        start: {\n          line: 93,\n          column: 19\n        },\n        end: {\n          line: 93,\n          column: 21\n        }\n      },\n      \"55\": {\n        start: {\n          line: 94,\n          column: 18\n        },\n        end: {\n          line: 94,\n          column: 23\n        }\n      },\n      \"56\": {\n        start: {\n          line: 95,\n          column: 18\n        },\n        end: {\n          line: 95,\n          column: 23\n        }\n      },\n      \"57\": {\n        start: {\n          line: 96,\n          column: 6\n        },\n        end: {\n          line: 105,\n          column: 7\n        }\n      },\n      \"58\": {\n        start: {\n          line: 96,\n          column: 19\n        },\n        end: {\n          line: 96,\n          column: 20\n        }\n      },\n      \"59\": {\n        start: {\n          line: 97,\n          column: 8\n        },\n        end: {\n          line: 100,\n          column: 9\n        }\n      },\n      \"60\": {\n        start: {\n          line: 98,\n          column: 10\n        },\n        end: {\n          line: 98,\n          column: 23\n        }\n      },\n      \"61\": {\n        start: {\n          line: 99,\n          column: 10\n        },\n        end: {\n          line: 99,\n          column: 16\n        }\n      },\n      \"62\": {\n        start: {\n          line: 101,\n          column: 8\n        },\n        end: {\n          line: 101,\n          column: 46\n        }\n      },\n      \"63\": {\n        start: {\n          line: 103,\n          column: 8\n        },\n        end: {\n          line: 103,\n          column: 26\n        }\n      },\n      \"64\": {\n        start: {\n          line: 104,\n          column: 8\n        },\n        end: {\n          line: 104,\n          column: 26\n        }\n      },\n      \"65\": {\n        start: {\n          line: 107,\n          column: 6\n        },\n        end: {\n          line: 109,\n          column: 7\n        }\n      },\n      \"66\": {\n        start: {\n          line: 108,\n          column: 8\n        },\n        end: {\n          line: 108,\n          column: 32\n        }\n      },\n      \"67\": {\n        start: {\n          line: 113,\n          column: 2\n        },\n        end: {\n          line: 138,\n          column: 3\n        }\n      },\n      \"68\": {\n        start: {\n          line: 114,\n          column: 4\n        },\n        end: {\n          line: 122,\n          column: 5\n        }\n      },\n      \"69\": {\n        start: {\n          line: 115,\n          column: 6\n        },\n        end: {\n          line: 121,\n          column: 8\n        }\n      },\n      \"70\": {\n        start: {\n          line: 124,\n          column: 4\n        },\n        end: {\n          line: 124,\n          column: 24\n        }\n      },\n      \"71\": {\n        start: {\n          line: 126,\n          column: 4\n        },\n        end: {\n          line: 126,\n          column: 34\n        }\n      },\n      \"72\": {\n        start: {\n          line: 126,\n          column: 27\n        },\n        end: {\n          line: 126,\n          column: 32\n        }\n      },\n      \"73\": {\n        start: {\n          line: 127,\n          column: 4\n        },\n        end: {\n          line: 137,\n          column: 6\n        }\n      },\n      \"74\": {\n        start: {\n          line: 130,\n          column: 8\n        },\n        end: {\n          line: 135,\n          column: 9\n        }\n      },\n      \"75\": {\n        start: {\n          line: 131,\n          column: 10\n        },\n        end: {\n          line: 131,\n          column: 24\n        }\n      },\n      \"76\": {\n        start: {\n          line: 132,\n          column: 10\n        },\n        end: {\n          line: 132,\n          column: 30\n        }\n      },\n      \"77\": {\n        start: {\n          line: 134,\n          column: 10\n        },\n        end: {\n          line: 134,\n          column: 23\n        }\n      },\n      \"78\": {\n        start: {\n          line: 142,\n          column: 19\n        },\n        end: {\n          line: 142,\n          column: 52\n        }\n      },\n      \"79\": {\n        start: {\n          line: 143,\n          column: 2\n        },\n        end: {\n          line: 145,\n          column: 52\n        }\n      },\n      \"80\": {\n        start: {\n          line: 144,\n          column: 23\n        },\n        end: {\n          line: 144,\n          column: 73\n        }\n      },\n      \"81\": {\n        start: {\n          line: 145,\n          column: 24\n        },\n        end: {\n          line: 145,\n          column: 50\n        }\n      },\n      \"82\": {\n        start: {\n          line: 146,\n          column: 2\n        },\n        end: {\n          line: 146,\n          column: 109\n        }\n      },\n      \"83\": {\n        start: {\n          line: 146,\n          column: 39\n        },\n        end: {\n          line: 146,\n          column: 72\n        }\n      },\n      \"84\": {\n        start: {\n          line: 146,\n          column: 90\n        },\n        end: {\n          line: 146,\n          column: 107\n        }\n      },\n      \"85\": {\n        start: {\n          line: 149,\n          column: 30\n        },\n        end: {\n          line: 177,\n          column: 1\n        }\n      },\n      \"86\": {\n        start: {\n          line: 155,\n          column: 4\n        },\n        end: {\n          line: 157,\n          column: 5\n        }\n      },\n      \"87\": {\n        start: {\n          line: 156,\n          column: 6\n        },\n        end: {\n          line: 156,\n          column: 51\n        }\n      },\n      \"88\": {\n        start: {\n          line: 163,\n          column: 17\n        },\n        end: {\n          line: 163,\n          column: 37\n        }\n      },\n      \"89\": {\n        start: {\n          line: 164,\n          column: 4\n        },\n        end: {\n          line: 170,\n          column: 5\n        }\n      },\n      \"90\": {\n        start: {\n          line: 165,\n          column: 6\n        },\n        end: {\n          line: 165,\n          column: 37\n        }\n      },\n      \"91\": {\n        start: {\n          line: 166,\n          column: 6\n        },\n        end: {\n          line: 166,\n          column: 37\n        }\n      },\n      \"92\": {\n        start: {\n          line: 168,\n          column: 6\n        },\n        end: {\n          line: 168,\n          column: 37\n        }\n      },\n      \"93\": {\n        start: {\n          line: 169,\n          column: 6\n        },\n        end: {\n          line: 169,\n          column: 37\n        }\n      },\n      \"94\": {\n        start: {\n          line: 171,\n          column: 4\n        },\n        end: {\n          line: 171,\n          column: 35\n        }\n      },\n      \"95\": {\n        start: {\n          line: 172,\n          column: 4\n        },\n        end: {\n          line: 172,\n          column: 35\n        }\n      },\n      \"96\": {\n        start: {\n          line: 173,\n          column: 4\n        },\n        end: {\n          line: 175,\n          column: 6\n        }\n      },\n      \"97\": {\n        start: {\n          line: 179,\n          column: 27\n        },\n        end: {\n          line: 179,\n          column: 37\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"toPosition\",\n        decl: {\n          start: {\n            line: 7,\n            column: 9\n          },\n          end: {\n            line: 7,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 7,\n            column: 42\n          },\n          end: {\n            line: 9,\n            column: 1\n          }\n        },\n        line: 7\n      },\n      \"1\": {\n        name: \"inBounds\",\n        decl: {\n          start: {\n            line: 11,\n            column: 9\n          },\n          end: {\n            line: 11,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 11,\n            column: 40\n          },\n          end: {\n            line: 13,\n            column: 1\n          }\n        },\n        line: 11\n      },\n      \"2\": {\n        name: \"getValidMoves\",\n        decl: {\n          start: {\n            line: 15,\n            column: 16\n          },\n          end: {\n            line: 15,\n            column: 29\n          }\n        },\n        loc: {\n          start: {\n            line: 15,\n            column: 55\n          },\n          end: {\n            line: 78,\n            column: 1\n          }\n        },\n        line: 15\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 18,\n            column: 9\n          },\n          end: {\n            line: 18,\n            column: 10\n          }\n        },\n        loc: {\n          start: {\n            line: 18,\n            column: 32\n          },\n          end: {\n            line: 18,\n            column: 52\n          }\n        },\n        line: 18\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 19,\n            column: 12\n          },\n          end: {\n            line: 19,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 19,\n            column: 23\n          },\n          end: {\n            line: 19,\n            column: 48\n          }\n        },\n        line: 19\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 20,\n            column: 13\n          },\n          end: {\n            line: 20,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 20,\n            column: 24\n          },\n          end: {\n            line: 52,\n            column: 5\n          }\n        },\n        line: 20\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 59,\n            column: 9\n          },\n          end: {\n            line: 59,\n            column: 10\n          }\n        },\n        loc: {\n          start: {\n            line: 59,\n            column: 32\n          },\n          end: {\n            line: 59,\n            column: 52\n          }\n        },\n        line: 59\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 60,\n            column: 12\n          },\n          end: {\n            line: 60,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 60,\n            column: 23\n          },\n          end: {\n            line: 60,\n            column: 44\n          }\n        },\n        line: 60\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 61,\n            column: 13\n          },\n          end: {\n            line: 61,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 61,\n            column: 24\n          },\n          end: {\n            line: 75,\n            column: 5\n          }\n        },\n        line: 61\n      },\n      \"9\": {\n        name: \"placePiece\",\n        decl: {\n          start: {\n            line: 80,\n            column: 16\n          },\n          end: {\n            line: 80,\n            column: 26\n          }\n        },\n        loc: {\n          start: {\n            line: 80,\n            column: 71\n          },\n          end: {\n            line: 139,\n            column: 1\n          }\n        },\n        line: 80\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 126,\n            column: 17\n          },\n          end: {\n            line: 126,\n            column: 18\n          }\n        },\n        loc: {\n          start: {\n            line: 126,\n            column: 27\n          },\n          end: {\n            line: 126,\n            column: 32\n          }\n        },\n        line: 126\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 129,\n            column: 27\n          },\n          end: {\n            line: 129,\n            column: 28\n          }\n        },\n        loc: {\n          start: {\n            line: 129,\n            column: 41\n          },\n          end: {\n            line: 136,\n            column: 7\n          }\n        },\n        line: 129\n      },\n      \"12\": {\n        name: \"getScoreBoard\",\n        decl: {\n          start: {\n            line: 141,\n            column: 16\n          },\n          end: {\n            line: 141,\n            column: 29\n          }\n        },\n        loc: {\n          start: {\n            line: 141,\n            column: 52\n          },\n          end: {\n            line: 147,\n            column: 1\n          }\n        },\n        line: 141\n      },\n      \"13\": {\n        name: \"(anonymous_13)\",\n        decl: {\n          start: {\n            line: 144,\n            column: 12\n          },\n          end: {\n            line: 144,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 144,\n            column: 23\n          },\n          end: {\n            line: 144,\n            column: 73\n          }\n        },\n        line: 144\n      },\n      \"14\": {\n        name: \"(anonymous_14)\",\n        decl: {\n          start: {\n            line: 145,\n            column: 13\n          },\n          end: {\n            line: 145,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 145,\n            column: 24\n          },\n          end: {\n            line: 145,\n            column: 50\n          }\n        },\n        line: 145\n      },\n      \"15\": {\n        name: \"(anonymous_15)\",\n        decl: {\n          start: {\n            line: 146,\n            column: 24\n          },\n          end: {\n            line: 146,\n            column: 25\n          }\n        },\n        loc: {\n          start: {\n            line: 146,\n            column: 39\n          },\n          end: {\n            line: 146,\n            column: 72\n          }\n        },\n        line: 146\n      },\n      \"16\": {\n        name: \"(anonymous_16)\",\n        decl: {\n          start: {\n            line: 146,\n            column: 80\n          },\n          end: {\n            line: 146,\n            column: 81\n          }\n        },\n        loc: {\n          start: {\n            line: 146,\n            column: 90\n          },\n          end: {\n            line: 146,\n            column: 107\n          }\n        },\n        line: 146\n      },\n      \"17\": {\n        name: \"(anonymous_17)\",\n        decl: {\n          start: {\n            line: 154,\n            column: 9\n          },\n          end: {\n            line: 154,\n            column: 10\n          }\n        },\n        loc: {\n          start: {\n            line: 154,\n            column: 25\n          },\n          end: {\n            line: 158,\n            column: 3\n          }\n        },\n        line: 154\n      },\n      \"18\": {\n        name: \"(anonymous_18)\",\n        decl: {\n          start: {\n            line: 162,\n            column: 9\n          },\n          end: {\n            line: 162,\n            column: 10\n          }\n        },\n        loc: {\n          start: {\n            line: 162,\n            column: 22\n          },\n          end: {\n            line: 176,\n            column: 3\n          }\n        },\n        line: 162\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 12,\n            column: 9\n          },\n          end: {\n            line: 12,\n            column: 43\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 12,\n            column: 9\n          },\n          end: {\n            line: 12,\n            column: 15\n          }\n        }, {\n          start: {\n            line: 12,\n            column: 19\n          },\n          end: {\n            line: 12,\n            column: 24\n          }\n        }, {\n          start: {\n            line: 12,\n            column: 28\n          },\n          end: {\n            line: 12,\n            column: 34\n          }\n        }, {\n          start: {\n            line: 12,\n            column: 38\n          },\n          end: {\n            line: 12,\n            column: 43\n          }\n        }],\n        line: 12\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 23,\n            column: 10\n          },\n          end: {\n            line: 25,\n            column: 11\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 23,\n            column: 10\n          },\n          end: {\n            line: 25,\n            column: 11\n          }\n        }, {\n          start: {\n            line: 23,\n            column: 10\n          },\n          end: {\n            line: 25,\n            column: 11\n          }\n        }],\n        line: 23\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 23,\n            column: 14\n          },\n          end: {\n            line: 23,\n            column: 32\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 23,\n            column: 14\n          },\n          end: {\n            line: 23,\n            column: 21\n          }\n        }, {\n          start: {\n            line: 23,\n            column: 25\n          },\n          end: {\n            line: 23,\n            column: 32\n          }\n        }],\n        line: 23\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 35,\n            column: 17\n          },\n          end: {\n            line: 35,\n            column: 90\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 35,\n            column: 17\n          },\n          end: {\n            line: 35,\n            column: 39\n          }\n        }, {\n          start: {\n            line: 35,\n            column: 43\n          },\n          end: {\n            line: 35,\n            column: 90\n          }\n        }],\n        line: 35\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 37,\n            column: 12\n          },\n          end: {\n            line: 40,\n            column: 13\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 37,\n            column: 12\n          },\n          end: {\n            line: 40,\n            column: 13\n          }\n        }, {\n          start: {\n            line: 37,\n            column: 12\n          },\n          end: {\n            line: 40,\n            column: 13\n          }\n        }],\n        line: 37\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 47,\n            column: 10\n          },\n          end: {\n            line: 49,\n            column: 11\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 47,\n            column: 10\n          },\n          end: {\n            line: 49,\n            column: 11\n          }\n        }, {\n          start: {\n            line: 47,\n            column: 10\n          },\n          end: {\n            line: 49,\n            column: 11\n          }\n        }],\n        line: 47\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 47,\n            column: 14\n          },\n          end: {\n            line: 47,\n            column: 35\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 47,\n            column: 14\n          },\n          end: {\n            line: 47,\n            column: 26\n          }\n        }, {\n          start: {\n            line: 47,\n            column: 30\n          },\n          end: {\n            line: 47,\n            column: 35\n          }\n        }],\n        line: 47\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 54,\n            column: 2\n          },\n          end: {\n            line: 56,\n            column: 3\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 54,\n            column: 2\n          },\n          end: {\n            line: 56,\n            column: 3\n          }\n        }, {\n          start: {\n            line: 54,\n            column: 2\n          },\n          end: {\n            line: 56,\n            column: 3\n          }\n        }],\n        line: 54\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 64,\n            column: 10\n          },\n          end: {\n            line: 66,\n            column: 11\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 64,\n            column: 10\n          },\n          end: {\n            line: 66,\n            column: 11\n          }\n        }, {\n          start: {\n            line: 64,\n            column: 10\n          },\n          end: {\n            line: 66,\n            column: 11\n          }\n        }],\n        line: 64\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 64,\n            column: 14\n          },\n          end: {\n            line: 64,\n            column: 32\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 64,\n            column: 14\n          },\n          end: {\n            line: 64,\n            column: 21\n          }\n        }, {\n          start: {\n            line: 64,\n            column: 25\n          },\n          end: {\n            line: 64,\n            column: 32\n          }\n        }],\n        line: 64\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 70,\n            column: 10\n          },\n          end: {\n            line: 72,\n            column: 11\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 70,\n            column: 10\n          },\n          end: {\n            line: 72,\n            column: 11\n          }\n        }, {\n          start: {\n            line: 70,\n            column: 10\n          },\n          end: {\n            line: 72,\n            column: 11\n          }\n        }],\n        line: 70\n      },\n      \"11\": {\n        loc: {\n          start: {\n            line: 70,\n            column: 14\n          },\n          end: {\n            line: 70,\n            column: 83\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 70,\n            column: 14\n          },\n          end: {\n            line: 70,\n            column: 36\n          }\n        }, {\n          start: {\n            line: 70,\n            column: 40\n          },\n          end: {\n            line: 70,\n            column: 83\n          }\n        }],\n        line: 70\n      },\n      \"12\": {\n        loc: {\n          start: {\n            line: 81,\n            column: 2\n          },\n          end: {\n            line: 83,\n            column: 3\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 81,\n            column: 2\n          },\n          end: {\n            line: 83,\n            column: 3\n          }\n        }, {\n          start: {\n            line: 81,\n            column: 2\n          },\n          end: {\n            line: 83,\n            column: 3\n          }\n        }],\n        line: 81\n      },\n      \"13\": {\n        loc: {\n          start: {\n            line: 88,\n            column: 6\n          },\n          end: {\n            line: 90,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 88,\n            column: 6\n          },\n          end: {\n            line: 90,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 88,\n            column: 6\n          },\n          end: {\n            line: 90,\n            column: 7\n          }\n        }],\n        line: 88\n      },\n      \"14\": {\n        loc: {\n          start: {\n            line: 88,\n            column: 10\n          },\n          end: {\n            line: 88,\n            column: 28\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 88,\n            column: 10\n          },\n          end: {\n            line: 88,\n            column: 17\n          }\n        }, {\n          start: {\n            line: 88,\n            column: 21\n          },\n          end: {\n            line: 88,\n            column: 28\n          }\n        }],\n        line: 88\n      },\n      \"15\": {\n        loc: {\n          start: {\n            line: 96,\n            column: 22\n          },\n          end: {\n            line: 96,\n            column: 91\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 96,\n            column: 22\n          },\n          end: {\n            line: 96,\n            column: 44\n          }\n        }, {\n          start: {\n            line: 96,\n            column: 48\n          },\n          end: {\n            line: 96,\n            column: 91\n          }\n        }],\n        line: 96\n      },\n      \"16\": {\n        loc: {\n          start: {\n            line: 97,\n            column: 8\n          },\n          end: {\n            line: 100,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 97,\n            column: 8\n          },\n          end: {\n            line: 100,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 97,\n            column: 8\n          },\n          end: {\n            line: 100,\n            column: 9\n          }\n        }],\n        line: 97\n      },\n      \"17\": {\n        loc: {\n          start: {\n            line: 107,\n            column: 6\n          },\n          end: {\n            line: 109,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 107,\n            column: 6\n          },\n          end: {\n            line: 109,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 107,\n            column: 6\n          },\n          end: {\n            line: 109,\n            column: 7\n          }\n        }],\n        line: 107\n      },\n      \"18\": {\n        loc: {\n          start: {\n            line: 113,\n            column: 2\n          },\n          end: {\n            line: 138,\n            column: 3\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 113,\n            column: 2\n          },\n          end: {\n            line: 138,\n            column: 3\n          }\n        }, {\n          start: {\n            line: 113,\n            column: 2\n          },\n          end: {\n            line: 138,\n            column: 3\n          }\n        }],\n        line: 113\n      },\n      \"19\": {\n        loc: {\n          start: {\n            line: 114,\n            column: 4\n          },\n          end: {\n            line: 122,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 114,\n            column: 4\n          },\n          end: {\n            line: 122,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 114,\n            column: 4\n          },\n          end: {\n            line: 122,\n            column: 5\n          }\n        }],\n        line: 114\n      },\n      \"20\": {\n        loc: {\n          start: {\n            line: 130,\n            column: 8\n          },\n          end: {\n            line: 135,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 130,\n            column: 8\n          },\n          end: {\n            line: 135,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 130,\n            column: 8\n          },\n          end: {\n            line: 135,\n            column: 9\n          }\n        }],\n        line: 130\n      },\n      \"21\": {\n        loc: {\n          start: {\n            line: 130,\n            column: 12\n          },\n          end: {\n            line: 130,\n            column: 67\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 130,\n            column: 12\n          },\n          end: {\n            line: 130,\n            column: 30\n          }\n        }, {\n          start: {\n            line: 130,\n            column: 34\n          },\n          end: {\n            line: 130,\n            column: 67\n          }\n        }],\n        line: 130\n      },\n      \"22\": {\n        loc: {\n          start: {\n            line: 144,\n            column: 23\n          },\n          end: {\n            line: 144,\n            column: 73\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 144,\n            column: 23\n          },\n          end: {\n            line: 144,\n            column: 37\n          }\n        }, {\n          start: {\n            line: 144,\n            column: 41\n          },\n          end: {\n            line: 144,\n            column: 73\n          }\n        }],\n        line: 144\n      },\n      \"23\": {\n        loc: {\n          start: {\n            line: 155,\n            column: 4\n          },\n          end: {\n            line: 157,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 155,\n            column: 4\n          },\n          end: {\n            line: 157,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 155,\n            column: 4\n          },\n          end: {\n            line: 157,\n            column: 5\n          }\n        }],\n        line: 155\n      },\n      \"24\": {\n        loc: {\n          start: {\n            line: 164,\n            column: 4\n          },\n          end: {\n            line: 170,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 164,\n            column: 4\n          },\n          end: {\n            line: 170,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 164,\n            column: 4\n          },\n          end: {\n            line: 170,\n            column: 5\n          }\n        }],\n        line: 164\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0,\n      \"51\": 0,\n      \"52\": 0,\n      \"53\": 0,\n      \"54\": 0,\n      \"55\": 0,\n      \"56\": 0,\n      \"57\": 0,\n      \"58\": 0,\n      \"59\": 0,\n      \"60\": 0,\n      \"61\": 0,\n      \"62\": 0,\n      \"63\": 0,\n      \"64\": 0,\n      \"65\": 0,\n      \"66\": 0,\n      \"67\": 0,\n      \"68\": 0,\n      \"69\": 0,\n      \"70\": 0,\n      \"71\": 0,\n      \"72\": 0,\n      \"73\": 0,\n      \"74\": 0,\n      \"75\": 0,\n      \"76\": 0,\n      \"77\": 0,\n      \"78\": 0,\n      \"79\": 0,\n      \"80\": 0,\n      \"81\": 0,\n      \"82\": 0,\n      \"83\": 0,\n      \"84\": 0,\n      \"85\": 0,\n      \"86\": 0,\n      \"87\": 0,\n      \"88\": 0,\n      \"89\": 0,\n      \"90\": 0,\n      \"91\": 0,\n      \"92\": 0,\n      \"93\": 0,\n      \"94\": 0,\n      \"95\": 0,\n      \"96\": 0,\n      \"97\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0\n    },\n    b: {\n      \"0\": [0, 0, 0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0],\n      \"11\": [0, 0],\n      \"12\": [0, 0],\n      \"13\": [0, 0],\n      \"14\": [0, 0],\n      \"15\": [0, 0],\n      \"16\": [0, 0],\n      \"17\": [0, 0],\n      \"18\": [0, 0],\n      \"19\": [0, 0],\n      \"20\": [0, 0],\n      \"21\": [0, 0],\n      \"22\": [0, 0],\n      \"23\": [0, 0],\n      \"24\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"b818a05d471d35f93fec0d8f7a36bc6a739d69cc\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_1dz9mwttqq = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_1dz9mwttqq();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { INVALID_MOVE } from 'boardgame.io/core';\n\nfunction toPosition(x, y) {\n  cov_1dz9mwttqq().f[0]++;\n  cov_1dz9mwttqq().s[0]++;\n  return y * 8 + x;\n}\n\nfunction inBounds(x, y) {\n  cov_1dz9mwttqq().f[1]++;\n  cov_1dz9mwttqq().s[1]++;\n  return (cov_1dz9mwttqq().b[0][0]++, x >= 0) && (cov_1dz9mwttqq().b[0][1]++, x < 8) && (cov_1dz9mwttqq().b[0][2]++, y >= 0) && (cov_1dz9mwttqq().b[0][3]++, y < 8);\n}\n\nexport function getValidMoves(G, playerID) {\n  cov_1dz9mwttqq().f[2]++;\n  let validMoves = (cov_1dz9mwttqq().s[2]++, new Set());\n  cov_1dz9mwttqq().s[3]++;\n  G.points.map((player, position) => {\n    cov_1dz9mwttqq().f[3]++;\n    cov_1dz9mwttqq().s[4]++;\n    return {\n      player,\n      position\n    };\n  }).filter(point => {\n    cov_1dz9mwttqq().f[4]++;\n    cov_1dz9mwttqq().s[5]++;\n    return point.player === playerID;\n  }).forEach(point => {\n    cov_1dz9mwttqq().f[5]++;\n    cov_1dz9mwttqq().s[6]++;\n\n    for (let i = (cov_1dz9mwttqq().s[7]++, -1); i <= 1; i++) {\n      cov_1dz9mwttqq().s[8]++;\n\n      for (let j = (cov_1dz9mwttqq().s[9]++, -1); j <= 1; j++) {\n        cov_1dz9mwttqq().s[10]++;\n\n        if ((cov_1dz9mwttqq().b[2][0]++, i === 0) && (cov_1dz9mwttqq().b[2][1]++, j === 0)) {\n          cov_1dz9mwttqq().b[1][0]++;\n          cov_1dz9mwttqq().s[11]++;\n          continue;\n        } else {\n          cov_1dz9mwttqq().b[1][1]++;\n        }\n\n        const x = (cov_1dz9mwttqq().s[12]++, point.position % 8); // const y = Math.floor(point.position / 8);  // https://github.com/babel/minify/issues/904\n\n        const y = (cov_1dz9mwttqq().s[13]++, point.position / 8 << 0);\n        let currX = (cov_1dz9mwttqq().s[14]++, x + i);\n        let currY = (cov_1dz9mwttqq().s[15]++, y + j);\n        let k = (cov_1dz9mwttqq().s[16]++, 1);\n        let end = (cov_1dz9mwttqq().s[17]++, null);\n        cov_1dz9mwttqq().s[18]++;\n\n        while ((cov_1dz9mwttqq().b[3][0]++, inBounds(currX, currY)) && (cov_1dz9mwttqq().b[3][1]++, G.points[toPosition(currX, currY)] !== playerID)) {\n          const position = (cov_1dz9mwttqq().s[19]++, toPosition(currX, currY));\n          cov_1dz9mwttqq().s[20]++;\n\n          if (G.points[position] === null) {\n            cov_1dz9mwttqq().b[4][0]++;\n            cov_1dz9mwttqq().s[21]++;\n            end = position;\n            cov_1dz9mwttqq().s[22]++;\n            break;\n          } else {\n            cov_1dz9mwttqq().b[4][1]++;\n          }\n\n          cov_1dz9mwttqq().s[23]++;\n          k++;\n          cov_1dz9mwttqq().s[24]++;\n          currX = x + i * k;\n          cov_1dz9mwttqq().s[25]++;\n          currY = y + j * k;\n        }\n\n        cov_1dz9mwttqq().s[26]++;\n\n        if ((cov_1dz9mwttqq().b[6][0]++, end !== null) && (cov_1dz9mwttqq().b[6][1]++, k > 1)) {\n          cov_1dz9mwttqq().b[5][0]++;\n          cov_1dz9mwttqq().s[27]++;\n          validMoves.add(end);\n        } else {\n          cov_1dz9mwttqq().b[5][1]++;\n        }\n      }\n    }\n  });\n  cov_1dz9mwttqq().s[28]++;\n\n  if (validMoves.size > 0) {\n    cov_1dz9mwttqq().b[7][0]++;\n    cov_1dz9mwttqq().s[29]++;\n    return validMoves;\n  } else {\n    cov_1dz9mwttqq().b[7][1]++;\n  }\n\n  cov_1dz9mwttqq().s[30]++;\n  G.points.map((player, position) => {\n    cov_1dz9mwttqq().f[6]++;\n    cov_1dz9mwttqq().s[31]++;\n    return {\n      player,\n      position\n    };\n  }).filter(point => {\n    cov_1dz9mwttqq().f[7]++;\n    cov_1dz9mwttqq().s[32]++;\n    return point.player === null;\n  }).forEach(point => {\n    cov_1dz9mwttqq().f[8]++;\n    cov_1dz9mwttqq().s[33]++;\n\n    for (let i = (cov_1dz9mwttqq().s[34]++, -1); i <= 1; i++) {\n      cov_1dz9mwttqq().s[35]++;\n\n      for (let j = (cov_1dz9mwttqq().s[36]++, -1); j <= 1; j++) {\n        cov_1dz9mwttqq().s[37]++;\n\n        if ((cov_1dz9mwttqq().b[9][0]++, i === 0) && (cov_1dz9mwttqq().b[9][1]++, j === 0)) {\n          cov_1dz9mwttqq().b[8][0]++;\n          cov_1dz9mwttqq().s[38]++;\n          continue;\n        } else {\n          cov_1dz9mwttqq().b[8][1]++;\n        }\n\n        const x = (cov_1dz9mwttqq().s[39]++, point.position % 8);\n        const y = (cov_1dz9mwttqq().s[40]++, point.position / 8 << 0); // https://github.com/babel/minify/issues/904\n\n        cov_1dz9mwttqq().s[41]++;\n\n        if ((cov_1dz9mwttqq().b[11][0]++, inBounds(x + i, y + j)) && (cov_1dz9mwttqq().b[11][1]++, G.points[toPosition(x + i, y + j)] !== null)) {\n          cov_1dz9mwttqq().b[10][0]++;\n          cov_1dz9mwttqq().s[42]++;\n          validMoves.add(point.position);\n        } else {\n          cov_1dz9mwttqq().b[10][1]++;\n        }\n      }\n    }\n  });\n  cov_1dz9mwttqq().s[43]++;\n  return validMoves;\n}\nexport function placePiece(G, ctx, x, y) {\n  cov_1dz9mwttqq().f[9]++;\n  cov_1dz9mwttqq().s[44]++;\n\n  if (G.points[toPosition(x, y)] !== null) {\n    cov_1dz9mwttqq().b[12][0]++;\n    cov_1dz9mwttqq().s[45]++;\n    return INVALID_MOVE;\n  } else {\n    cov_1dz9mwttqq().b[12][1]++;\n  }\n\n  let changed = (cov_1dz9mwttqq().s[46]++, [toPosition(x, y)]); // Changed positions\n\n  cov_1dz9mwttqq().s[47]++;\n\n  for (let i = (cov_1dz9mwttqq().s[48]++, -1); i <= 1; i++) {\n    cov_1dz9mwttqq().s[49]++;\n\n    for (let j = (cov_1dz9mwttqq().s[50]++, -1); j <= 1; j++) {\n      cov_1dz9mwttqq().s[51]++;\n\n      if ((cov_1dz9mwttqq().b[14][0]++, i === 0) && (cov_1dz9mwttqq().b[14][1]++, j === 0)) {\n        cov_1dz9mwttqq().b[13][0]++;\n        cov_1dz9mwttqq().s[52]++;\n        continue;\n      } else {\n        cov_1dz9mwttqq().b[13][1]++;\n      }\n\n      let valid = (cov_1dz9mwttqq().s[53]++, false);\n      let update = (cov_1dz9mwttqq().s[54]++, []);\n      let currX = (cov_1dz9mwttqq().s[55]++, x + i);\n      let currY = (cov_1dz9mwttqq().s[56]++, y + j);\n      cov_1dz9mwttqq().s[57]++;\n\n      for (let k = (cov_1dz9mwttqq().s[58]++, 2); (cov_1dz9mwttqq().b[15][0]++, inBounds(currX, currY)) && (cov_1dz9mwttqq().b[15][1]++, G.points[toPosition(currX, currY)] !== null); k++) {\n        cov_1dz9mwttqq().s[59]++;\n\n        if (G.points[toPosition(currX, currY)] === ctx.currentPlayer) {\n          cov_1dz9mwttqq().b[16][0]++;\n          cov_1dz9mwttqq().s[60]++;\n          valid = true;\n          cov_1dz9mwttqq().s[61]++;\n          break;\n        } else {\n          cov_1dz9mwttqq().b[16][1]++;\n        }\n\n        cov_1dz9mwttqq().s[62]++;\n        update.push(toPosition(currX, currY));\n        cov_1dz9mwttqq().s[63]++;\n        currX = x + i * k;\n        cov_1dz9mwttqq().s[64]++;\n        currY = y + j * k;\n      }\n\n      cov_1dz9mwttqq().s[65]++;\n\n      if (valid) {\n        cov_1dz9mwttqq().b[17][0]++;\n        cov_1dz9mwttqq().s[66]++;\n        changed.push(...update);\n      } else {\n        cov_1dz9mwttqq().b[17][1]++;\n      }\n    }\n  }\n\n  cov_1dz9mwttqq().s[67]++;\n\n  if (changed.length === 1) {\n    cov_1dz9mwttqq().b[18][0]++;\n    cov_1dz9mwttqq().s[68]++;\n\n    if (getValidMoves(G, ctx.playerID).has(toPosition(x, y))) {\n      cov_1dz9mwttqq().b[19][0]++;\n      cov_1dz9mwttqq().s[69]++;\n      return _objectSpread({}, G, {\n        points: Object.values(_objectSpread({}, G.points, {\n          [toPosition(x, y)]: ctx.playerID\n        }))\n      });\n    } else {\n      cov_1dz9mwttqq().b[19][1]++;\n    }\n\n    cov_1dz9mwttqq().s[70]++;\n    return INVALID_MOVE;\n  } else {\n    cov_1dz9mwttqq().b[18][1]++;\n    cov_1dz9mwttqq().s[71]++;\n    changed.sort((a, b) => {\n      cov_1dz9mwttqq().f[10]++;\n      cov_1dz9mwttqq().s[72]++;\n      return b - a;\n    });\n    cov_1dz9mwttqq().s[73]++;\n    return _objectSpread({}, G, {\n      points: G.points.map((point, i) => {\n        cov_1dz9mwttqq().f[11]++;\n        cov_1dz9mwttqq().s[74]++;\n\n        if ((cov_1dz9mwttqq().b[21][0]++, changed.length > 0) && (cov_1dz9mwttqq().b[21][1]++, i === changed[changed.length - 1])) {\n          cov_1dz9mwttqq().b[20][0]++;\n          cov_1dz9mwttqq().s[75]++;\n          changed.pop();\n          cov_1dz9mwttqq().s[76]++;\n          return ctx.playerID;\n        } else {\n          cov_1dz9mwttqq().b[20][1]++;\n          cov_1dz9mwttqq().s[77]++;\n          return point;\n        }\n      })\n    });\n  }\n}\nexport function getScoreBoard(G, ctx) {\n  cov_1dz9mwttqq().f[12]++;\n  let scoreBoard = (cov_1dz9mwttqq().s[78]++, new Array(ctx.numPlayers).fill(0));\n  cov_1dz9mwttqq().s[79]++;\n  G.points.filter(point => {\n    cov_1dz9mwttqq().f[13]++;\n    cov_1dz9mwttqq().s[80]++;\n    return (cov_1dz9mwttqq().b[22][0]++, point !== null) && (cov_1dz9mwttqq().b[22][1]++, parseInt(point) < ctx.numPlayers);\n  }).forEach(point => {\n    cov_1dz9mwttqq().f[14]++;\n    cov_1dz9mwttqq().s[81]++;\n    return scoreBoard[point]++;\n  });\n  cov_1dz9mwttqq().s[82]++;\n  return scoreBoard.map((score, i) => {\n    cov_1dz9mwttqq().f[15]++;\n    cov_1dz9mwttqq().s[83]++;\n    return {\n      playerID: i.toString(),\n      score\n    };\n  }).sort((a, b) => {\n    cov_1dz9mwttqq().f[16]++;\n    cov_1dz9mwttqq().s[84]++;\n    return b.score - a.score;\n  });\n}\nconst GameConfig = (cov_1dz9mwttqq().s[85]++, {\n  name: 'reversi',\n  turn: {\n    moveLimit: 1\n  },\n  endIf: (G, ctx) => {\n    cov_1dz9mwttqq().f[17]++;\n    cov_1dz9mwttqq().s[86]++;\n\n    if (!G.points.includes(null)) {\n      cov_1dz9mwttqq().b[23][0]++;\n      cov_1dz9mwttqq().s[87]++;\n      return {\n        scoreboard: getScoreBoard(G, ctx)\n      };\n    } else {\n      cov_1dz9mwttqq().b[23][1]++;\n    }\n  },\n  moves: {\n    placePiece\n  },\n  setup: ctx => {\n    cov_1dz9mwttqq().f[18]++;\n    let points = (cov_1dz9mwttqq().s[88]++, Array(64).fill(null));\n    cov_1dz9mwttqq().s[89]++;\n\n    if (ctx.numPlayers === 2) {\n      cov_1dz9mwttqq().b[24][0]++;\n      cov_1dz9mwttqq().s[90]++;\n      points[toPosition(4, 4)] = '1';\n      cov_1dz9mwttqq().s[91]++;\n      points[toPosition(4, 3)] = '2';\n    } else {\n      cov_1dz9mwttqq().b[24][1]++;\n      cov_1dz9mwttqq().s[92]++;\n      points[toPosition(4, 3)] = '1';\n      cov_1dz9mwttqq().s[93]++;\n      points[toPosition(4, 4)] = '2';\n    }\n\n    cov_1dz9mwttqq().s[94]++;\n    points[toPosition(3, 3)] = '0';\n    cov_1dz9mwttqq().s[95]++;\n    points[toPosition(3, 4)] = '3';\n    cov_1dz9mwttqq().s[96]++;\n    return {\n      points\n    };\n  }\n});\nexport const ReversiGame = (cov_1dz9mwttqq().s[97]++, GameConfig);","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/games/reversi/game.ts"],"names":["INVALID_MOVE","toPosition","x","y","inBounds","getValidMoves","G","playerID","validMoves","Set","points","map","player","position","filter","point","forEach","i","j","currX","currY","k","end","add","size","placePiece","ctx","changed","valid","update","currentPlayer","push","length","has","Object","values","sort","a","b","pop","getScoreBoard","scoreBoard","Array","numPlayers","fill","parseInt","score","toString","GameConfig","name","turn","moveLimit","endIf","includes","scoreboard","moves","setup","ReversiGame"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["import { IGameArgs, IGameCtx, INVALID_MOVE } from 'boardgame.io/core';\n\nexport interface IG {\n  points: string[];\n}\n\nfunction toPosition(x: number, y: number) {\n  return y * 8 + x;\n}\n\nfunction inBounds(x: number, y: number) {\n  return x >= 0 && x < 8 && y >= 0 && y < 8;\n}\n\nexport function getValidMoves(G: IG, playerID: string) {\n  let validMoves: Set<number> = new Set();\n  G.points\n    .map((player, position) => ({ player, position }))\n    .filter((point) => point.player === playerID)\n    .forEach((point) => {\n      for (let i = -1; i <= 1; i++) {\n        for (let j = -1; j <= 1; j++) {\n          if (i === 0 && j === 0) {\n            continue;\n          }\n          const x = point.position % 8;\n          // const y = Math.floor(point.position / 8);  // https://github.com/babel/minify/issues/904\n          const y = (point.position / 8) << 0;\n\n          let currX = x + i;\n          let currY = y + j;\n          let k = 1;\n          let end: number = null;\n\n          while (inBounds(currX, currY) && G.points[toPosition(currX, currY)] !== playerID) {\n            const position = toPosition(currX, currY);\n            if (G.points[position] === null) {\n              end = position;\n              break;\n            }\n\n            k++;\n            currX = x + i * k;\n            currY = y + j * k;\n          }\n\n          if (end !== null && k > 1) {\n            validMoves.add(end);\n          }\n        }\n      }\n    });\n\n  if (validMoves.size > 0) {\n    return validMoves;\n  }\n\n  G.points\n    .map((player, position) => ({ player, position }))\n    .filter((point) => point.player === null)\n    .forEach((point) => {\n      for (let i = -1; i <= 1; i++) {\n        for (let j = -1; j <= 1; j++) {\n          if (i === 0 && j === 0) {\n            continue;\n          }\n\n          const x = point.position % 8;\n          const y = (point.position / 8) << 0; // https://github.com/babel/minify/issues/904\n          if (inBounds(x + i, y + j) && G.points[toPosition(x + i, y + j)] !== null) {\n            validMoves.add(point.position);\n          }\n        }\n      }\n    });\n\n  return validMoves;\n}\n\nexport function placePiece(G: IG, ctx: IGameCtx, x: number, y: number) {\n  if (G.points[toPosition(x, y)] !== null) {\n    return INVALID_MOVE;\n  }\n\n  let changed: number[] = [toPosition(x, y)]; // Changed positions\n  for (let i = -1; i <= 1; i++) {\n    for (let j = -1; j <= 1; j++) {\n      if (i === 0 && j === 0) {\n        continue;\n      }\n\n      let valid = false;\n      let update = [];\n      let currX = x + i;\n      let currY = y + j;\n      for (let k = 2; inBounds(currX, currY) && G.points[toPosition(currX, currY)] !== null; k++) {\n        if (G.points[toPosition(currX, currY)] === ctx.currentPlayer) {\n          valid = true;\n          break;\n        }\n        update.push(toPosition(currX, currY));\n\n        currX = x + i * k;\n        currY = y + j * k;\n      }\n\n      if (valid) {\n        changed.push(...update);\n      }\n    }\n  }\n\n  if (changed.length === 1) {\n    if (getValidMoves(G, ctx.playerID).has(toPosition(x, y))) {\n      return {\n        ...G,\n        points: Object.values({\n          ...G.points,\n          [toPosition(x, y)]: ctx.playerID,\n        }),\n      };\n    }\n\n    return INVALID_MOVE;\n  } else {\n    changed.sort((a, b) => b - a);\n    return {\n      ...G,\n      points: G.points.map((point, i) => {\n        if (changed.length > 0 && i === changed[changed.length - 1]) {\n          changed.pop();\n          return ctx.playerID;\n        } else {\n          return point;\n        }\n      }),\n    };\n  }\n}\n\nexport function getScoreBoard(G: IG, ctx: IGameCtx) {\n  let scoreBoard = new Array(ctx.numPlayers).fill(0);\n  G.points\n    .filter((point) => point !== null && parseInt(point) < ctx.numPlayers)\n    .forEach((point) => scoreBoard[point as any]++);\n  return scoreBoard.map((score, i) => ({ playerID: i.toString(), score })).sort((a, b) => b.score - a.score);\n}\n\nconst GameConfig: IGameArgs = {\n  name: 'reversi',\n  turn: {\n    moveLimit: 1,\n  },\n  endIf: (G: IG, ctx) => {\n    if (!G.points.includes(null)) {\n      return { scoreboard: getScoreBoard(G, ctx) };\n    }\n  },\n  moves: {\n    placePiece,\n  },\n  setup: (ctx): IG => {\n    let points = Array(64).fill(null);\n    if (ctx.numPlayers === 2) {\n      points[toPosition(4, 4)] = '1';\n      points[toPosition(4, 3)] = '2';\n    } else {\n      points[toPosition(4, 3)] = '1';\n      points[toPosition(4, 4)] = '2';\n    }\n    points[toPosition(3, 3)] = '0';\n    points[toPosition(3, 4)] = '3';\n    return {\n      points,\n    };\n  },\n};\n\nexport const ReversiGame = GameConfig;\n"]},"metadata":{},"sourceType":"module"}