{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar __jsx = React.createElement;\n\nfunction cov_13qjaz260k() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/ui/3d/token.js\";\n  var hash = \"bfac113050986871f7679bc60b3215a11e25497f\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/ui/3d/token.js\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 51,\n          column: 21\n        },\n        end: {\n          line: 53,\n          column: 1\n        }\n      },\n      \"1\": {\n        start: {\n          line: 52,\n          column: 2\n        },\n        end: {\n          line: 52,\n          column: 100\n        }\n      },\n      \"2\": {\n        start: {\n          line: 52,\n          column: 36\n        },\n        end: {\n          line: 52,\n          column: 78\n        }\n      },\n      \"3\": {\n        start: {\n          line: 56,\n          column: 21\n        },\n        end: {\n          line: 73,\n          column: 3\n        }\n      },\n      \"4\": {\n        start: {\n          line: 75,\n          column: 24\n        },\n        end: {\n          line: 80,\n          column: 3\n        }\n      },\n      \"5\": {\n        start: {\n          line: 83,\n          column: 4\n        },\n        end: {\n          line: 83,\n          column: 12\n        }\n      },\n      \"6\": {\n        start: {\n          line: 85,\n          column: 4\n        },\n        end: {\n          line: 89,\n          column: 5\n        }\n      },\n      \"7\": {\n        start: {\n          line: 86,\n          column: 6\n        },\n        end: {\n          line: 86,\n          column: 34\n        }\n      },\n      \"8\": {\n        start: {\n          line: 88,\n          column: 6\n        },\n        end: {\n          line: 88,\n          column: 29\n        }\n      },\n      \"9\": {\n        start: {\n          line: 91,\n          column: 4\n        },\n        end: {\n          line: 95,\n          column: 5\n        }\n      },\n      \"10\": {\n        start: {\n          line: 92,\n          column: 6\n        },\n        end: {\n          line: 92,\n          column: 33\n        }\n      },\n      \"11\": {\n        start: {\n          line: 94,\n          column: 6\n        },\n        end: {\n          line: 94,\n          column: 34\n        }\n      },\n      \"12\": {\n        start: {\n          line: 98,\n          column: 16\n        },\n        end: {\n          line: 131,\n          column: 3\n        }\n      },\n      \"13\": {\n        start: {\n          line: 99,\n          column: 17\n        },\n        end: {\n          line: 99,\n          column: 26\n        }\n      },\n      \"14\": {\n        start: {\n          line: 100,\n          column: 19\n        },\n        end: {\n          line: 100,\n          column: 38\n        }\n      },\n      \"15\": {\n        start: {\n          line: 101,\n          column: 21\n        },\n        end: {\n          line: 101,\n          column: 40\n        }\n      },\n      \"16\": {\n        start: {\n          line: 102,\n          column: 17\n        },\n        end: {\n          line: 102,\n          column: 53\n        }\n      },\n      \"17\": {\n        start: {\n          line: 103,\n          column: 4\n        },\n        end: {\n          line: 103,\n          column: 27\n        }\n      },\n      \"18\": {\n        start: {\n          line: 104,\n          column: 4\n        },\n        end: {\n          line: 104,\n          column: 31\n        }\n      },\n      \"19\": {\n        start: {\n          line: 106,\n          column: 16\n        },\n        end: {\n          line: 106,\n          column: 65\n        }\n      },\n      \"20\": {\n        start: {\n          line: 107,\n          column: 4\n        },\n        end: {\n          line: 107,\n          column: 25\n        }\n      },\n      \"21\": {\n        start: {\n          line: 108,\n          column: 4\n        },\n        end: {\n          line: 108,\n          column: 40\n        }\n      },\n      \"22\": {\n        start: {\n          line: 110,\n          column: 4\n        },\n        end: {\n          line: 118,\n          column: 5\n        }\n      },\n      \"23\": {\n        start: {\n          line: 111,\n          column: 6\n        },\n        end: {\n          line: 111,\n          column: 83\n        }\n      },\n      \"24\": {\n        start: {\n          line: 112,\n          column: 6\n        },\n        end: {\n          line: 112,\n          column: 83\n        }\n      },\n      \"25\": {\n        start: {\n          line: 113,\n          column: 6\n        },\n        end: {\n          line: 113,\n          column: 54\n        }\n      },\n      \"26\": {\n        start: {\n          line: 115,\n          column: 6\n        },\n        end: {\n          line: 115,\n          column: 37\n        }\n      },\n      \"27\": {\n        start: {\n          line: 116,\n          column: 6\n        },\n        end: {\n          line: 116,\n          column: 37\n        }\n      },\n      \"28\": {\n        start: {\n          line: 117,\n          column: 6\n        },\n        end: {\n          line: 117,\n          column: 36\n        }\n      },\n      \"29\": {\n        start: {\n          line: 119,\n          column: 4\n        },\n        end: {\n          line: 119,\n          column: 26\n        }\n      },\n      \"30\": {\n        start: {\n          line: 121,\n          column: 20\n        },\n        end: {\n          line: 129,\n          column: 5\n        }\n      },\n      \"31\": {\n        start: {\n          line: 122,\n          column: 6\n        },\n        end: {\n          line: 128,\n          column: 7\n        }\n      },\n      \"32\": {\n        start: {\n          line: 123,\n          column: 8\n        },\n        end: {\n          line: 123,\n          column: 65\n        }\n      },\n      \"33\": {\n        start: {\n          line: 124,\n          column: 13\n        },\n        end: {\n          line: 128,\n          column: 7\n        }\n      },\n      \"34\": {\n        start: {\n          line: 125,\n          column: 8\n        },\n        end: {\n          line: 125,\n          column: 69\n        }\n      },\n      \"35\": {\n        start: {\n          line: 126,\n          column: 13\n        },\n        end: {\n          line: 128,\n          column: 7\n        }\n      },\n      \"36\": {\n        start: {\n          line: 127,\n          column: 8\n        },\n        end: {\n          line: 127,\n          column: 68\n        }\n      },\n      \"37\": {\n        start: {\n          line: 130,\n          column: 4\n        },\n        end: {\n          line: 130,\n          column: 46\n        }\n      },\n      \"38\": {\n        start: {\n          line: 134,\n          column: 4\n        },\n        end: {\n          line: 134,\n          column: 38\n        }\n      },\n      \"39\": {\n        start: {\n          line: 138,\n          column: 15\n        },\n        end: {\n          line: 138,\n          column: 30\n        }\n      },\n      \"40\": {\n        start: {\n          line: 140,\n          column: 4\n        },\n        end: {\n          line: 140,\n          column: 61\n        }\n      },\n      \"41\": {\n        start: {\n          line: 140,\n          column: 49\n        },\n        end: {\n          line: 140,\n          column: 61\n        }\n      },\n      \"42\": {\n        start: {\n          line: 142,\n          column: 4\n        },\n        end: {\n          line: 152,\n          column: 5\n        }\n      },\n      \"43\": {\n        start: {\n          line: 143,\n          column: 6\n        },\n        end: {\n          line: 146,\n          column: 8\n        }\n      },\n      \"44\": {\n        start: {\n          line: 147,\n          column: 6\n        },\n        end: {\n          line: 147,\n          column: 29\n        }\n      },\n      \"45\": {\n        start: {\n          line: 148,\n          column: 11\n        },\n        end: {\n          line: 152,\n          column: 5\n        }\n      },\n      \"46\": {\n        start: {\n          line: 149,\n          column: 6\n        },\n        end: {\n          line: 149,\n          column: 29\n        }\n      },\n      \"47\": {\n        start: {\n          line: 151,\n          column: 6\n        },\n        end: {\n          line: 151,\n          column: 76\n        }\n      },\n      \"48\": {\n        start: {\n          line: 153,\n          column: 4\n        },\n        end: {\n          line: 153,\n          column: 38\n        }\n      },\n      \"49\": {\n        start: {\n          line: 154,\n          column: 4\n        },\n        end: {\n          line: 154,\n          column: 25\n        }\n      },\n      \"50\": {\n        start: {\n          line: 156,\n          column: 4\n        },\n        end: {\n          line: 156,\n          column: 16\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 51,\n            column: 21\n          },\n          end: {\n            line: 51,\n            column: 22\n          }\n        },\n        loc: {\n          start: {\n            line: 52,\n            column: 2\n          },\n          end: {\n            line: 52,\n            column: 100\n          }\n        },\n        line: 52\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 52,\n            column: 23\n          },\n          end: {\n            line: 52,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 52,\n            column: 36\n          },\n          end: {\n            line: 52,\n            column: 78\n          }\n        },\n        line: 52\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 82,\n            column: 2\n          },\n          end: {\n            line: 82,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 82,\n            column: 21\n          },\n          end: {\n            line: 96,\n            column: 3\n          }\n        },\n        line: 82\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 98,\n            column: 16\n          },\n          end: {\n            line: 98,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 98,\n            column: 26\n          },\n          end: {\n            line: 131,\n            column: 3\n          }\n        },\n        line: 98\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 121,\n            column: 20\n          },\n          end: {\n            line: 121,\n            column: 21\n          }\n        },\n        loc: {\n          start: {\n            line: 121,\n            column: 27\n          },\n          end: {\n            line: 129,\n            column: 5\n          }\n        },\n        line: 121\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 133,\n            column: 2\n          },\n          end: {\n            line: 133,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 133,\n            column: 25\n          },\n          end: {\n            line: 135,\n            column: 3\n          }\n        },\n        line: 133\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 137,\n            column: 2\n          },\n          end: {\n            line: 137,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 137,\n            column: 11\n          },\n          end: {\n            line: 157,\n            column: 3\n          }\n        },\n        line: 137\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 85,\n            column: 4\n          },\n          end: {\n            line: 89,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 85,\n            column: 4\n          },\n          end: {\n            line: 89,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 85,\n            column: 4\n          },\n          end: {\n            line: 89,\n            column: 5\n          }\n        }],\n        line: 85\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 91,\n            column: 4\n          },\n          end: {\n            line: 95,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 91,\n            column: 4\n          },\n          end: {\n            line: 95,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 91,\n            column: 4\n          },\n          end: {\n            line: 95,\n            column: 5\n          }\n        }],\n        line: 91\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 106,\n            column: 16\n          },\n          end: {\n            line: 106,\n            column: 65\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 106,\n            column: 42\n          },\n          end: {\n            line: 106,\n            column: 52\n          }\n        }, {\n          start: {\n            line: 106,\n            column: 55\n          },\n          end: {\n            line: 106,\n            column: 65\n          }\n        }],\n        line: 106\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 110,\n            column: 4\n          },\n          end: {\n            line: 118,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 110,\n            column: 4\n          },\n          end: {\n            line: 118,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 110,\n            column: 4\n          },\n          end: {\n            line: 118,\n            column: 5\n          }\n        }],\n        line: 110\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 110,\n            column: 8\n          },\n          end: {\n            line: 110,\n            column: 69\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 110,\n            column: 8\n          },\n          end: {\n            line: 110,\n            column: 28\n          }\n        }, {\n          start: {\n            line: 110,\n            column: 32\n          },\n          end: {\n            line: 110,\n            column: 47\n          }\n        }, {\n          start: {\n            line: 110,\n            column: 51\n          },\n          end: {\n            line: 110,\n            column: 69\n          }\n        }],\n        line: 110\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 122,\n            column: 6\n          },\n          end: {\n            line: 128,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 122,\n            column: 6\n          },\n          end: {\n            line: 128,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 122,\n            column: 6\n          },\n          end: {\n            line: 128,\n            column: 7\n          }\n        }],\n        line: 122\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 124,\n            column: 13\n          },\n          end: {\n            line: 128,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 124,\n            column: 13\n          },\n          end: {\n            line: 128,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 124,\n            column: 13\n          },\n          end: {\n            line: 128,\n            column: 7\n          }\n        }],\n        line: 124\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 126,\n            column: 13\n          },\n          end: {\n            line: 128,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 126,\n            column: 13\n          },\n          end: {\n            line: 128,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 126,\n            column: 13\n          },\n          end: {\n            line: 128,\n            column: 7\n          }\n        }],\n        line: 126\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 140,\n            column: 4\n          },\n          end: {\n            line: 140,\n            column: 61\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 140,\n            column: 4\n          },\n          end: {\n            line: 140,\n            column: 61\n          }\n        }, {\n          start: {\n            line: 140,\n            column: 4\n          },\n          end: {\n            line: 140,\n            column: 61\n          }\n        }],\n        line: 140\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 140,\n            column: 8\n          },\n          end: {\n            line: 140,\n            column: 47\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 140,\n            column: 8\n          },\n          end: {\n            line: 140,\n            column: 21\n          }\n        }, {\n          start: {\n            line: 140,\n            column: 25\n          },\n          end: {\n            line: 140,\n            column: 47\n          }\n        }],\n        line: 140\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 142,\n            column: 4\n          },\n          end: {\n            line: 152,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 142,\n            column: 4\n          },\n          end: {\n            line: 152,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 142,\n            column: 4\n          },\n          end: {\n            line: 152,\n            column: 5\n          }\n        }],\n        line: 142\n      },\n      \"11\": {\n        loc: {\n          start: {\n            line: 148,\n            column: 11\n          },\n          end: {\n            line: 152,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 148,\n            column: 11\n          },\n          end: {\n            line: 152,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 148,\n            column: 11\n          },\n          end: {\n            line: 152,\n            column: 5\n          }\n        }],\n        line: 148\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0],\n      \"11\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"bfac113050986871f7679bc60b3215a11e25497f\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_13qjaz260k = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_13qjaz260k();\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-syle\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport UIContext from '../ui-context';\nimport * as THREE from 'three';\n/**\n * Token\n *\n * Component that represents a board game piece (or token).\n * Can be used by itself or with one of the grid systems\n * provided (Grid or HexGrid).\n *\n * A token renders as a 3D Mesh. IF no mesh prop is passed.\n * It will render a white box on the grid.\n *\n * Props:\n *   x       - X coordinate on grid / hex grid.\n *   y       - Y coordinate on grid / hex grid.\n *   z       - Z coordinate on hex grid.\n *   onClick - Called when the token is clicked.\n *   onMouseOver - Called when the token is mouse over.\n *   onMouseOut - Called when the token is mouse out.\n *\n * Usage:\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2}/>\n * </Grid>\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2} size={0.5}/>\n * </Grid>\n *\n * <HexGrid>\n *   <Token x={1} y={2} z={-3}/>\n * </HexGrid>\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2} mesh={THREE.js 3D-Object}/>\n * </Grid>\n *\n */\n\ncov_13qjaz260k().s[0]++;\nexport var Token = function Token(props) {\n  cov_13qjaz260k().f[0]++;\n  cov_13qjaz260k().s[1]++;\n  return __jsx(UIContext.Consumer, null, function (context) {\n    cov_13qjaz260k().f[1]++;\n    cov_13qjaz260k().s[2]++;\n    return __jsx(TokenImpl, _extends({}, props, {\n      context: context\n    }));\n  });\n};\n\nvar TokenImpl = /*#__PURE__*/function (_React$Component) {\n  _inherits(TokenImpl, _React$Component);\n\n  var _super = _createSuper(TokenImpl);\n\n  function TokenImpl(props) {\n    var _this;\n\n    _classCallCheck(this, TokenImpl);\n\n    cov_13qjaz260k().f[2]++;\n    cov_13qjaz260k().s[5]++;\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"_attachMesh\", (cov_13qjaz260k().s[12]++, function (mesh) {\n      cov_13qjaz260k().f[3]++;\n      var size = (cov_13qjaz260k().s[13]++, _this.size);\n      var meshSize = (cov_13qjaz260k().s[14]++, new THREE.Vector3());\n      var meshCenter = (cov_13qjaz260k().s[15]++, new THREE.Vector3());\n      var bbox = (cov_13qjaz260k().s[16]++, new THREE.Box3().setFromObject(mesh));\n      cov_13qjaz260k().s[17]++;\n      bbox.getSize(meshSize);\n      cov_13qjaz260k().s[18]++;\n      bbox.getCenter(meshCenter); // determine the scale factor\n\n      var scale = (cov_13qjaz260k().s[19]++, meshSize.z < meshSize.x ? (cov_13qjaz260k().b[2][0]++, meshSize.x) : (cov_13qjaz260k().b[2][1]++, meshSize.z));\n      cov_13qjaz260k().s[20]++;\n      scale = size / scale;\n      cov_13qjaz260k().s[21]++;\n      mesh.scale.set(scale, scale, scale); // set the mesh to the ground\n\n      cov_13qjaz260k().s[22]++;\n\n      if ((cov_13qjaz260k().b[4][0]++, _this.props.boardSize) && (cov_13qjaz260k().b[4][1]++, _this.props.lift) && (cov_13qjaz260k().b[4][2]++, _this.props.padding)) {\n        cov_13qjaz260k().b[3][0]++;\n        cov_13qjaz260k().s[23]++;\n        mesh.position.x = _this.props.x * (_this.props.boardSize + _this.props.padding);\n        cov_13qjaz260k().s[24]++;\n        mesh.position.z = _this.props.y * (_this.props.boardSize + _this.props.padding);\n        cov_13qjaz260k().s[25]++;\n        mesh.position.y = -bbox.min.y + _this.props.lift;\n      } else {\n        cov_13qjaz260k().b[3][1]++;\n        cov_13qjaz260k().s[26]++;\n        mesh.position.x = _this.props.x;\n        cov_13qjaz260k().s[27]++;\n        mesh.position.z = _this.props.y;\n        cov_13qjaz260k().s[28]++;\n        mesh.position.y = -bbox.min.y;\n      }\n\n      cov_13qjaz260k().s[29]++;\n\n      _this.parent.add(mesh); // register the event\n\n\n      cov_13qjaz260k().s[30]++;\n\n      var onEvent = function onEvent(e) {\n        cov_13qjaz260k().f[4]++;\n        cov_13qjaz260k().s[31]++;\n\n        if (e.type == 'click') {\n          cov_13qjaz260k().b[5][0]++;\n          cov_13qjaz260k().s[32]++;\n\n          _this.props.onClick({\n            x: _this.props.x,\n            y: _this.props.y\n          });\n        } else {\n          cov_13qjaz260k().b[5][1]++;\n          cov_13qjaz260k().s[33]++;\n\n          if (e.type == 'mouseOver') {\n            cov_13qjaz260k().b[6][0]++;\n            cov_13qjaz260k().s[34]++;\n\n            _this.props.onMouseOver({\n              x: _this.props.x,\n              y: _this.props.y\n            });\n          } else {\n            cov_13qjaz260k().b[6][1]++;\n            cov_13qjaz260k().s[35]++;\n\n            if (e.type == 'mouseOut') {\n              cov_13qjaz260k().b[7][0]++;\n              cov_13qjaz260k().s[36]++;\n\n              _this.props.onMouseOut({\n                x: _this.props.x,\n                y: _this.props.y\n              });\n            } else {\n              cov_13qjaz260k().b[7][1]++;\n            }\n          }\n        }\n      };\n\n      cov_13qjaz260k().s[37]++;\n\n      _this.props.context.regCall(mesh, onEvent);\n    }));\n\n    cov_13qjaz260k().s[6]++;\n\n    if (!props.size) {\n      cov_13qjaz260k().b[0][0]++;\n      cov_13qjaz260k().s[7]++;\n      _this.size = props.boardSize;\n    } else {\n      cov_13qjaz260k().b[0][1]++;\n      cov_13qjaz260k().s[8]++;\n      _this.size = props.size;\n    }\n\n    cov_13qjaz260k().s[9]++;\n\n    if (props.parent) {\n      cov_13qjaz260k().b[1][0]++;\n      cov_13qjaz260k().s[10]++;\n      _this.parent = props.parent;\n    } else {\n      cov_13qjaz260k().b[1][1]++;\n      cov_13qjaz260k().s[11]++;\n      _this.parent = props.context;\n    }\n\n    return _this;\n  }\n\n  _createClass(TokenImpl, [{\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cov_13qjaz260k().f[5]++;\n      cov_13qjaz260k().s[38]++;\n      this.parent.remove(this.prevMesh);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      cov_13qjaz260k().f[6]++;\n      var mesh = (cov_13qjaz260k().s[39]++, this.props.mesh);\n      cov_13qjaz260k().s[40]++;\n\n      if ((cov_13qjaz260k().b[9][0]++, this.prevMesh) && (cov_13qjaz260k().b[9][1]++, this.prevMesh === mesh)) {\n        cov_13qjaz260k().b[8][0]++;\n        cov_13qjaz260k().s[41]++;\n        return null;\n      } else {\n        cov_13qjaz260k().b[8][1]++;\n      }\n\n      cov_13qjaz260k().s[42]++;\n\n      if (!mesh) {\n        cov_13qjaz260k().b[10][0]++;\n        cov_13qjaz260k().s[43]++;\n        mesh = new THREE.Mesh(new THREE.BoxBufferGeometry(1, 1 * 0.3, 1), new THREE.MeshLambertMaterial({\n          color: '#eeeeee'\n        }));\n        cov_13qjaz260k().s[44]++;\n\n        this._attachMesh(mesh);\n      } else {\n        cov_13qjaz260k().b[10][1]++;\n        cov_13qjaz260k().s[45]++;\n\n        if (mesh.isObject3D) {\n          cov_13qjaz260k().b[11][0]++;\n          cov_13qjaz260k().s[46]++;\n\n          this._attachMesh(mesh);\n        } else {\n          cov_13qjaz260k().b[11][1]++;\n          cov_13qjaz260k().s[47]++;\n          console.error('Your input to tokens should be an three js 3d object');\n        }\n      }\n\n      cov_13qjaz260k().s[48]++;\n      this.parent.remove(this.prevMesh);\n      cov_13qjaz260k().s[49]++;\n      this.prevMesh = mesh;\n      cov_13qjaz260k().s[50]++;\n      return null;\n    }\n  }]);\n\n  return TokenImpl;\n}((React.Component));\n\n_defineProperty(TokenImpl, \"propTypes\", (cov_13qjaz260k().s[3]++, {\n  x: PropTypes.number,\n  y: PropTypes.number,\n  z: PropTypes.number,\n  mesh: PropTypes.any,\n  padding: PropTypes.number,\n  size: PropTypes.number,\n  lift: PropTypes.number,\n  boardSize: PropTypes.number,\n  parent: PropTypes.instanceOf(THREE.Object3D),\n  context: PropTypes.object,\n  animate: PropTypes.bool,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  children: PropTypes.element,\n  animationDuration: PropTypes.number\n}));\n\n_defineProperty(TokenImpl, \"defaultProps\", (cov_13qjaz260k().s[4]++, {\n  animationDuration: 750,\n  size: 1,\n  padding: 0.1,\n  lift: 0.1\n}));","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/ui/3d/token.js"],"names":["React","PropTypes","UIContext","THREE","Token","props","context","TokenImpl","mesh","size","meshSize","Vector3","meshCenter","bbox","Box3","setFromObject","getSize","getCenter","scale","z","x","set","boardSize","lift","padding","position","y","min","parent","add","onEvent","e","type","onClick","onMouseOver","onMouseOut","regCall","remove","prevMesh","Mesh","BoxBufferGeometry","MeshLambertMaterial","color","_attachMesh","isObject3D","console","error","Component","number","any","instanceOf","Object3D","object","animate","bool","func","children","element","animationDuration"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-syle\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport UIContext from '../ui-context';\nimport * as THREE from 'three';\n\n/**\n * Token\n *\n * Component that represents a board game piece (or token).\n * Can be used by itself or with one of the grid systems\n * provided (Grid or HexGrid).\n *\n * A token renders as a 3D Mesh. IF no mesh prop is passed.\n * It will render a white box on the grid.\n *\n * Props:\n *   x       - X coordinate on grid / hex grid.\n *   y       - Y coordinate on grid / hex grid.\n *   z       - Z coordinate on hex grid.\n *   onClick - Called when the token is clicked.\n *   onMouseOver - Called when the token is mouse over.\n *   onMouseOut - Called when the token is mouse out.\n *\n * Usage:\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2}/>\n * </Grid>\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2} size={0.5}/>\n * </Grid>\n *\n * <HexGrid>\n *   <Token x={1} y={2} z={-3}/>\n * </HexGrid>\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2} mesh={THREE.js 3D-Object}/>\n * </Grid>\n *\n */\nexport const Token = (props) => (\n  <UIContext.Consumer>{(context) => <TokenImpl {...props} context={context} />}</UIContext.Consumer>\n);\n\nclass TokenImpl extends React.Component {\n  static propTypes = {\n    x: PropTypes.number,\n    y: PropTypes.number,\n    z: PropTypes.number,\n    mesh: PropTypes.any,\n    padding: PropTypes.number,\n    size: PropTypes.number,\n    lift: PropTypes.number,\n    boardSize: PropTypes.number,\n    parent: PropTypes.instanceOf(THREE.Object3D),\n    context: PropTypes.object,\n    animate: PropTypes.bool,\n    onClick: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    children: PropTypes.element,\n    animationDuration: PropTypes.number,\n  };\n\n  static defaultProps = {\n    animationDuration: 750,\n    size: 1,\n    padding: 0.1,\n    lift: 0.1,\n  };\n\n  constructor(props) {\n    super();\n\n    if (!props.size) {\n      this.size = props.boardSize;\n    } else {\n      this.size = props.size;\n    }\n\n    if (props.parent) {\n      this.parent = props.parent;\n    } else {\n      this.parent = props.context;\n    }\n  }\n\n  _attachMesh = (mesh) => {\n    const size = this.size;\n    let meshSize = new THREE.Vector3();\n    let meshCenter = new THREE.Vector3();\n    const bbox = new THREE.Box3().setFromObject(mesh);\n    bbox.getSize(meshSize);\n    bbox.getCenter(meshCenter);\n    // determine the scale factor\n    let scale = meshSize.z < meshSize.x ? meshSize.x : meshSize.z;\n    scale = size / scale;\n    mesh.scale.set(scale, scale, scale);\n    // set the mesh to the ground\n    if (this.props.boardSize && this.props.lift && this.props.padding) {\n      mesh.position.x = this.props.x * (this.props.boardSize + this.props.padding);\n      mesh.position.z = this.props.y * (this.props.boardSize + this.props.padding);\n      mesh.position.y = -bbox.min.y + this.props.lift;\n    } else {\n      mesh.position.x = this.props.x;\n      mesh.position.z = this.props.y;\n      mesh.position.y = -bbox.min.y;\n    }\n    this.parent.add(mesh);\n    // register the event\n    const onEvent = (e) => {\n      if (e.type == 'click') {\n        this.props.onClick({ x: this.props.x, y: this.props.y });\n      } else if (e.type == 'mouseOver') {\n        this.props.onMouseOver({ x: this.props.x, y: this.props.y });\n      } else if (e.type == 'mouseOut') {\n        this.props.onMouseOut({ x: this.props.x, y: this.props.y });\n      }\n    };\n    this.props.context.regCall(mesh, onEvent);\n  };\n\n  componentWillUnmount() {\n    this.parent.remove(this.prevMesh);\n  }\n\n  render() {\n    let mesh = this.props.mesh;\n\n    if (this.prevMesh && this.prevMesh === mesh) return null;\n\n    if (!mesh) {\n      mesh = new THREE.Mesh(\n        new THREE.BoxBufferGeometry(1, 1 * 0.3, 1),\n        new THREE.MeshLambertMaterial({ color: '#eeeeee' }),\n      );\n      this._attachMesh(mesh);\n    } else if (mesh.isObject3D) {\n      this._attachMesh(mesh);\n    } else {\n      console.error('Your input to tokens should be an three js 3d object');\n    }\n    this.parent.remove(this.prevMesh);\n    this.prevMesh = mesh;\n\n    return null;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}