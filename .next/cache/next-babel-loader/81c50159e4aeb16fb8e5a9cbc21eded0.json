{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction cov_gsgez1d1d() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/components/App/Game/Game.tsx\";\n  var hash = \"6bdd82f761078255fa322c6b1cc31327bf942008\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/components/App/Game/Game.tsx\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 43,\n          column: 4\n        },\n        end: {\n          line: 43,\n          column: 17\n        }\n      },\n      \"1\": {\n        start: {\n          line: 44,\n          column: 4\n        },\n        end: {\n          line: 46,\n          column: 6\n        }\n      },\n      \"2\": {\n        start: {\n          line: 47,\n          column: 4\n        },\n        end: {\n          line: 55,\n          column: 5\n        }\n      },\n      \"3\": {\n        start: {\n          line: 48,\n          column: 6\n        },\n        end: {\n          line: 48,\n          column: 40\n        }\n      },\n      \"4\": {\n        start: {\n          line: 49,\n          column: 6\n        },\n        end: {\n          line: 49,\n          column: 47\n        }\n      },\n      \"5\": {\n        start: {\n          line: 50,\n          column: 6\n        },\n        end: {\n          line: 50,\n          column: 53\n        }\n      },\n      \"6\": {\n        start: {\n          line: 52,\n          column: 6\n        },\n        end: {\n          line: 52,\n          column: 46\n        }\n      },\n      \"7\": {\n        start: {\n          line: 53,\n          column: 6\n        },\n        end: {\n          line: 53,\n          column: 79\n        }\n      },\n      \"8\": {\n        start: {\n          line: 54,\n          column: 6\n        },\n        end: {\n          line: 54,\n          column: 42\n        }\n      },\n      \"9\": {\n        start: {\n          line: 56,\n          column: 4\n        },\n        end: {\n          line: 56,\n          column: 44\n        }\n      },\n      \"10\": {\n        start: {\n          line: 60,\n          column: 4\n        },\n        end: {\n          line: 62,\n          column: 7\n        }\n      },\n      \"11\": {\n        start: {\n          line: 66,\n          column: 4\n        },\n        end: {\n          line: 91,\n          column: 5\n        }\n      },\n      \"12\": {\n        start: {\n          line: 67,\n          column: 22\n        },\n        end: {\n          line: 67,\n          column: 41\n        }\n      },\n      \"13\": {\n        start: {\n          line: 68,\n          column: 6\n        },\n        end: {\n          line: 70,\n          column: 7\n        }\n      },\n      \"14\": {\n        start: {\n          line: 69,\n          column: 8\n        },\n        end: {\n          line: 69,\n          column: 44\n        }\n      },\n      \"15\": {\n        start: {\n          line: 71,\n          column: 6\n        },\n        end: {\n          line: 85,\n          column: 8\n        }\n      },\n      \"16\": {\n        start: {\n          line: 73,\n          column: 10\n        },\n        end: {\n          line: 77,\n          column: 14\n        }\n      },\n      \"17\": {\n        start: {\n          line: 73,\n          column: 31\n        },\n        end: {\n          line: 77,\n          column: 11\n        }\n      },\n      \"18\": {\n        start: {\n          line: 80,\n          column: 10\n        },\n        end: {\n          line: 82,\n          column: 13\n        }\n      },\n      \"19\": {\n        start: {\n          line: 87,\n          column: 6\n        },\n        end: {\n          line: 89,\n          column: 9\n        }\n      },\n      \"20\": {\n        start: {\n          line: 90,\n          column: 6\n        },\n        end: {\n          line: 90,\n          column: 31\n        }\n      },\n      \"21\": {\n        start: {\n          line: 95,\n          column: 4\n        },\n        end: {\n          line: 97,\n          column: 5\n        }\n      },\n      \"22\": {\n        start: {\n          line: 96,\n          column: 6\n        },\n        end: {\n          line: 96,\n          column: 33\n        }\n      },\n      \"23\": {\n        start: {\n          line: 101,\n          column: 4\n        },\n        end: {\n          line: 101,\n          column: 17\n        }\n      },\n      \"24\": {\n        start: {\n          line: 106,\n          column: 4\n        },\n        end: {\n          line: 114,\n          column: 5\n        }\n      },\n      \"25\": {\n        start: {\n          line: 107,\n          column: 6\n        },\n        end: {\n          line: 107,\n          column: 82\n        }\n      },\n      \"26\": {\n        start: {\n          line: 108,\n          column: 6\n        },\n        end: {\n          line: 108,\n          column: 54\n        }\n      },\n      \"27\": {\n        start: {\n          line: 109,\n          column: 6\n        },\n        end: {\n          line: 109,\n          column: 41\n        }\n      },\n      \"28\": {\n        start: {\n          line: 111,\n          column: 6\n        },\n        end: {\n          line: 111,\n          column: 35\n        }\n      },\n      \"29\": {\n        start: {\n          line: 112,\n          column: 6\n        },\n        end: {\n          line: 112,\n          column: 39\n        }\n      },\n      \"30\": {\n        start: {\n          line: 113,\n          column: 6\n        },\n        end: {\n          line: 113,\n          column: 71\n        }\n      },\n      \"31\": {\n        start: {\n          line: 115,\n          column: 4\n        },\n        end: {\n          line: 117,\n          column: 5\n        }\n      },\n      \"32\": {\n        start: {\n          line: 116,\n          column: 6\n        },\n        end: {\n          line: 116,\n          column: 76\n        }\n      },\n      \"33\": {\n        start: {\n          line: 118,\n          column: 27\n        },\n        end: {\n          line: 118,\n          column: 84\n        }\n      },\n      \"34\": {\n        start: {\n          line: 118,\n          column: 60\n        },\n        end: {\n          line: 118,\n          column: 83\n        }\n      },\n      \"35\": {\n        start: {\n          line: 119,\n          column: 4\n        },\n        end: {\n          line: 121,\n          column: 5\n        }\n      },\n      \"36\": {\n        start: {\n          line: 120,\n          column: 6\n        },\n        end: {\n          line: 120,\n          column: 79\n        }\n      },\n      \"37\": {\n        start: {\n          line: 122,\n          column: 4\n        },\n        end: {\n          line: 178,\n          column: 5\n        }\n      },\n      \"38\": {\n        start: {\n          line: 123,\n          column: 23\n        },\n        end: {\n          line: 130,\n          column: 20\n        }\n      },\n      \"39\": {\n        start: {\n          line: 131,\n          column: 32\n        },\n        end: {\n          line: 141,\n          column: 7\n        }\n      },\n      \"40\": {\n        start: {\n          line: 142,\n          column: 27\n        },\n        end: {\n          line: 144,\n          column: 27\n        }\n      },\n      \"41\": {\n        start: {\n          line: 145,\n          column: 24\n        },\n        end: {\n          line: 145,\n          column: 79\n        }\n      },\n      \"42\": {\n        start: {\n          line: 145,\n          column: 60\n        },\n        end: {\n          line: 145,\n          column: 78\n        }\n      },\n      \"43\": {\n        start: {\n          line: 146,\n          column: 6\n        },\n        end: {\n          line: 146,\n          column: 60\n        }\n      },\n      \"44\": {\n        start: {\n          line: 147,\n          column: 17\n        },\n        end: {\n          line: 147,\n          column: 30\n        }\n      },\n      \"45\": {\n        start: {\n          line: 148,\n          column: 6\n        },\n        end: {\n          line: 157,\n          column: 7\n        }\n      },\n      \"46\": {\n        start: {\n          line: 149,\n          column: 29\n        },\n        end: {\n          line: 149,\n          column: 47\n        }\n      },\n      \"47\": {\n        start: {\n          line: 150,\n          column: 23\n        },\n        end: {\n          line: 150,\n          column: 74\n        }\n      },\n      \"48\": {\n        start: {\n          line: 151,\n          column: 27\n        },\n        end: {\n          line: 151,\n          column: 54\n        }\n      },\n      \"49\": {\n        start: {\n          line: 153,\n          column: 8\n        },\n        end: {\n          line: 155,\n          column: 11\n        }\n      },\n      \"50\": {\n        start: {\n          line: 156,\n          column: 8\n        },\n        end: {\n          line: 156,\n          column: 38\n        }\n      },\n      \"51\": {\n        start: {\n          line: 158,\n          column: 6\n        },\n        end: {\n          line: 160,\n          column: 7\n        }\n      },\n      \"52\": {\n        start: {\n          line: 159,\n          column: 8\n        },\n        end: {\n          line: 159,\n          column: 90\n        }\n      },\n      \"53\": {\n        start: {\n          line: 161,\n          column: 18\n        },\n        end: {\n          line: 161,\n          column: 45\n        }\n      },\n      \"54\": {\n        start: {\n          line: 162,\n          column: 6\n        },\n        end: {\n          line: 166,\n          column: 9\n        }\n      },\n      \"55\": {\n        start: {\n          line: 167,\n          column: 6\n        },\n        end: {\n          line: 171,\n          column: 7\n        }\n      },\n      \"56\": {\n        start: {\n          line: 168,\n          column: 8\n        },\n        end: {\n          line: 168,\n          column: 88\n        }\n      },\n      \"57\": {\n        start: {\n          line: 170,\n          column: 8\n        },\n        end: {\n          line: 170,\n          column: 62\n        }\n      },\n      \"58\": {\n        start: {\n          line: 172,\n          column: 11\n        },\n        end: {\n          line: 178,\n          column: 5\n        }\n      },\n      \"59\": {\n        start: {\n          line: 173,\n          column: 26\n        },\n        end: {\n          line: 173,\n          column: 90\n        }\n      },\n      \"60\": {\n        start: {\n          line: 174,\n          column: 6\n        },\n        end: {\n          line: 174,\n          column: 29\n        }\n      },\n      \"61\": {\n        start: {\n          line: 176,\n          column: 24\n        },\n        end: {\n          line: 176,\n          column: 91\n        }\n      },\n      \"62\": {\n        start: {\n          line: 177,\n          column: 6\n        },\n        end: {\n          line: 177,\n          column: 27\n        }\n      },\n      \"63\": {\n        start: {\n          line: 182,\n          column: 4\n        },\n        end: {\n          line: 195,\n          column: 5\n        }\n      },\n      \"64\": {\n        start: {\n          line: 184,\n          column: 8\n        },\n        end: {\n          line: 184,\n          column: 39\n        }\n      },\n      \"65\": {\n        start: {\n          line: 186,\n          column: 8\n        },\n        end: {\n          line: 189,\n          column: 10\n        }\n      },\n      \"66\": {\n        start: {\n          line: 191,\n          column: 8\n        },\n        end: {\n          line: 194,\n          column: 10\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 42,\n            column: 2\n          },\n          end: {\n            line: 42,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 42,\n            column: 33\n          },\n          end: {\n            line: 57,\n            column: 3\n          }\n        },\n        line: 42\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 59,\n            column: 2\n          },\n          end: {\n            line: 59,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 59,\n            column: 10\n          },\n          end: {\n            line: 63,\n            column: 3\n          }\n        },\n        line: 59\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 65,\n            column: 2\n          },\n          end: {\n            line: 65,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 65,\n            column: 9\n          },\n          end: {\n            line: 92,\n            column: 3\n          }\n        },\n        line: 65\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 72,\n            column: 8\n          },\n          end: {\n            line: 72,\n            column: 9\n          }\n        },\n        loc: {\n          start: {\n            line: 72,\n            column: 27\n          },\n          end: {\n            line: 78,\n            column: 9\n          }\n        },\n        line: 72\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 73,\n            column: 24\n          },\n          end: {\n            line: 73,\n            column: 25\n          }\n        },\n        loc: {\n          start: {\n            line: 73,\n            column: 31\n          },\n          end: {\n            line: 77,\n            column: 11\n          }\n        },\n        line: 73\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 79,\n            column: 8\n          },\n          end: {\n            line: 79,\n            column: 9\n          }\n        },\n        loc: {\n          start: {\n            line: 79,\n            column: 14\n          },\n          end: {\n            line: 84,\n            column: 9\n          }\n        },\n        line: 79\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 94,\n            column: 2\n          },\n          end: {\n            line: 94,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 94,\n            column: 22\n          },\n          end: {\n            line: 98,\n            column: 3\n          }\n        },\n        line: 94\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 100,\n            column: 2\n          },\n          end: {\n            line: 100,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 100,\n            column: 25\n          },\n          end: {\n            line: 102,\n            column: 3\n          }\n        },\n        line: 100\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 104,\n            column: 2\n          },\n          end: {\n            line: 104,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 104,\n            column: 11\n          },\n          end: {\n            line: 179,\n            column: 3\n          }\n        },\n        line: 104\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 118,\n            column: 50\n          },\n          end: {\n            line: 118,\n            column: 51\n          }\n        },\n        loc: {\n          start: {\n            line: 118,\n            column: 60\n          },\n          end: {\n            line: 118,\n            column: 83\n          }\n        },\n        line: 118\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 145,\n            column: 41\n          },\n          end: {\n            line: 145,\n            column: 42\n          }\n        },\n        loc: {\n          start: {\n            line: 145,\n            column: 60\n          },\n          end: {\n            line: 145,\n            column: 78\n          }\n        },\n        line: 145\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 181,\n            column: 2\n          },\n          end: {\n            line: 181,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 181,\n            column: 16\n          },\n          end: {\n            line: 196,\n            column: 3\n          }\n        },\n        line: 181\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 47,\n            column: 4\n          },\n          end: {\n            line: 55,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 47,\n            column: 4\n          },\n          end: {\n            line: 55,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 47,\n            column: 4\n          },\n          end: {\n            line: 55,\n            column: 5\n          }\n        }],\n        line: 47\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 53,\n            column: 20\n          },\n          end: {\n            line: 53,\n            column: 78\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 53,\n            column: 20\n          },\n          end: {\n            line: 53,\n            column: 45\n          }\n        }, {\n          start: {\n            line: 53,\n            column: 49\n          },\n          end: {\n            line: 53,\n            column: 78\n          }\n        }],\n        line: 53\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 66,\n            column: 4\n          },\n          end: {\n            line: 91,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 66,\n            column: 4\n          },\n          end: {\n            line: 91,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 66,\n            column: 4\n          },\n          end: {\n            line: 91,\n            column: 5\n          }\n        }],\n        line: 66\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 68,\n            column: 6\n          },\n          end: {\n            line: 70,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 68,\n            column: 6\n          },\n          end: {\n            line: 70,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 68,\n            column: 6\n          },\n          end: {\n            line: 70,\n            column: 7\n          }\n        }],\n        line: 68\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 75,\n            column: 16\n          },\n          end: {\n            line: 75,\n            column: 71\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 75,\n            column: 31\n          },\n          end: {\n            line: 75,\n            column: 63\n          }\n        }, {\n          start: {\n            line: 75,\n            column: 67\n          },\n          end: {\n            line: 75,\n            column: 71\n          }\n        }],\n        line: 75\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 95,\n            column: 4\n          },\n          end: {\n            line: 97,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 95,\n            column: 4\n          },\n          end: {\n            line: 97,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 95,\n            column: 4\n          },\n          end: {\n            line: 97,\n            column: 5\n          }\n        }],\n        line: 95\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 106,\n            column: 4\n          },\n          end: {\n            line: 114,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 106,\n            column: 4\n          },\n          end: {\n            line: 114,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 106,\n            column: 4\n          },\n          end: {\n            line: 114,\n            column: 5\n          }\n        }],\n        line: 106\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 113,\n            column: 17\n          },\n          end: {\n            line: 113,\n            column: 70\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 113,\n            column: 45\n          },\n          end: {\n            line: 113,\n            column: 48\n          }\n        }, {\n          start: {\n            line: 113,\n            column: 51\n          },\n          end: {\n            line: 113,\n            column: 70\n          }\n        }],\n        line: 113\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 115,\n            column: 4\n          },\n          end: {\n            line: 117,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 115,\n            column: 4\n          },\n          end: {\n            line: 117,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 115,\n            column: 4\n          },\n          end: {\n            line: 117,\n            column: 5\n          }\n        }],\n        line: 115\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 119,\n            column: 4\n          },\n          end: {\n            line: 121,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 119,\n            column: 4\n          },\n          end: {\n            line: 121,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 119,\n            column: 4\n          },\n          end: {\n            line: 121,\n            column: 5\n          }\n        }],\n        line: 119\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 122,\n            column: 4\n          },\n          end: {\n            line: 178,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 122,\n            column: 4\n          },\n          end: {\n            line: 178,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 122,\n            column: 4\n          },\n          end: {\n            line: 178,\n            column: 5\n          }\n        }],\n        line: 122\n      },\n      \"11\": {\n        loc: {\n          start: {\n            line: 122,\n            column: 8\n          },\n          end: {\n            line: 122,\n            column: 48\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 122,\n            column: 8\n          },\n          end: {\n            line: 122,\n            column: 27\n          }\n        }, {\n          start: {\n            line: 122,\n            column: 31\n          },\n          end: {\n            line: 122,\n            column: 48\n          }\n        }],\n        line: 122\n      },\n      \"12\": {\n        loc: {\n          start: {\n            line: 133,\n            column: 15\n          },\n          end: {\n            line: 133,\n            column: 47\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 133,\n            column: 15\n          },\n          end: {\n            line: 133,\n            column: 38\n          }\n        }, {\n          start: {\n            line: 133,\n            column: 42\n          },\n          end: {\n            line: 133,\n            column: 47\n          }\n        }],\n        line: 133\n      },\n      \"13\": {\n        loc: {\n          start: {\n            line: 142,\n            column: 27\n          },\n          end: {\n            line: 144,\n            column: 27\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 143,\n            column: 10\n          },\n          end: {\n            line: 143,\n            column: 63\n          }\n        }, {\n          start: {\n            line: 144,\n            column: 10\n          },\n          end: {\n            line: 144,\n            column: 27\n          }\n        }],\n        line: 142\n      },\n      \"14\": {\n        loc: {\n          start: {\n            line: 148,\n            column: 6\n          },\n          end: {\n            line: 157,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 148,\n            column: 6\n          },\n          end: {\n            line: 157,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 148,\n            column: 6\n          },\n          end: {\n            line: 157,\n            column: 7\n          }\n        }],\n        line: 148\n      },\n      \"15\": {\n        loc: {\n          start: {\n            line: 148,\n            column: 10\n          },\n          end: {\n            line: 148,\n            column: 27\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 148,\n            column: 10\n          },\n          end: {\n            line: 148,\n            column: 21\n          }\n        }, {\n          start: {\n            line: 148,\n            column: 25\n          },\n          end: {\n            line: 148,\n            column: 27\n          }\n        }],\n        line: 148\n      },\n      \"16\": {\n        loc: {\n          start: {\n            line: 150,\n            column: 23\n          },\n          end: {\n            line: 150,\n            column: 74\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 150,\n            column: 23\n          },\n          end: {\n            line: 150,\n            column: 38\n          }\n        }, {\n          start: {\n            line: 150,\n            column: 42\n          },\n          end: {\n            line: 150,\n            column: 58\n          }\n        }, {\n          start: {\n            line: 150,\n            column: 62\n          },\n          end: {\n            line: 150,\n            column: 74\n          }\n        }],\n        line: 150\n      },\n      \"17\": {\n        loc: {\n          start: {\n            line: 151,\n            column: 27\n          },\n          end: {\n            line: 151,\n            column: 54\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 151,\n            column: 27\n          },\n          end: {\n            line: 151,\n            column: 44\n          }\n        }, {\n          start: {\n            line: 151,\n            column: 48\n          },\n          end: {\n            line: 151,\n            column: 54\n          }\n        }],\n        line: 151\n      },\n      \"18\": {\n        loc: {\n          start: {\n            line: 158,\n            column: 6\n          },\n          end: {\n            line: 160,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 158,\n            column: 6\n          },\n          end: {\n            line: 160,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 158,\n            column: 6\n          },\n          end: {\n            line: 160,\n            column: 7\n          }\n        }],\n        line: 158\n      },\n      \"19\": {\n        loc: {\n          start: {\n            line: 167,\n            column: 6\n          },\n          end: {\n            line: 171,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 167,\n            column: 6\n          },\n          end: {\n            line: 171,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 167,\n            column: 6\n          },\n          end: {\n            line: 171,\n            column: 7\n          }\n        }],\n        line: 167\n      },\n      \"20\": {\n        loc: {\n          start: {\n            line: 172,\n            column: 11\n          },\n          end: {\n            line: 178,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 172,\n            column: 11\n          },\n          end: {\n            line: 178,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 172,\n            column: 11\n          },\n          end: {\n            line: 178,\n            column: 5\n          }\n        }],\n        line: 172\n      },\n      \"21\": {\n        loc: {\n          start: {\n            line: 182,\n            column: 4\n          },\n          end: {\n            line: 195,\n            column: 5\n          }\n        },\n        type: \"switch\",\n        locations: [{\n          start: {\n            line: 183,\n            column: 6\n          },\n          end: {\n            line: 184,\n            column: 39\n          }\n        }, {\n          start: {\n            line: 185,\n            column: 6\n          },\n          end: {\n            line: 189,\n            column: 10\n          }\n        }, {\n          start: {\n            line: 190,\n            column: 6\n          },\n          end: {\n            line: 194,\n            column: 10\n          }\n        }],\n        line: 182\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0,\n      \"51\": 0,\n      \"52\": 0,\n      \"53\": 0,\n      \"54\": 0,\n      \"55\": 0,\n      \"56\": 0,\n      \"57\": 0,\n      \"58\": 0,\n      \"59\": 0,\n      \"60\": 0,\n      \"61\": 0,\n      \"62\": 0,\n      \"63\": 0,\n      \"64\": 0,\n      \"65\": 0,\n      \"66\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0],\n      \"11\": [0, 0],\n      \"12\": [0, 0],\n      \"13\": [0, 0],\n      \"14\": [0, 0],\n      \"15\": [0, 0],\n      \"16\": [0, 0, 0],\n      \"17\": [0, 0],\n      \"18\": [0, 0],\n      \"19\": [0, 0],\n      \"20\": [0, 0],\n      \"21\": [0, 0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"6bdd82f761078255fa322c6b1cc31327bf942008\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_gsgez1d1d = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_gsgez1d1d();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { Client } from 'boardgame.io/react';\nimport { GAMES_MAP } from 'games';\nimport { gameBoardWrapper } from './GameBoardWrapper';\nimport { GameMode } from './GameModePicker';\nimport getMessagePage from '../MessagePage';\nimport MessagePageClass from '../MessagePageClass';\nimport { applyMiddleware } from 'redux';\nimport DEFAULT_ENHANCERS from './Enhancers';\nimport AddressHelper from '../Helpers/AddressHelper';\nimport { LobbyService } from '../Lobby/LobbyService';\nimport ReactGA from 'react-ga';\nimport { SocketIO, Local } from 'boardgame.io/multiplayer';\nexport default class Game extends (React.Component) {\n  // for testing\n  constructor(props) {\n    cov_gsgez1d1d().f[0]++;\n    cov_gsgez1d1d().s[0]++;\n    super(props);\n\n    _defineProperty(this, \"mode\", void 0);\n\n    _defineProperty(this, \"loadAI\", void 0);\n\n    _defineProperty(this, \"gameCode\", void 0);\n\n    _defineProperty(this, \"gameDef\", void 0);\n\n    _defineProperty(this, \"currentUser\", void 0);\n\n    _defineProperty(this, \"promise\", void 0);\n\n    cov_gsgez1d1d().s[1]++;\n    this.state = {\n      loading: true\n    };\n    cov_gsgez1d1d().s[2]++;\n\n    if (this.props.room) {\n      cov_gsgez1d1d().b[0][0]++;\n      cov_gsgez1d1d().s[3]++;\n      this.mode = GameMode.OnlineFriend;\n      cov_gsgez1d1d().s[4]++;\n      this.gameCode = this.props.room.gameCode;\n      cov_gsgez1d1d().s[5]++;\n      this.currentUser = this.props.room.currentUser;\n    } else {\n      cov_gsgez1d1d().b[0][1]++;\n      cov_gsgez1d1d().s[6]++;\n      this.mode = this.props.mode;\n      cov_gsgez1d1d().s[7]++;\n      this.loadAI = (cov_gsgez1d1d().b[1][0]++, this.mode === GameMode.AI) && (cov_gsgez1d1d().b[1][1]++, false);\n      cov_gsgez1d1d().s[8]++;\n      this.gameCode = this.props.gameCode;\n    }\n\n    cov_gsgez1d1d().s[9]++;\n    this.gameDef = GAMES_MAP[this.gameCode];\n  }\n\n  clear() {\n    cov_gsgez1d1d().f[1]++;\n    cov_gsgez1d1d().s[10]++;\n    this.setState({\n      loading: true\n    });\n  }\n\n  load() {\n    cov_gsgez1d1d().f[2]++;\n    cov_gsgez1d1d().s[11]++;\n\n    if (this.gameDef) {\n      cov_gsgez1d1d().b[2][0]++;\n      let aiPromise = (cov_gsgez1d1d().s[12]++, Promise.resolve({}));\n      cov_gsgez1d1d().s[13]++;\n\n      if (this.loadAI) {\n        cov_gsgez1d1d().b[3][0]++;\n        cov_gsgez1d1d().s[14]++;\n        aiPromise = this.gameDef.aiConfig();\n      } else {\n        cov_gsgez1d1d().b[3][1]++;\n      }\n\n      cov_gsgez1d1d().s[15]++;\n      return Promise.all([this.gameDef.config(), aiPromise]).then(promises => {\n        cov_gsgez1d1d().f[3]++;\n        cov_gsgez1d1d().s[16]++;\n        this.setState(() => {\n          cov_gsgez1d1d().f[4]++;\n          cov_gsgez1d1d().s[17]++;\n          return {\n            config: promises[0].default,\n            ai: this.loadAI ? (cov_gsgez1d1d().b[4][0]++, promises[1].default) : (cov_gsgez1d1d().b[4][1]++, null),\n            loading: false\n          };\n        });\n      }, () => {\n        cov_gsgez1d1d().f[5]++;\n        cov_gsgez1d1d().s[18]++;\n        this.setState({\n          loading: false\n        }); // throw(e);\n      });\n    } else {\n      cov_gsgez1d1d().b[2][1]++;\n      cov_gsgez1d1d().s[19]++;\n      this.setState({\n        loading: false\n      });\n      cov_gsgez1d1d().s[20]++;\n      return Promise.resolve();\n    }\n  }\n\n  componentDidMount() {\n    cov_gsgez1d1d().f[6]++;\n    cov_gsgez1d1d().s[21]++;\n\n    if (this.gameDef) {\n      cov_gsgez1d1d().b[5][0]++;\n      cov_gsgez1d1d().s[22]++;\n      this.promise = this.load();\n    } else {\n      cov_gsgez1d1d().b[5][1]++;\n    }\n  }\n\n  componentWillUnmount() {\n    cov_gsgez1d1d().f[7]++;\n    cov_gsgez1d1d().s[23]++;\n    this.clear();\n  }\n\n  render() {\n    cov_gsgez1d1d().f[8]++;\n    let aiLevel, matchCode, playerID, credentials;\n    cov_gsgez1d1d().s[24]++;\n\n    if (this.props.room) {\n      cov_gsgez1d1d().b[6][0]++;\n      cov_gsgez1d1d().s[25]++;\n      credentials = LobbyService.getCredential(this.props.room.roomID).credential;\n      cov_gsgez1d1d().s[26]++;\n      playerID = this.currentUser.playerID.toString();\n      cov_gsgez1d1d().s[27]++;\n      matchCode = this.props.room.roomID;\n    } else {\n      cov_gsgez1d1d().b[6][1]++;\n      cov_gsgez1d1d().s[28]++;\n      aiLevel = this.props.aiLevel;\n      cov_gsgez1d1d().s[29]++;\n      matchCode = this.props.matchCode;\n      cov_gsgez1d1d().s[30]++;\n      playerID = this.mode === GameMode.AI ? (cov_gsgez1d1d().b[7][0]++, '1') : (cov_gsgez1d1d().b[7][1]++, this.props.playerID);\n    }\n\n    cov_gsgez1d1d().s[31]++;\n\n    if (!this.gameDef) {\n      cov_gsgez1d1d().b[8][0]++;\n      cov_gsgez1d1d().s[32]++;\n      return __jsx(MessagePageClass, {\n        type: 'error',\n        message: 'Game Not Found'\n      });\n    } else {\n      cov_gsgez1d1d().b[8][1]++;\n    }\n\n    const validGameModes = (cov_gsgez1d1d().s[33]++, this.gameDef.modes.map(mode => {\n      cov_gsgez1d1d().f[9]++;\n      cov_gsgez1d1d().s[34]++;\n      return mode.mode.toLowerCase();\n    }));\n    cov_gsgez1d1d().s[35]++;\n\n    if (!validGameModes.includes(this.mode.toLowerCase())) {\n      cov_gsgez1d1d().b[9][0]++;\n      cov_gsgez1d1d().s[36]++;\n      return __jsx(MessagePageClass, {\n        type: 'error',\n        message: 'Invalid Game Mode'\n      });\n    } else {\n      cov_gsgez1d1d().b[9][1]++;\n    }\n\n    cov_gsgez1d1d().s[37]++;\n\n    if ((cov_gsgez1d1d().b[11][0]++, !this.state.loading) && (cov_gsgez1d1d().b[11][1]++, this.state.config)) {\n      cov_gsgez1d1d().b[10][0]++;\n      const gameArgs = (cov_gsgez1d1d().s[38]++, {\n        gameCode: this.gameCode,\n        mode: this.mode,\n        credentials,\n        matchCode,\n        players: this._getPlayers(),\n        playerID\n      });\n      const clientConfig = (cov_gsgez1d1d().s[39]++, {\n        game: this.state.config.bgioGame,\n        debug: (cov_gsgez1d1d().b[12][0]++, this.state.config.debug) || (cov_gsgez1d1d().b[12][1]++, false),\n        loading: getMessagePage('loading', 'Connecting...'),\n        board: gameBoardWrapper({\n          board: this.state.config.bgioBoard,\n          gameArgs\n        }),\n        credentials,\n        gameID: matchCode\n      });\n      const allEnhancers = (cov_gsgez1d1d().s[40]++, this.state.config.enhancers ? (cov_gsgez1d1d().b[13][0]++, this.state.config.enhancers.concat(DEFAULT_ENHANCERS)) : (cov_gsgez1d1d().b[13][1]++, DEFAULT_ENHANCERS));\n      const enhancers = (cov_gsgez1d1d().s[41]++, allEnhancers.map(enhancer => {\n        cov_gsgez1d1d().f[10]++;\n        cov_gsgez1d1d().s[42]++;\n        return enhancer(gameArgs);\n      }));\n      cov_gsgez1d1d().s[43]++;\n      clientConfig.enhancer = applyMiddleware(...enhancers);\n      const ai = (cov_gsgez1d1d().s[44]++, this.state.ai);\n      cov_gsgez1d1d().s[45]++;\n\n      if ((cov_gsgez1d1d().b[15][0]++, this.loadAI) && (cov_gsgez1d1d().b[15][1]++, ai)) {\n        cov_gsgez1d1d().b[14][0]++;\n        const gameAIConfig = (cov_gsgez1d1d().s[46]++, ai.bgioAI(aiLevel));\n        const gameAI = (cov_gsgez1d1d().s[47]++, (cov_gsgez1d1d().b[16][0]++, gameAIConfig.ai) || (cov_gsgez1d1d().b[16][1]++, gameAIConfig.bot) || (cov_gsgez1d1d().b[16][2]++, gameAIConfig));\n        const gameAIType = (cov_gsgez1d1d().s[48]++, (cov_gsgez1d1d().b[17][0]++, gameAIConfig.type) || (cov_gsgez1d1d().b[17][1]++, gameAI));\n        cov_gsgez1d1d().s[49]++;\n        clientConfig.multiplayer = Local({\n          bots: {\n            '0': gameAIType\n          }\n        });\n        cov_gsgez1d1d().s[50]++;\n        clientConfig.game.ai = gameAI;\n      } else {\n        cov_gsgez1d1d().b[14][1]++;\n      }\n\n      cov_gsgez1d1d().s[51]++;\n\n      if (this.mode === GameMode.OnlineFriend) {\n        cov_gsgez1d1d().b[18][0]++;\n        cov_gsgez1d1d().s[52]++;\n        clientConfig.multiplayer = SocketIO({\n          server: AddressHelper.getServerAddress()\n        });\n      } else {\n        cov_gsgez1d1d().b[18][1]++;\n      }\n\n      const App = (cov_gsgez1d1d().s[53]++, Client(clientConfig));\n      cov_gsgez1d1d().s[54]++;\n      ReactGA.event({\n        category: 'Game',\n        label: gameArgs.gameCode,\n        action: `Started ${this.mode} game`\n      });\n      cov_gsgez1d1d().s[55]++;\n\n      if (this.mode === GameMode.OnlineFriend) {\n        cov_gsgez1d1d().b[19][0]++;\n        cov_gsgez1d1d().s[56]++;\n        return __jsx(App, {\n          gameID: matchCode,\n          playerID: playerID,\n          credentials: credentials\n        });\n      } else {\n        cov_gsgez1d1d().b[19][1]++;\n        cov_gsgez1d1d().s[57]++;\n        return __jsx(App, {\n          gameID: matchCode,\n          playerID: playerID\n        });\n      }\n    } else {\n      cov_gsgez1d1d().b[10][1]++;\n      cov_gsgez1d1d().s[58]++;\n\n      if (this.state.loading) {\n        cov_gsgez1d1d().b[20][0]++;\n        const LoadingPage = (cov_gsgez1d1d().s[59]++, getMessagePage('loading', `Downloading ${this.gameDef.name}...`));\n        cov_gsgez1d1d().s[60]++;\n        return __jsx(LoadingPage, null);\n      } else {\n        cov_gsgez1d1d().b[20][1]++;\n        const ErrorPage = (cov_gsgez1d1d().s[61]++, getMessagePage('error', `Failed to download ${this.gameDef.name}.`));\n        cov_gsgez1d1d().s[62]++;\n        return __jsx(ErrorPage, null);\n      }\n    }\n  }\n\n  _getPlayers() {\n    cov_gsgez1d1d().f[11]++;\n    cov_gsgez1d1d().s[63]++;\n\n    switch (this.mode) {\n      case GameMode.OnlineFriend:\n        cov_gsgez1d1d().b[21][0]++;\n        cov_gsgez1d1d().s[64]++;\n        return this.props.room.players;\n\n      case GameMode.AI:\n        cov_gsgez1d1d().b[21][1]++;\n        cov_gsgez1d1d().s[65]++;\n        return [{\n          playerID: 0,\n          name: 'Computer',\n          roomID: ''\n        }, {\n          playerID: 1,\n          name: 'You',\n          roomID: ''\n        }];\n\n      case GameMode.LocalFriend:\n        cov_gsgez1d1d().b[21][2]++;\n        cov_gsgez1d1d().s[66]++;\n        return [{\n          playerID: 0,\n          name: 'Player 1',\n          roomID: ''\n        }, {\n          playerID: 1,\n          name: 'Player 2',\n          roomID: ''\n        }];\n    }\n  }\n\n}","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/components/App/Game/Game.tsx"],"names":["React","Client","GAMES_MAP","gameBoardWrapper","GameMode","getMessagePage","MessagePageClass","applyMiddleware","DEFAULT_ENHANCERS","AddressHelper","LobbyService","ReactGA","SocketIO","Local","Game","Component","constructor","props","state","loading","room","mode","OnlineFriend","gameCode","currentUser","loadAI","AI","gameDef","clear","setState","load","aiPromise","Promise","resolve","aiConfig","all","config","then","promises","default","ai","componentDidMount","promise","componentWillUnmount","render","aiLevel","matchCode","playerID","credentials","getCredential","roomID","credential","toString","validGameModes","modes","map","toLowerCase","includes","gameArgs","players","_getPlayers","clientConfig","game","bgioGame","debug","board","bgioBoard","gameID","allEnhancers","enhancers","concat","enhancer","gameAIConfig","bgioAI","gameAI","bot","gameAIType","type","multiplayer","bots","server","getServerAddress","App","event","category","label","action","LoadingPage","name","ErrorPage","LocalFriend"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["import React from 'react';\nimport { Client } from 'boardgame.io/react';\nimport { IGameDef, GAMES_MAP, IGameConfig, IAIConfig } from 'games';\nimport { gameBoardWrapper } from './GameBoardWrapper';\nimport { GameMode } from './GameModePicker';\nimport getMessagePage from '../MessagePage';\nimport MessagePageClass from '../MessagePageClass';\nimport { applyMiddleware } from 'redux';\nimport DEFAULT_ENHANCERS from './Enhancers';\nimport AddressHelper from '../Helpers/AddressHelper';\nimport { IRoomMetadata, IPlayerInRoom, LobbyService } from '../Lobby/LobbyService';\nimport { IGameArgs } from './GameBoardWrapper';\nimport ReactGA from 'react-ga';\nimport { SocketIO, Local } from 'boardgame.io/multiplayer';\n\ninterface IGameProps {\n  // FIXME: fix which props are req\n  match?: any;\n  history?: { push: (url: string) => void };\n  room?: IRoomMetadata;\n  matchCode?: string;\n  gameCode?: string;\n  mode?: string;\n  aiLevel?: string;\n  playerID?: string;\n}\n\ninterface IGameState {\n  loading: boolean;\n  config?: IGameConfig;\n  ai?: IAIConfig;\n}\n\nexport default class Game extends React.Component<IGameProps, IGameState> {\n  mode: GameMode;\n  loadAI: boolean;\n  gameCode: string;\n  gameDef: IGameDef;\n  currentUser: IPlayerInRoom;\n  promise: any; // for testing\n\n  constructor(props: IGameProps) {\n    super(props);\n    this.state = {\n      loading: true,\n    };\n    if (this.props.room) {\n      this.mode = GameMode.OnlineFriend;\n      this.gameCode = this.props.room.gameCode;\n      this.currentUser = this.props.room.currentUser;\n    } else {\n      this.mode = this.props.mode as GameMode;\n      this.loadAI = this.mode === GameMode.AI && typeof window !== 'undefined';\n      this.gameCode = this.props.gameCode;\n    }\n    this.gameDef = GAMES_MAP[this.gameCode];\n  }\n\n  clear() {\n    this.setState({\n      loading: true,\n    });\n  }\n\n  load() {\n    if (this.gameDef) {\n      let aiPromise = Promise.resolve({});\n      if (this.loadAI) {\n        aiPromise = this.gameDef.aiConfig();\n      }\n      return Promise.all([this.gameDef.config(), aiPromise]).then(\n        (promises: any) => {\n          this.setState(() => ({\n            config: promises[0].default as IGameConfig,\n            ai: this.loadAI ? (promises[1].default as IAIConfig) : null,\n            loading: false,\n          }));\n        },\n        () => {\n          this.setState({\n            loading: false,\n          });\n          // throw(e);\n        },\n      );\n    } else {\n      this.setState({\n        loading: false,\n      });\n      return Promise.resolve();\n    }\n  }\n\n  componentDidMount() {\n    if (this.gameDef) {\n      this.promise = this.load();\n    }\n  }\n\n  componentWillUnmount() {\n    this.clear();\n  }\n\n  render() {\n    let aiLevel, matchCode, playerID, credentials;\n    if (this.props.room) {\n      credentials = LobbyService.getCredential(this.props.room.roomID).credential;\n      playerID = this.currentUser.playerID.toString();\n      matchCode = this.props.room.roomID;\n    } else {\n      aiLevel = this.props.aiLevel;\n      matchCode = this.props.matchCode;\n      playerID = this.mode === GameMode.AI ? '1' : this.props.playerID;\n    }\n    if (!this.gameDef) {\n      return <MessagePageClass type={'error'} message={'Game Not Found'} />;\n    }\n    const validGameModes = this.gameDef.modes.map((mode) => mode.mode.toLowerCase());\n    if (!validGameModes.includes(this.mode.toLowerCase())) {\n      return <MessagePageClass type={'error'} message={'Invalid Game Mode'} />;\n    }\n    if (!this.state.loading && this.state.config) {\n      const gameArgs = {\n        gameCode: this.gameCode,\n        mode: this.mode,\n        credentials,\n        matchCode,\n        players: this._getPlayers(),\n        playerID,\n      } as IGameArgs;\n      const clientConfig: any = {\n        game: this.state.config.bgioGame,\n        debug: this.state.config.debug || false,\n        loading: getMessagePage('loading', 'Connecting...'),\n        board: gameBoardWrapper({\n          board: this.state.config.bgioBoard,\n          gameArgs,\n        }),\n        credentials,\n        gameID: matchCode,\n      };\n      const allEnhancers = this.state.config.enhancers\n        ? this.state.config.enhancers.concat(DEFAULT_ENHANCERS)\n        : DEFAULT_ENHANCERS;\n      const enhancers = allEnhancers.map((enhancer: any) => enhancer(gameArgs));\n      clientConfig.enhancer = applyMiddleware(...enhancers);\n      const ai = this.state.ai;\n      if (this.loadAI && ai) {\n        const gameAIConfig = ai.bgioAI(aiLevel);\n        const gameAI = gameAIConfig.ai || gameAIConfig.bot || gameAIConfig;\n        const gameAIType = gameAIConfig.type || gameAI;\n\n        clientConfig.multiplayer = Local({\n          bots: { '0': gameAIType },\n        });\n        clientConfig.game.ai = gameAI;\n      }\n      if (this.mode === GameMode.OnlineFriend) {\n        clientConfig.multiplayer = SocketIO({ server: AddressHelper.getServerAddress() });\n      }\n      const App = Client(clientConfig) as any;\n      ReactGA.event({\n        category: 'Game',\n        label: gameArgs.gameCode,\n        action: `Started ${this.mode} game`,\n      });\n      if (this.mode === GameMode.OnlineFriend) {\n        return <App gameID={matchCode} playerID={playerID} credentials={credentials} />;\n      } else {\n        return <App gameID={matchCode} playerID={playerID} />;\n      }\n    } else if (this.state.loading) {\n      const LoadingPage = getMessagePage('loading', `Downloading ${this.gameDef.name}...`);\n      return <LoadingPage />;\n    } else {\n      const ErrorPage = getMessagePage('error', `Failed to download ${this.gameDef.name}.`);\n      return <ErrorPage />;\n    }\n  }\n\n  _getPlayers() {\n    switch (this.mode) {\n      case GameMode.OnlineFriend:\n        return this.props.room.players;\n      case GameMode.AI:\n        return [\n          { playerID: 0, name: 'Computer', roomID: '' },\n          { playerID: 1, name: 'You', roomID: '' },\n        ];\n      case GameMode.LocalFriend:\n        return [\n          { playerID: 0, name: 'Player 1', roomID: '' },\n          { playerID: 1, name: 'Player 2', roomID: '' },\n        ];\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}