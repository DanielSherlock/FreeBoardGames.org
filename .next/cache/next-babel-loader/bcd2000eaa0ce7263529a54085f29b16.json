{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction cov_2noc4a7ksf() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/ui/2d/grid.js\";\n  var hash = \"3918b7b6aef2b5d873a9b3ced78aa755c8be9a44\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/ui/2d/grid.js\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 36,\n          column: 21\n        },\n        end: {\n          line: 47,\n          column: 3\n        }\n      },\n      \"1\": {\n        start: {\n          line: 49,\n          column: 24\n        },\n        end: {\n          line: 53,\n          column: 3\n        }\n      },\n      \"2\": {\n        start: {\n          line: 55,\n          column: 12\n        },\n        end: {\n          line: 55,\n          column: 29\n        }\n      },\n      \"3\": {\n        start: {\n          line: 58,\n          column: 16\n        },\n        end: {\n          line: 58,\n          column: 27\n        }\n      },\n      \"4\": {\n        start: {\n          line: 59,\n          column: 16\n        },\n        end: {\n          line: 59,\n          column: 23\n        }\n      },\n      \"5\": {\n        start: {\n          line: 60,\n          column: 4\n        },\n        end: {\n          line: 62,\n          column: 5\n        }\n      },\n      \"6\": {\n        start: {\n          line: 61,\n          column: 6\n        },\n        end: {\n          line: 61,\n          column: 39\n        }\n      },\n      \"7\": {\n        start: {\n          line: 63,\n          column: 4\n        },\n        end: {\n          line: 63,\n          column: 17\n        }\n      },\n      \"8\": {\n        start: {\n          line: 67,\n          column: 4\n        },\n        end: {\n          line: 69,\n          column: 5\n        }\n      },\n      \"9\": {\n        start: {\n          line: 68,\n          column: 6\n        },\n        end: {\n          line: 68,\n          column: 18\n        }\n      },\n      \"10\": {\n        start: {\n          line: 71,\n          column: 18\n        },\n        end: {\n          line: 71,\n          column: 20\n        }\n      },\n      \"11\": {\n        start: {\n          line: 72,\n          column: 4\n        },\n        end: {\n          line: 87,\n          column: 5\n        }\n      },\n      \"12\": {\n        start: {\n          line: 72,\n          column: 17\n        },\n        end: {\n          line: 72,\n          column: 18\n        }\n      },\n      \"13\": {\n        start: {\n          line: 73,\n          column: 6\n        },\n        end: {\n          line: 86,\n          column: 7\n        }\n      },\n      \"14\": {\n        start: {\n          line: 73,\n          column: 19\n        },\n        end: {\n          line: 73,\n          column: 20\n        }\n      },\n      \"15\": {\n        start: {\n          line: 74,\n          column: 8\n        },\n        end: {\n          line: 85,\n          column: 10\n        }\n      },\n      \"16\": {\n        start: {\n          line: 88,\n          column: 4\n        },\n        end: {\n          line: 88,\n          column: 19\n        }\n      },\n      \"17\": {\n        start: {\n          line: 91,\n          column: 12\n        },\n        end: {\n          line: 95,\n          column: 3\n        }\n      },\n      \"18\": {\n        start: {\n          line: 92,\n          column: 4\n        },\n        end: {\n          line: 94,\n          column: 5\n        }\n      },\n      \"19\": {\n        start: {\n          line: 93,\n          column: 6\n        },\n        end: {\n          line: 93,\n          column: 31\n        }\n      },\n      \"20\": {\n        start: {\n          line: 97,\n          column: 16\n        },\n        end: {\n          line: 101,\n          column: 3\n        }\n      },\n      \"21\": {\n        start: {\n          line: 98,\n          column: 4\n        },\n        end: {\n          line: 100,\n          column: 5\n        }\n      },\n      \"22\": {\n        start: {\n          line: 99,\n          column: 6\n        },\n        end: {\n          line: 99,\n          column: 35\n        }\n      },\n      \"23\": {\n        start: {\n          line: 103,\n          column: 15\n        },\n        end: {\n          line: 107,\n          column: 3\n        }\n      },\n      \"24\": {\n        start: {\n          line: 104,\n          column: 4\n        },\n        end: {\n          line: 106,\n          column: 5\n        }\n      },\n      \"25\": {\n        start: {\n          line: 105,\n          column: 6\n        },\n        end: {\n          line: 105,\n          column: 34\n        }\n      },\n      \"26\": {\n        start: {\n          line: 110,\n          column: 19\n        },\n        end: {\n          line: 119,\n          column: 6\n        }\n      },\n      \"27\": {\n        start: {\n          line: 111,\n          column: 6\n        },\n        end: {\n          line: 118,\n          column: 9\n        }\n      },\n      \"28\": {\n        start: {\n          line: 121,\n          column: 4\n        },\n        end: {\n          line: 126,\n          column: 6\n        }\n      },\n      \"29\": {\n        start: {\n          line: 150,\n          column: 21\n        },\n        end: {\n          line: 160,\n          column: 3\n        }\n      },\n      \"30\": {\n        start: {\n          line: 162,\n          column: 24\n        },\n        end: {\n          line: 168,\n          column: 3\n        }\n      },\n      \"31\": {\n        start: {\n          line: 170,\n          column: 10\n        },\n        end: {\n          line: 170,\n          column: 27\n        }\n      },\n      \"32\": {\n        start: {\n          line: 172,\n          column: 12\n        },\n        end: {\n          line: 174,\n          column: 3\n        }\n      },\n      \"33\": {\n        start: {\n          line: 173,\n          column: 4\n        },\n        end: {\n          line: 173,\n          column: 44\n        }\n      },\n      \"34\": {\n        start: {\n          line: 176,\n          column: 16\n        },\n        end: {\n          line: 178,\n          column: 3\n        }\n      },\n      \"35\": {\n        start: {\n          line: 177,\n          column: 4\n        },\n        end: {\n          line: 177,\n          column: 48\n        }\n      },\n      \"36\": {\n        start: {\n          line: 180,\n          column: 15\n        },\n        end: {\n          line: 182,\n          column: 3\n        }\n      },\n      \"37\": {\n        start: {\n          line: 181,\n          column: 4\n        },\n        end: {\n          line: 181,\n          column: 47\n        }\n      },\n      \"38\": {\n        start: {\n          line: 185,\n          column: 4\n        },\n        end: {\n          line: 188,\n          column: 6\n        }\n      },\n      \"39\": {\n        start: {\n          line: 192,\n          column: 20\n        },\n        end: {\n          line: 192,\n          column: 38\n        }\n      },\n      \"40\": {\n        start: {\n          line: 193,\n          column: 4\n        },\n        end: {\n          line: 195,\n          column: 5\n        }\n      },\n      \"41\": {\n        start: {\n          line: 194,\n          column: 6\n        },\n        end: {\n          line: 194,\n          column: 65\n        }\n      },\n      \"42\": {\n        start: {\n          line: 199,\n          column: 20\n        },\n        end: {\n          line: 199,\n          column: 38\n        }\n      },\n      \"43\": {\n        start: {\n          line: 200,\n          column: 4\n        },\n        end: {\n          line: 202,\n          column: 5\n        }\n      },\n      \"44\": {\n        start: {\n          line: 201,\n          column: 6\n        },\n        end: {\n          line: 201,\n          column: 68\n        }\n      },\n      \"45\": {\n        start: {\n          line: 206,\n          column: 15\n        },\n        end: {\n          line: 206,\n          column: 45\n        }\n      },\n      \"46\": {\n        start: {\n          line: 207,\n          column: 15\n        },\n        end: {\n          line: 207,\n          column: 45\n        }\n      },\n      \"47\": {\n        start: {\n          line: 210,\n          column: 19\n        },\n        end: {\n          line: 210,\n          column: 113\n        }\n      },\n      \"48\": {\n        start: {\n          line: 212,\n          column: 4\n        },\n        end: {\n          line: 214,\n          column: 5\n        }\n      },\n      \"49\": {\n        start: {\n          line: 213,\n          column: 6\n        },\n        end: {\n          line: 213,\n          column: 37\n        }\n      },\n      \"50\": {\n        start: {\n          line: 216,\n          column: 4\n        },\n        end: {\n          line: 226,\n          column: 6\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 57,\n            column: 2\n          },\n          end: {\n            line: 57,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 57,\n            column: 22\n          },\n          end: {\n            line: 64,\n            column: 3\n          }\n        },\n        line: 57\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 66,\n            column: 2\n          },\n          end: {\n            line: 66,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 66,\n            column: 13\n          },\n          end: {\n            line: 89,\n            column: 3\n          }\n        },\n        line: 66\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 91,\n            column: 12\n          },\n          end: {\n            line: 91,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 91,\n            column: 22\n          },\n          end: {\n            line: 95,\n            column: 3\n          }\n        },\n        line: 91\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 97,\n            column: 16\n          },\n          end: {\n            line: 97,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 97,\n            column: 26\n          },\n          end: {\n            line: 101,\n            column: 3\n          }\n        },\n        line: 97\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 103,\n            column: 15\n          },\n          end: {\n            line: 103,\n            column: 16\n          }\n        },\n        loc: {\n          start: {\n            line: 103,\n            column: 25\n          },\n          end: {\n            line: 107,\n            column: 3\n          }\n        },\n        line: 103\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 109,\n            column: 2\n          },\n          end: {\n            line: 109,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 109,\n            column: 11\n          },\n          end: {\n            line: 127,\n            column: 3\n          }\n        },\n        line: 109\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 110,\n            column: 59\n          },\n          end: {\n            line: 110,\n            column: 60\n          }\n        },\n        loc: {\n          start: {\n            line: 110,\n            column: 70\n          },\n          end: {\n            line: 119,\n            column: 5\n          }\n        },\n        line: 110\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 172,\n            column: 12\n          },\n          end: {\n            line: 172,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 172,\n            column: 19\n          },\n          end: {\n            line: 174,\n            column: 3\n          }\n        },\n        line: 172\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 176,\n            column: 16\n          },\n          end: {\n            line: 176,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 176,\n            column: 23\n          },\n          end: {\n            line: 178,\n            column: 3\n          }\n        },\n        line: 176\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 180,\n            column: 15\n          },\n          end: {\n            line: 180,\n            column: 16\n          }\n        },\n        loc: {\n          start: {\n            line: 180,\n            column: 22\n          },\n          end: {\n            line: 182,\n            column: 3\n          }\n        },\n        line: 180\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 184,\n            column: 2\n          },\n          end: {\n            line: 184,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 184,\n            column: 14\n          },\n          end: {\n            line: 189,\n            column: 3\n          }\n        },\n        line: 184\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 191,\n            column: 2\n          },\n          end: {\n            line: 191,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 191,\n            column: 22\n          },\n          end: {\n            line: 196,\n            column: 3\n          }\n        },\n        line: 191\n      },\n      \"12\": {\n        name: \"(anonymous_12)\",\n        decl: {\n          start: {\n            line: 198,\n            column: 2\n          },\n          end: {\n            line: 198,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 198,\n            column: 25\n          },\n          end: {\n            line: 203,\n            column: 3\n          }\n        },\n        line: 198\n      },\n      \"13\": {\n        name: \"(anonymous_13)\",\n        decl: {\n          start: {\n            line: 205,\n            column: 2\n          },\n          end: {\n            line: 205,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 205,\n            column: 11\n          },\n          end: {\n            line: 227,\n            column: 3\n          }\n        },\n        line: 205\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        }],\n        line: 60\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 67,\n            column: 4\n          },\n          end: {\n            line: 69,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 67,\n            column: 4\n          },\n          end: {\n            line: 69,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 67,\n            column: 4\n          },\n          end: {\n            line: 69,\n            column: 5\n          }\n        }],\n        line: 67\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 92,\n            column: 4\n          },\n          end: {\n            line: 94,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 92,\n            column: 4\n          },\n          end: {\n            line: 94,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 92,\n            column: 4\n          },\n          end: {\n            line: 94,\n            column: 5\n          }\n        }],\n        line: 92\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 98,\n            column: 4\n          },\n          end: {\n            line: 100,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 98,\n            column: 4\n          },\n          end: {\n            line: 100,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 98,\n            column: 4\n          },\n          end: {\n            line: 100,\n            column: 5\n          }\n        }],\n        line: 98\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 104,\n            column: 4\n          },\n          end: {\n            line: 106,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 104,\n            column: 4\n          },\n          end: {\n            line: 106,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 104,\n            column: 4\n          },\n          end: {\n            line: 106,\n            column: 5\n          }\n        }],\n        line: 104\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 212,\n            column: 4\n          },\n          end: {\n            line: 214,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 212,\n            column: 4\n          },\n          end: {\n            line: 214,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 212,\n            column: 4\n          },\n          end: {\n            line: 214,\n            column: 5\n          }\n        }],\n        line: 212\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"3918b7b6aef2b5d873a9b3ced78aa755c8be9a44\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_2noc4a7ksf = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_2noc4a7ksf();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n/**\n * Grid\n *\n * Component that will show children on a cartesian regular grid.\n *\n * Props:\n *   rows       - Number of rows (height) of the grid.\n *   cols       - Number of columns (width) of the grid.\n *   style      - CSS style of the Grid HTML element.\n *   colorMap   - A map from 'x,y' => color.\n *   onClick    - (x, y) => {}\n *                Called when a square is clicked.\n *   onMouseOver    - (x, y) => {}\n *                Called when a square is mouse over.\n *   onMouseOut    - (x, y) => {}\n *                Called when a square is mouse out.\n *\n * Usage:\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2}/>\n * </Grid>\n */\n\nexport class Grid extends (React.Component) {\n  constructor(..._args) {\n    super(..._args);\n\n    _defineProperty(this, \"_svgRef\", (cov_2noc4a7ksf().s[2]++, React.createRef()));\n\n    _defineProperty(this, \"onClick\", (cov_2noc4a7ksf().s[17]++, args => {\n      cov_2noc4a7ksf().f[2]++;\n      cov_2noc4a7ksf().s[18]++;\n\n      if (this.props.onClick) {\n        cov_2noc4a7ksf().b[2][0]++;\n        cov_2noc4a7ksf().s[19]++;\n        this.props.onClick(args);\n      } else {\n        cov_2noc4a7ksf().b[2][1]++;\n      }\n    }));\n\n    _defineProperty(this, \"onMouseOver\", (cov_2noc4a7ksf().s[20]++, args => {\n      cov_2noc4a7ksf().f[3]++;\n      cov_2noc4a7ksf().s[21]++;\n\n      if (this.props.onMouseOver) {\n        cov_2noc4a7ksf().b[3][0]++;\n        cov_2noc4a7ksf().s[22]++;\n        this.props.onMouseOver(args);\n      } else {\n        cov_2noc4a7ksf().b[3][1]++;\n      }\n    }));\n\n    _defineProperty(this, \"onMouseOut\", (cov_2noc4a7ksf().s[23]++, args => {\n      cov_2noc4a7ksf().f[4]++;\n      cov_2noc4a7ksf().s[24]++;\n\n      if (this.props.onMouseOut) {\n        cov_2noc4a7ksf().b[4][0]++;\n        cov_2noc4a7ksf().s[25]++;\n        this.props.onMouseOut(args);\n      } else {\n        cov_2noc4a7ksf().b[4][1]++;\n      }\n    }));\n  }\n\n  _getCellColor(x, y) {\n    cov_2noc4a7ksf().f[0]++;\n    const key = (cov_2noc4a7ksf().s[3]++, `${x},${y}`);\n    let color = (cov_2noc4a7ksf().s[4]++, 'white');\n    cov_2noc4a7ksf().s[5]++;\n\n    if (key in this.props.colorMap) {\n      cov_2noc4a7ksf().b[0][0]++;\n      cov_2noc4a7ksf().s[6]++;\n      color = this.props.colorMap[key];\n    } else {\n      cov_2noc4a7ksf().b[0][1]++;\n    }\n\n    cov_2noc4a7ksf().s[7]++;\n    return color;\n  }\n\n  _getGrid() {\n    cov_2noc4a7ksf().f[1]++;\n    cov_2noc4a7ksf().s[8]++;\n\n    if (!this.props.outline) {\n      cov_2noc4a7ksf().b[1][0]++;\n      cov_2noc4a7ksf().s[9]++;\n      return null;\n    } else {\n      cov_2noc4a7ksf().b[1][1]++;\n    }\n\n    let squares = (cov_2noc4a7ksf().s[10]++, []);\n    cov_2noc4a7ksf().s[11]++;\n\n    for (let x = (cov_2noc4a7ksf().s[12]++, 0); x < this.props.cols; x++) {\n      cov_2noc4a7ksf().s[13]++;\n\n      for (let y = (cov_2noc4a7ksf().s[14]++, 0); y < this.props.rows; y++) {\n        cov_2noc4a7ksf().s[15]++;\n        squares.push(__jsx(Square, {\n          key: this.props.cols * y + x,\n          style: {\n            fill: this._getCellColor(x, y)\n          },\n          x: x,\n          y: y,\n          size: this.props.cellSize,\n          onClick: this.onClick,\n          onMouseOver: this.onMouseOver,\n          onMouseOut: this.onMouseOut\n        }));\n      }\n    }\n\n    cov_2noc4a7ksf().s[16]++;\n    return squares;\n  }\n\n  render() {\n    cov_2noc4a7ksf().f[5]++;\n    const tokens = (cov_2noc4a7ksf().s[26]++, React.Children.map(this.props.children, child => {\n      cov_2noc4a7ksf().f[6]++;\n      cov_2noc4a7ksf().s[27]++;\n      return React.cloneElement(child, {\n        template: Square,\n        // Overwrites Token's onClick, onMouseOver, onMouseOut\n        onClick: this.onClick,\n        onMouseOver: this.onMouseOver,\n        onMouseOut: this.onMouseOut,\n        svgRef: this._svgRef\n      });\n    }));\n    cov_2noc4a7ksf().s[28]++;\n    return __jsx(\"svg\", {\n      ref: this._svgRef,\n      viewBox: '0 0 ' + this.props.cols + ' ' + this.props.rows,\n      style: this.props.style\n    }, __jsx(\"g\", null, this._getGrid()), tokens);\n  }\n\n}\n/**\n * Square\n *\n * Component that renders a square inside a Grid.\n *\n * Props:\n *   x       - X coordinate on grid coordinates.\n *   y       - Y coordinate on grid coordinates.\n *   size    - Square size.\n *   style   - Custom styling.\n *   onClick - Invoked when a Square is clicked.\n *   onMouseOver - Invoked when a Square is mouse over.\n *   onMouseOut - Invoked when a Square is mouse out.\n *   eventListeners - Array of objects with name and callback\n *   for DOM events.\n *\n * Not meant to be used by the end user directly (use Token).\n * Also not exposed in the NPM.\n */\n\n_defineProperty(Grid, \"propTypes\", (cov_2noc4a7ksf().s[0]++, {\n  rows: PropTypes.number.isRequired,\n  cols: PropTypes.number.isRequired,\n  outline: PropTypes.bool,\n  style: PropTypes.object,\n  colorMap: PropTypes.object,\n  cellSize: PropTypes.number,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.element), PropTypes.element])\n}));\n\n_defineProperty(Grid, \"defaultProps\", (cov_2noc4a7ksf().s[1]++, {\n  colorMap: {},\n  outline: true,\n  cellSize: 1\n}));\n\nexport class Square extends (React.Component) {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"_gRef\", (cov_2noc4a7ksf().s[31]++, React.createRef()));\n\n    _defineProperty(this, \"onClick\", (cov_2noc4a7ksf().s[32]++, e => {\n      cov_2noc4a7ksf().f[7]++;\n      cov_2noc4a7ksf().s[33]++;\n      this.props.onClick(this.getCoords(), e);\n    }));\n\n    _defineProperty(this, \"onMouseOver\", (cov_2noc4a7ksf().s[34]++, e => {\n      cov_2noc4a7ksf().f[8]++;\n      cov_2noc4a7ksf().s[35]++;\n      this.props.onMouseOver(this.getCoords(), e);\n    }));\n\n    _defineProperty(this, \"onMouseOut\", (cov_2noc4a7ksf().s[36]++, e => {\n      cov_2noc4a7ksf().f[9]++;\n      cov_2noc4a7ksf().s[37]++;\n      this.props.onMouseOut(this.getCoords(), e);\n    }));\n  }\n\n  getCoords() {\n    cov_2noc4a7ksf().f[10]++;\n    cov_2noc4a7ksf().s[38]++;\n    return {\n      x: this.props.x,\n      y: this.props.y\n    };\n  }\n\n  componentDidMount() {\n    cov_2noc4a7ksf().f[11]++;\n    const element = (cov_2noc4a7ksf().s[39]++, this._gRef.current);\n    cov_2noc4a7ksf().s[40]++;\n\n    for (let listener of this.props.eventListeners) {\n      cov_2noc4a7ksf().s[41]++;\n      element.addEventListener(listener.name, listener.callback);\n    }\n  }\n\n  componentWillUnmount() {\n    cov_2noc4a7ksf().f[12]++;\n    const element = (cov_2noc4a7ksf().s[42]++, this._gRef.current);\n    cov_2noc4a7ksf().s[43]++;\n\n    for (let listener of this.props.eventListeners) {\n      cov_2noc4a7ksf().s[44]++;\n      element.removeEventListener(listener.name, listener.callback);\n    }\n  }\n\n  render() {\n    cov_2noc4a7ksf().f[13]++;\n    const tx = (cov_2noc4a7ksf().s[45]++, this.props.x * this.props.size);\n    const ty = (cov_2noc4a7ksf().s[46]++, this.props.y * this.props.size); // If no child, render a square.\n\n    let children = (cov_2noc4a7ksf().s[47]++, __jsx(\"rect\", {\n      style: this.props.style,\n      width: this.props.size,\n      height: this.props.size,\n      x: 0,\n      y: 0\n    })); // If a child is passed, render child.\n\n    cov_2noc4a7ksf().s[48]++;\n\n    if (this.props.children) {\n      cov_2noc4a7ksf().b[5][0]++;\n      cov_2noc4a7ksf().s[49]++;\n      children = this.props.children;\n    } else {\n      cov_2noc4a7ksf().b[5][1]++;\n    }\n\n    cov_2noc4a7ksf().s[50]++;\n    return __jsx(\"g\", {\n      ref: this._gRef,\n      onClick: this.onClick,\n      onMouseOver: this.onMouseOver,\n      onMouseOut: this.onMouseOut,\n      transform: `translate(${tx}, ${ty})`\n    }, children);\n  }\n\n}\n\n_defineProperty(Square, \"propTypes\", (cov_2noc4a7ksf().s[29]++, {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number,\n  style: PropTypes.any,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  eventListeners: PropTypes.array,\n  children: PropTypes.element\n}));\n\n_defineProperty(Square, \"defaultProps\", (cov_2noc4a7ksf().s[30]++, {\n  size: 1,\n  x: 0,\n  y: 0,\n  style: {\n    fill: '#fff'\n  },\n  eventListeners: []\n}));","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/ui/2d/grid.js"],"names":["React","PropTypes","Grid","Component","createRef","args","props","onClick","onMouseOver","onMouseOut","_getCellColor","x","y","key","color","colorMap","_getGrid","outline","squares","cols","rows","push","fill","cellSize","render","tokens","Children","map","children","child","cloneElement","template","Square","svgRef","_svgRef","style","number","isRequired","bool","object","func","oneOfType","arrayOf","element","e","getCoords","componentDidMount","_gRef","current","listener","eventListeners","addEventListener","name","callback","componentWillUnmount","removeEventListener","tx","size","ty","any","array"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;AAQA,OAAOA,KAAP,MAAkB,OAAlB;AAC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","sourcesContent":["/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Grid\n *\n * Component that will show children on a cartesian regular grid.\n *\n * Props:\n *   rows       - Number of rows (height) of the grid.\n *   cols       - Number of columns (width) of the grid.\n *   style      - CSS style of the Grid HTML element.\n *   colorMap   - A map from 'x,y' => color.\n *   onClick    - (x, y) => {}\n *                Called when a square is clicked.\n *   onMouseOver    - (x, y) => {}\n *                Called when a square is mouse over.\n *   onMouseOut    - (x, y) => {}\n *                Called when a square is mouse out.\n *\n * Usage:\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2}/>\n * </Grid>\n */\nexport class Grid extends React.Component {\n  static propTypes = {\n    rows: PropTypes.number.isRequired,\n    cols: PropTypes.number.isRequired,\n    outline: PropTypes.bool,\n    style: PropTypes.object,\n    colorMap: PropTypes.object,\n    cellSize: PropTypes.number,\n    onClick: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.element), PropTypes.element]),\n  };\n\n  static defaultProps = {\n    colorMap: {},\n    outline: true,\n    cellSize: 1,\n  };\n\n  _svgRef = React.createRef();\n\n  _getCellColor(x, y) {\n    const key = `${x},${y}`;\n    let color = 'white';\n    if (key in this.props.colorMap) {\n      color = this.props.colorMap[key];\n    }\n    return color;\n  }\n\n  _getGrid() {\n    if (!this.props.outline) {\n      return null;\n    }\n\n    let squares = [];\n    for (let x = 0; x < this.props.cols; x++) {\n      for (let y = 0; y < this.props.rows; y++) {\n        squares.push(\n          <Square\n            key={this.props.cols * y + x}\n            style={{ fill: this._getCellColor(x, y) }}\n            x={x}\n            y={y}\n            size={this.props.cellSize}\n            onClick={this.onClick}\n            onMouseOver={this.onMouseOver}\n            onMouseOut={this.onMouseOut}\n          />,\n        );\n      }\n    }\n    return squares;\n  }\n\n  onClick = (args) => {\n    if (this.props.onClick) {\n      this.props.onClick(args);\n    }\n  };\n\n  onMouseOver = (args) => {\n    if (this.props.onMouseOver) {\n      this.props.onMouseOver(args);\n    }\n  };\n\n  onMouseOut = (args) => {\n    if (this.props.onMouseOut) {\n      this.props.onMouseOut(args);\n    }\n  };\n\n  render() {\n    const tokens = React.Children.map(this.props.children, (child) => {\n      return React.cloneElement(child, {\n        template: Square,\n        // Overwrites Token's onClick, onMouseOver, onMouseOut\n        onClick: this.onClick,\n        onMouseOver: this.onMouseOver,\n        onMouseOut: this.onMouseOut,\n        svgRef: this._svgRef,\n      });\n    });\n\n    return (\n      <svg ref={this._svgRef} viewBox={'0 0 ' + this.props.cols + ' ' + this.props.rows} style={this.props.style}>\n        <g>{this._getGrid()}</g>\n        {tokens}\n      </svg>\n    );\n  }\n}\n\n/**\n * Square\n *\n * Component that renders a square inside a Grid.\n *\n * Props:\n *   x       - X coordinate on grid coordinates.\n *   y       - Y coordinate on grid coordinates.\n *   size    - Square size.\n *   style   - Custom styling.\n *   onClick - Invoked when a Square is clicked.\n *   onMouseOver - Invoked when a Square is mouse over.\n *   onMouseOut - Invoked when a Square is mouse out.\n *   eventListeners - Array of objects with name and callback\n *   for DOM events.\n *\n * Not meant to be used by the end user directly (use Token).\n * Also not exposed in the NPM.\n */\nexport class Square extends React.Component {\n  static propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number,\n    style: PropTypes.any,\n    onClick: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    eventListeners: PropTypes.array,\n    children: PropTypes.element,\n  };\n\n  static defaultProps = {\n    size: 1,\n    x: 0,\n    y: 0,\n    style: { fill: '#fff' },\n    eventListeners: [],\n  };\n\n  _gRef = React.createRef();\n\n  onClick = (e) => {\n    this.props.onClick(this.getCoords(), e);\n  };\n\n  onMouseOver = (e) => {\n    this.props.onMouseOver(this.getCoords(), e);\n  };\n\n  onMouseOut = (e) => {\n    this.props.onMouseOut(this.getCoords(), e);\n  };\n\n  getCoords() {\n    return {\n      x: this.props.x,\n      y: this.props.y,\n    };\n  }\n\n  componentDidMount() {\n    const element = this._gRef.current;\n    for (let listener of this.props.eventListeners) {\n      element.addEventListener(listener.name, listener.callback);\n    }\n  }\n\n  componentWillUnmount() {\n    const element = this._gRef.current;\n    for (let listener of this.props.eventListeners) {\n      element.removeEventListener(listener.name, listener.callback);\n    }\n  }\n\n  render() {\n    const tx = this.props.x * this.props.size;\n    const ty = this.props.y * this.props.size;\n\n    // If no child, render a square.\n    let children = <rect style={this.props.style} width={this.props.size} height={this.props.size} x={0} y={0} />;\n    // If a child is passed, render child.\n    if (this.props.children) {\n      children = this.props.children;\n    }\n\n    return (\n      <g\n        ref={this._gRef}\n        onClick={this.onClick}\n        onMouseOver={this.onMouseOver}\n        onMouseOut={this.onMouseOut}\n        transform={`translate(${tx}, ${ty})`}\n      >\n        {children}\n      </g>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}