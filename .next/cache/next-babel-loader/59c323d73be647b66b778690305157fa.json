{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction cov_vqfe50xga() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/games/chess/board.tsx\";\n  var hash = \"c61b76f9724aaeeadb35858c93cb5a14319b35b4\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/games/chess/board.tsx\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 34,\n          column: 18\n        },\n        end: {\n          line: 34,\n          column: 28\n        }\n      },\n      \"1\": {\n        start: {\n          line: 35,\n          column: 26\n        },\n        end: {\n          line: 35,\n          column: 33\n        }\n      },\n      \"2\": {\n        start: {\n          line: 36,\n          column: 22\n        },\n        end: {\n          line: 36,\n          column: 33\n        }\n      },\n      \"3\": {\n        start: {\n          line: 37,\n          column: 20\n        },\n        end: {\n          line: 37,\n          column: 29\n        }\n      },\n      \"4\": {\n        start: {\n          line: 51,\n          column: 10\n        },\n        end: {\n          line: 51,\n          column: 17\n        }\n      },\n      \"5\": {\n        start: {\n          line: 52,\n          column: 10\n        },\n        end: {\n          line: 57,\n          column: 3\n        }\n      },\n      \"6\": {\n        start: {\n          line: 60,\n          column: 4\n        },\n        end: {\n          line: 62,\n          column: 5\n        }\n      },\n      \"7\": {\n        start: {\n          line: 61,\n          column: 6\n        },\n        end: {\n          line: 61,\n          column: 44\n        }\n      },\n      \"8\": {\n        start: {\n          line: 63,\n          column: 4\n        },\n        end: {\n          line: 74,\n          column: 5\n        }\n      },\n      \"9\": {\n        start: {\n          line: 65,\n          column: 8\n        },\n        end: {\n          line: 69,\n          column: 14\n        }\n      },\n      \"10\": {\n        start: {\n          line: 66,\n          column: 84\n        },\n        end: {\n          line: 66,\n          column: 93\n        }\n      },\n      \"11\": {\n        start: {\n          line: 71,\n          column: 6\n        },\n        end: {\n          line: 73,\n          column: 8\n        }\n      },\n      \"12\": {\n        start: {\n          line: 75,\n          column: 4\n        },\n        end: {\n          line: 88,\n          column: 6\n        }\n      },\n      \"13\": {\n        start: {\n          line: 92,\n          column: 4\n        },\n        end: {\n          line: 96,\n          column: 5\n        }\n      },\n      \"14\": {\n        start: {\n          line: 93,\n          column: 6\n        },\n        end: {\n          line: 93,\n          column: 17\n        }\n      },\n      \"15\": {\n        start: {\n          line: 95,\n          column: 6\n        },\n        end: {\n          line: 95,\n          column: 17\n        }\n      },\n      \"16\": {\n        start: {\n          line: 99,\n          column: 11\n        },\n        end: {\n          line: 110,\n          column: 3\n        }\n      },\n      \"17\": {\n        start: {\n          line: 100,\n          column: 23\n        },\n        end: {\n          line: 100,\n          column: 29\n        }\n      },\n      \"18\": {\n        start: {\n          line: 101,\n          column: 4\n        },\n        end: {\n          line: 103,\n          column: 5\n        }\n      },\n      \"19\": {\n        start: {\n          line: 102,\n          column: 6\n        },\n        end: {\n          line: 102,\n          column: 13\n        }\n      },\n      \"20\": {\n        start: {\n          line: 105,\n          column: 4\n        },\n        end: {\n          line: 109,\n          column: 5\n        }\n      },\n      \"21\": {\n        start: {\n          line: 106,\n          column: 6\n        },\n        end: {\n          line: 106,\n          column: 78\n        }\n      },\n      \"22\": {\n        start: {\n          line: 107,\n          column: 11\n        },\n        end: {\n          line: 109,\n          column: 5\n        }\n      },\n      \"23\": {\n        start: {\n          line: 108,\n          column: 6\n        },\n        end: {\n          line: 108,\n          column: 49\n        }\n      },\n      \"24\": {\n        start: {\n          line: 113,\n          column: 18\n        },\n        end: {\n          line: 113,\n          column: 34\n        }\n      },\n      \"25\": {\n        start: {\n          line: 115,\n          column: 17\n        },\n        end: {\n          line: 115,\n          column: 66\n        }\n      },\n      \"26\": {\n        start: {\n          line: 115,\n          column: 35\n        },\n        end: {\n          line: 115,\n          column: 65\n        }\n      },\n      \"27\": {\n        start: {\n          line: 116,\n          column: 4\n        },\n        end: {\n          line: 122,\n          column: 5\n        }\n      },\n      \"28\": {\n        start: {\n          line: 118,\n          column: 6\n        },\n        end: {\n          line: 118,\n          column: 38\n        }\n      },\n      \"29\": {\n        start: {\n          line: 119,\n          column: 6\n        },\n        end: {\n          line: 121,\n          column: 7\n        }\n      },\n      \"30\": {\n        start: {\n          line: 120,\n          column: 8\n        },\n        end: {\n          line: 120,\n          column: 20\n        }\n      },\n      \"31\": {\n        start: {\n          line: 124,\n          column: 4\n        },\n        end: {\n          line: 124,\n          column: 68\n        }\n      },\n      \"32\": {\n        start: {\n          line: 127,\n          column: 16\n        },\n        end: {\n          line: 139,\n          column: 3\n        }\n      },\n      \"33\": {\n        start: {\n          line: 128,\n          column: 14\n        },\n        end: {\n          line: 128,\n          column: 22\n        }\n      },\n      \"34\": {\n        start: {\n          line: 129,\n          column: 14\n        },\n        end: {\n          line: 129,\n          column: 22\n        }\n      },\n      \"35\": {\n        start: {\n          line: 130,\n          column: 19\n        },\n        end: {\n          line: 130,\n          column: 45\n        }\n      },\n      \"36\": {\n        start: {\n          line: 131,\n          column: 19\n        },\n        end: {\n          line: 131,\n          column: 68\n        }\n      },\n      \"37\": {\n        start: {\n          line: 132,\n          column: 4\n        },\n        end: {\n          line: 138,\n          column: 5\n        }\n      },\n      \"38\": {\n        start: {\n          line: 133,\n          column: 6\n        },\n        end: {\n          line: 136,\n          column: 9\n        }\n      },\n      \"39\": {\n        start: {\n          line: 137,\n          column: 6\n        },\n        end: {\n          line: 137,\n          column: 18\n        }\n      },\n      \"40\": {\n        start: {\n          line: 141,\n          column: 12\n        },\n        end: {\n          line: 159,\n          column: 3\n        }\n      },\n      \"41\": {\n        start: {\n          line: 142,\n          column: 14\n        },\n        end: {\n          line: 142,\n          column: 20\n        }\n      },\n      \"42\": {\n        start: {\n          line: 143,\n          column: 14\n        },\n        end: {\n          line: 143,\n          column: 20\n        }\n      },\n      \"43\": {\n        start: {\n          line: 144,\n          column: 22\n        },\n        end: {\n          line: 144,\n          column: 36\n        }\n      },\n      \"44\": {\n        start: {\n          line: 145,\n          column: 22\n        },\n        end: {\n          line: 145,\n          column: 36\n        }\n      },\n      \"45\": {\n        start: {\n          line: 146,\n          column: 4\n        },\n        end: {\n          line: 158,\n          column: 5\n        }\n      },\n      \"46\": {\n        start: {\n          line: 147,\n          column: 6\n        },\n        end: {\n          line: 151,\n          column: 9\n        }\n      },\n      \"47\": {\n        start: {\n          line: 153,\n          column: 6\n        },\n        end: {\n          line: 157,\n          column: 9\n        }\n      },\n      \"48\": {\n        start: {\n          line: 161,\n          column: 12\n        },\n        end: {\n          line: 168,\n          column: 3\n        }\n      },\n      \"49\": {\n        start: {\n          line: 162,\n          column: 14\n        },\n        end: {\n          line: 162,\n          column: 22\n        }\n      },\n      \"50\": {\n        start: {\n          line: 163,\n          column: 14\n        },\n        end: {\n          line: 163,\n          column: 22\n        }\n      },\n      \"51\": {\n        start: {\n          line: 164,\n          column: 4\n        },\n        end: {\n          line: 167,\n          column: 5\n        }\n      },\n      \"52\": {\n        start: {\n          line: 165,\n          column: 6\n        },\n        end: {\n          line: 165,\n          column: 52\n        }\n      },\n      \"53\": {\n        start: {\n          line: 166,\n          column: 6\n        },\n        end: {\n          line: 166,\n          column: 64\n        }\n      },\n      \"54\": {\n        start: {\n          line: 171,\n          column: 19\n        },\n        end: {\n          line: 171,\n          column: 34\n        }\n      },\n      \"55\": {\n        start: {\n          line: 172,\n          column: 20\n        },\n        end: {\n          line: 172,\n          column: 75\n        }\n      },\n      \"56\": {\n        start: {\n          line: 173,\n          column: 4\n        },\n        end: {\n          line: 179,\n          column: 5\n        }\n      },\n      \"57\": {\n        start: {\n          line: 174,\n          column: 23\n        },\n        end: {\n          line: 174,\n          column: 50\n        }\n      },\n      \"58\": {\n        start: {\n          line: 175,\n          column: 6\n        },\n        end: {\n          line: 178,\n          column: 7\n        }\n      },\n      \"59\": {\n        start: {\n          line: 176,\n          column: 8\n        },\n        end: {\n          line: 176,\n          column: 44\n        }\n      },\n      \"60\": {\n        start: {\n          line: 177,\n          column: 8\n        },\n        end: {\n          line: 177,\n          column: 42\n        }\n      },\n      \"61\": {\n        start: {\n          line: 180,\n          column: 4\n        },\n        end: {\n          line: 182,\n          column: 5\n        }\n      },\n      \"62\": {\n        start: {\n          line: 181,\n          column: 6\n        },\n        end: {\n          line: 181,\n          column: 38\n        }\n      },\n      \"63\": {\n        start: {\n          line: 183,\n          column: 4\n        },\n        end: {\n          line: 185,\n          column: 5\n        }\n      },\n      \"64\": {\n        start: {\n          line: 184,\n          column: 6\n        },\n        end: {\n          line: 184,\n          column: 57\n        }\n      },\n      \"65\": {\n        start: {\n          line: 186,\n          column: 4\n        },\n        end: {\n          line: 186,\n          column: 18\n        }\n      },\n      \"66\": {\n        start: {\n          line: 190,\n          column: 4\n        },\n        end: {\n          line: 190,\n          column: 74\n        }\n      },\n      \"67\": {\n        start: {\n          line: 194,\n          column: 4\n        },\n        end: {\n          line: 194,\n          column: 51\n        }\n      },\n      \"68\": {\n        start: {\n          line: 198,\n          column: 20\n        },\n        end: {\n          line: 198,\n          column: 22\n        }\n      },\n      \"69\": {\n        start: {\n          line: 199,\n          column: 19\n        },\n        end: {\n          line: 199,\n          column: 21\n        }\n      },\n      \"70\": {\n        start: {\n          line: 200,\n          column: 4\n        },\n        end: {\n          line: 225,\n          column: 5\n        }\n      },\n      \"71\": {\n        start: {\n          line: 200,\n          column: 17\n        },\n        end: {\n          line: 200,\n          column: 18\n        }\n      },\n      \"72\": {\n        start: {\n          line: 201,\n          column: 6\n        },\n        end: {\n          line: 224,\n          column: 7\n        }\n      },\n      \"73\": {\n        start: {\n          line: 201,\n          column: 19\n        },\n        end: {\n          line: 201,\n          column: 20\n        }\n      },\n      \"74\": {\n        start: {\n          line: 202,\n          column: 23\n        },\n        end: {\n          line: 202,\n          column: 39\n        }\n      },\n      \"75\": {\n        start: {\n          line: 203,\n          column: 22\n        },\n        end: {\n          line: 203,\n          column: 44\n        }\n      },\n      \"76\": {\n        start: {\n          line: 204,\n          column: 8\n        },\n        end: {\n          line: 223,\n          column: 9\n        }\n      },\n      \"77\": {\n        start: {\n          line: 206,\n          column: 12\n        },\n        end: {\n          line: 216,\n          column: 20\n        }\n      },\n      \"78\": {\n        start: {\n          line: 218,\n          column: 10\n        },\n        end: {\n          line: 222,\n          column: 11\n        }\n      },\n      \"79\": {\n        start: {\n          line: 219,\n          column: 12\n        },\n        end: {\n          line: 219,\n          column: 31\n        }\n      },\n      \"80\": {\n        start: {\n          line: 221,\n          column: 12\n        },\n        end: {\n          line: 221,\n          column: 32\n        }\n      },\n      \"81\": {\n        start: {\n          line: 226,\n          column: 4\n        },\n        end: {\n          line: 226,\n          column: 34\n        }\n      },\n      \"82\": {\n        start: {\n          line: 229,\n          column: 18\n        },\n        end: {\n          line: 233,\n          column: 3\n        }\n      },\n      \"83\": {\n        start: {\n          line: 230,\n          column: 4\n        },\n        end: {\n          line: 232,\n          column: 7\n        }\n      },\n      \"84\": {\n        start: {\n          line: 231,\n          column: 6\n        },\n        end: {\n          line: 231,\n          column: 43\n        }\n      },\n      \"85\": {\n        start: {\n          line: 235,\n          column: 21\n        },\n        end: {\n          line: 237,\n          column: 3\n        }\n      },\n      \"86\": {\n        start: {\n          line: 236,\n          column: 4\n        },\n        end: {\n          line: 236,\n          column: 46\n        }\n      },\n      \"87\": {\n        start: {\n          line: 239,\n          column: 18\n        },\n        end: {\n          line: 241,\n          column: 3\n        }\n      },\n      \"88\": {\n        start: {\n          line: 240,\n          column: 4\n        },\n        end: {\n          line: 240,\n          column: 35\n        }\n      },\n      \"89\": {\n        start: {\n          line: 243,\n          column: 25\n        },\n        end: {\n          line: 252,\n          column: 3\n        }\n      },\n      \"90\": {\n        start: {\n          line: 244,\n          column: 25\n        },\n        end: {\n          line: 244,\n          column: 45\n        }\n      },\n      \"91\": {\n        start: {\n          line: 245,\n          column: 25\n        },\n        end: {\n          line: 245,\n          column: 38\n        }\n      },\n      \"92\": {\n        start: {\n          line: 246,\n          column: 34\n        },\n        end: {\n          line: 249,\n          column: 5\n        }\n      },\n      \"93\": {\n        start: {\n          line: 250,\n          column: 20\n        },\n        end: {\n          line: 250,\n          column: 28\n        }\n      },\n      \"94\": {\n        start: {\n          line: 251,\n          column: 4\n        },\n        end: {\n          line: 251,\n          column: 19\n        }\n      },\n      \"95\": {\n        start: {\n          line: 255,\n          column: 4\n        },\n        end: {\n          line: 268,\n          column: 5\n        }\n      },\n      \"96\": {\n        start: {\n          line: 257,\n          column: 8\n        },\n        end: {\n          line: 257,\n          column: 40\n        }\n      },\n      \"97\": {\n        start: {\n          line: 259,\n          column: 8\n        },\n        end: {\n          line: 259,\n          column: 38\n        }\n      },\n      \"98\": {\n        start: {\n          line: 261,\n          column: 8\n        },\n        end: {\n          line: 261,\n          column: 40\n        }\n      },\n      \"99\": {\n        start: {\n          line: 263,\n          column: 8\n        },\n        end: {\n          line: 263,\n          column: 38\n        }\n      },\n      \"100\": {\n        start: {\n          line: 265,\n          column: 8\n        },\n        end: {\n          line: 265,\n          column: 39\n        }\n      },\n      \"101\": {\n        start: {\n          line: 267,\n          column: 8\n        },\n        end: {\n          line: 267,\n          column: 38\n        }\n      },\n      \"102\": {\n        start: {\n          line: 272,\n          column: 21\n        },\n        end: {\n          line: 272,\n          column: 40\n        }\n      },\n      \"103\": {\n        start: {\n          line: 273,\n          column: 17\n        },\n        end: {\n          line: 273,\n          column: 30\n        }\n      },\n      \"104\": {\n        start: {\n          line: 274,\n          column: 4\n        },\n        end: {\n          line: 292,\n          column: 5\n        }\n      },\n      \"105\": {\n        start: {\n          line: 275,\n          column: 6\n        },\n        end: {\n          line: 281,\n          column: 7\n        }\n      },\n      \"106\": {\n        start: {\n          line: 276,\n          column: 8\n        },\n        end: {\n          line: 276,\n          column: 25\n        }\n      },\n      \"107\": {\n        start: {\n          line: 277,\n          column: 13\n        },\n        end: {\n          line: 281,\n          column: 7\n        }\n      },\n      \"108\": {\n        start: {\n          line: 278,\n          column: 8\n        },\n        end: {\n          line: 278,\n          column: 22\n        }\n      },\n      \"109\": {\n        start: {\n          line: 280,\n          column: 8\n        },\n        end: {\n          line: 280,\n          column: 26\n        }\n      },\n      \"110\": {\n        start: {\n          line: 284,\n          column: 6\n        },\n        end: {\n          line: 291,\n          column: 7\n        }\n      },\n      \"111\": {\n        start: {\n          line: 286,\n          column: 10\n        },\n        end: {\n          line: 286,\n          column: 29\n        }\n      },\n      \"112\": {\n        start: {\n          line: 288,\n          column: 10\n        },\n        end: {\n          line: 288,\n          column: 29\n        }\n      },\n      \"113\": {\n        start: {\n          line: 290,\n          column: 10\n        },\n        end: {\n          line: 290,\n          column: 24\n        }\n      },\n      \"114\": {\n        start: {\n          line: 297,\n          column: 17\n        },\n        end: {\n          line: 297,\n          column: 41\n        }\n      },\n      \"115\": {\n        start: {\n          line: 298,\n          column: 4\n        },\n        end: {\n          line: 318,\n          column: 5\n        }\n      },\n      \"116\": {\n        start: {\n          line: 299,\n          column: 6\n        },\n        end: {\n          line: 301,\n          column: 7\n        }\n      },\n      \"117\": {\n        start: {\n          line: 300,\n          column: 8\n        },\n        end: {\n          line: 300,\n          column: 23\n        }\n      },\n      \"118\": {\n        start: {\n          line: 302,\n          column: 6\n        },\n        end: {\n          line: 306,\n          column: 7\n        }\n      },\n      \"119\": {\n        start: {\n          line: 303,\n          column: 8\n        },\n        end: {\n          line: 303,\n          column: 27\n        }\n      },\n      \"120\": {\n        start: {\n          line: 305,\n          column: 8\n        },\n        end: {\n          line: 305,\n          column: 41\n        }\n      },\n      \"121\": {\n        start: {\n          line: 309,\n          column: 6\n        },\n        end: {\n          line: 311,\n          column: 7\n        }\n      },\n      \"122\": {\n        start: {\n          line: 310,\n          column: 8\n        },\n        end: {\n          line: 310,\n          column: 23\n        }\n      },\n      \"123\": {\n        start: {\n          line: 312,\n          column: 6\n        },\n        end: {\n          line: 317,\n          column: 7\n        }\n      },\n      \"124\": {\n        start: {\n          line: 314,\n          column: 10\n        },\n        end: {\n          line: 314,\n          column: 32\n        }\n      },\n      \"125\": {\n        start: {\n          line: 316,\n          column: 10\n        },\n        end: {\n          line: 316,\n          column: 32\n        }\n      },\n      \"126\": {\n        start: {\n          line: 322,\n          column: 20\n        },\n        end: {\n          line: 322,\n          column: 75\n        }\n      },\n      \"127\": {\n        start: {\n          line: 323,\n          column: 19\n        },\n        end: {\n          line: 323,\n          column: 25\n        }\n      },\n      \"128\": {\n        start: {\n          line: 324,\n          column: 4\n        },\n        end: {\n          line: 329,\n          column: 5\n        }\n      },\n      \"129\": {\n        start: {\n          line: 324,\n          column: 17\n        },\n        end: {\n          line: 324,\n          column: 35\n        }\n      },\n      \"130\": {\n        start: {\n          line: 325,\n          column: 19\n        },\n        end: {\n          line: 325,\n          column: 29\n        }\n      },\n      \"131\": {\n        start: {\n          line: 326,\n          column: 6\n        },\n        end: {\n          line: 328,\n          column: 7\n        }\n      },\n      \"132\": {\n        start: {\n          line: 327,\n          column: 8\n        },\n        end: {\n          line: 327,\n          column: 29\n        }\n      },\n      \"133\": {\n        start: {\n          line: 330,\n          column: 4\n        },\n        end: {\n          line: 330,\n          column: 20\n        }\n      },\n      \"134\": {\n        start: {\n          line: 335,\n          column: 19\n        },\n        end: {\n          line: 335,\n          column: 21\n        }\n      },\n      \"135\": {\n        start: {\n          line: 336,\n          column: 4\n        },\n        end: {\n          line: 355,\n          column: 5\n        }\n      },\n      \"136\": {\n        start: {\n          line: 337,\n          column: 20\n        },\n        end: {\n          line: 337,\n          column: 24\n        }\n      },\n      \"137\": {\n        start: {\n          line: 338,\n          column: 6\n        },\n        end: {\n          line: 350,\n          column: 7\n        }\n      },\n      \"138\": {\n        start: {\n          line: 339,\n          column: 8\n        },\n        end: {\n          line: 343,\n          column: 9\n        }\n      },\n      \"139\": {\n        start: {\n          line: 340,\n          column: 10\n        },\n        end: {\n          line: 340,\n          column: 45\n        }\n      },\n      \"140\": {\n        start: {\n          line: 342,\n          column: 10\n        },\n        end: {\n          line: 342,\n          column: 45\n        }\n      },\n      \"141\": {\n        start: {\n          line: 344,\n          column: 13\n        },\n        end: {\n          line: 350,\n          column: 7\n        }\n      },\n      \"142\": {\n        start: {\n          line: 345,\n          column: 8\n        },\n        end: {\n          line: 349,\n          column: 9\n        }\n      },\n      \"143\": {\n        start: {\n          line: 346,\n          column: 10\n        },\n        end: {\n          line: 346,\n          column: 45\n        }\n      },\n      \"144\": {\n        start: {\n          line: 348,\n          column: 10\n        },\n        end: {\n          line: 348,\n          column: 45\n        }\n      },\n      \"145\": {\n        start: {\n          line: 351,\n          column: 6\n        },\n        end: {\n          line: 351,\n          column: 24\n        }\n      },\n      \"146\": {\n        start: {\n          line: 352,\n          column: 6\n        },\n        end: {\n          line: 354,\n          column: 7\n        }\n      },\n      \"147\": {\n        start: {\n          line: 353,\n          column: 8\n        },\n        end: {\n          line: 353,\n          column: 29\n        }\n      },\n      \"148\": {\n        start: {\n          line: 356,\n          column: 4\n        },\n        end: {\n          line: 356,\n          column: 18\n        }\n      },\n      \"149\": {\n        start: {\n          line: 360,\n          column: 18\n        },\n        end: {\n          line: 360,\n          column: 40\n        }\n      },\n      \"150\": {\n        start: {\n          line: 361,\n          column: 4\n        },\n        end: {\n          line: 361,\n          column: 104\n        }\n      },\n      \"151\": {\n        start: {\n          line: 365,\n          column: 4\n        },\n        end: {\n          line: 369,\n          column: 5\n        }\n      },\n      \"152\": {\n        start: {\n          line: 366,\n          column: 6\n        },\n        end: {\n          line: 366,\n          column: 17\n        }\n      },\n      \"153\": {\n        start: {\n          line: 368,\n          column: 6\n        },\n        end: {\n          line: 368,\n          column: 17\n        }\n      },\n      \"154\": {\n        start: {\n          line: 373,\n          column: 4\n        },\n        end: {\n          line: 375,\n          column: 5\n        }\n      },\n      \"155\": {\n        start: {\n          line: 374,\n          column: 6\n        },\n        end: {\n          line: 374,\n          column: 16\n        }\n      },\n      \"156\": {\n        start: {\n          line: 376,\n          column: 4\n        },\n        end: {\n          line: 379,\n          column: 7\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 59,\n            column: 2\n          },\n          end: {\n            line: 59,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 59,\n            column: 11\n          },\n          end: {\n            line: 89,\n            column: 3\n          }\n        },\n        line: 59\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 66,\n            column: 67\n          },\n          end: {\n            line: 66,\n            column: 68\n          }\n        },\n        loc: {\n          start: {\n            line: 66,\n            column: 84\n          },\n          end: {\n            line: 66,\n            column: 93\n          }\n        },\n        line: 66\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 91,\n            column: 2\n          },\n          end: {\n            line: 91,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 91,\n            column: 25\n          },\n          end: {\n            line: 97,\n            column: 3\n          }\n        },\n        line: 91\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 99,\n            column: 11\n          },\n          end: {\n            line: 99,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 99,\n            column: 41\n          },\n          end: {\n            line: 110,\n            column: 3\n          }\n        },\n        line: 99\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 112,\n            column: 2\n          },\n          end: {\n            line: 112,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 112,\n            column: 37\n          },\n          end: {\n            line: 125,\n            column: 3\n          }\n        },\n        line: 112\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 115,\n            column: 28\n          },\n          end: {\n            line: 115,\n            column: 29\n          }\n        },\n        loc: {\n          start: {\n            line: 115,\n            column: 35\n          },\n          end: {\n            line: 115,\n            column: 65\n          }\n        },\n        line: 115\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 127,\n            column: 16\n          },\n          end: {\n            line: 127,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 127,\n            column: 46\n          },\n          end: {\n            line: 139,\n            column: 3\n          }\n        },\n        line: 127\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 141,\n            column: 12\n          },\n          end: {\n            line: 141,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 141,\n            column: 35\n          },\n          end: {\n            line: 159,\n            column: 3\n          }\n        },\n        line: 141\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 161,\n            column: 12\n          },\n          end: {\n            line: 161,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 161,\n            column: 42\n          },\n          end: {\n            line: 168,\n            column: 3\n          }\n        },\n        line: 161\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 170,\n            column: 2\n          },\n          end: {\n            line: 170,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 170,\n            column: 27\n          },\n          end: {\n            line: 187,\n            column: 3\n          }\n        },\n        line: 170\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 189,\n            column: 2\n          },\n          end: {\n            line: 189,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 189,\n            column: 35\n          },\n          end: {\n            line: 191,\n            column: 3\n          }\n        },\n        line: 189\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 193,\n            column: 2\n          },\n          end: {\n            line: 193,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 193,\n            column: 25\n          },\n          end: {\n            line: 195,\n            column: 3\n          }\n        },\n        line: 193\n      },\n      \"12\": {\n        name: \"(anonymous_12)\",\n        decl: {\n          start: {\n            line: 197,\n            column: 2\n          },\n          end: {\n            line: 197,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 197,\n            column: 15\n          },\n          end: {\n            line: 227,\n            column: 3\n          }\n        },\n        line: 197\n      },\n      \"13\": {\n        name: \"(anonymous_13)\",\n        decl: {\n          start: {\n            line: 229,\n            column: 18\n          },\n          end: {\n            line: 229,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 229,\n            column: 45\n          },\n          end: {\n            line: 233,\n            column: 3\n          }\n        },\n        line: 229\n      },\n      \"14\": {\n        name: \"(anonymous_14)\",\n        decl: {\n          start: {\n            line: 230,\n            column: 18\n          },\n          end: {\n            line: 230,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 230,\n            column: 32\n          },\n          end: {\n            line: 232,\n            column: 5\n          }\n        },\n        line: 230\n      },\n      \"15\": {\n        name: \"(anonymous_15)\",\n        decl: {\n          start: {\n            line: 235,\n            column: 21\n          },\n          end: {\n            line: 235,\n            column: 22\n          }\n        },\n        loc: {\n          start: {\n            line: 235,\n            column: 27\n          },\n          end: {\n            line: 237,\n            column: 3\n          }\n        },\n        line: 235\n      },\n      \"16\": {\n        name: \"(anonymous_16)\",\n        decl: {\n          start: {\n            line: 239,\n            column: 18\n          },\n          end: {\n            line: 239,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 239,\n            column: 24\n          },\n          end: {\n            line: 241,\n            column: 3\n          }\n        },\n        line: 239\n      },\n      \"17\": {\n        name: \"(anonymous_17)\",\n        decl: {\n          start: {\n            line: 243,\n            column: 25\n          },\n          end: {\n            line: 243,\n            column: 26\n          }\n        },\n        loc: {\n          start: {\n            line: 243,\n            column: 31\n          },\n          end: {\n            line: 252,\n            column: 3\n          }\n        },\n        line: 243\n      },\n      \"18\": {\n        name: \"(anonymous_18)\",\n        decl: {\n          start: {\n            line: 254,\n            column: 2\n          },\n          end: {\n            line: 254,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 254,\n            column: 55\n          },\n          end: {\n            line: 269,\n            column: 3\n          }\n        },\n        line: 254\n      },\n      \"19\": {\n        name: \"(anonymous_19)\",\n        decl: {\n          start: {\n            line: 271,\n            column: 2\n          },\n          end: {\n            line: 271,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 271,\n            column: 17\n          },\n          end: {\n            line: 293,\n            column: 3\n          }\n        },\n        line: 271\n      },\n      \"20\": {\n        name: \"(anonymous_20)\",\n        decl: {\n          start: {\n            line: 295,\n            column: 2\n          },\n          end: {\n            line: 295,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 295,\n            column: 15\n          },\n          end: {\n            line: 319,\n            column: 3\n          }\n        },\n        line: 295\n      },\n      \"21\": {\n        name: \"(anonymous_21)\",\n        decl: {\n          start: {\n            line: 321,\n            column: 2\n          },\n          end: {\n            line: 321,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 321,\n            column: 34\n          },\n          end: {\n            line: 331,\n            column: 3\n          }\n        },\n        line: 321\n      },\n      \"22\": {\n        name: \"(anonymous_22)\",\n        decl: {\n          start: {\n            line: 334,\n            column: 2\n          },\n          end: {\n            line: 334,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 334,\n            column: 28\n          },\n          end: {\n            line: 357,\n            column: 3\n          }\n        },\n        line: 334\n      },\n      \"23\": {\n        name: \"(anonymous_23)\",\n        decl: {\n          start: {\n            line: 359,\n            column: 2\n          },\n          end: {\n            line: 359,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 359,\n            column: 32\n          },\n          end: {\n            line: 362,\n            column: 3\n          }\n        },\n        line: 359\n      },\n      \"24\": {\n        name: \"(anonymous_24)\",\n        decl: {\n          start: {\n            line: 364,\n            column: 2\n          },\n          end: {\n            line: 364,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 364,\n            column: 22\n          },\n          end: {\n            line: 370,\n            column: 3\n          }\n        },\n        line: 364\n      },\n      \"25\": {\n        name: \"(anonymous_25)\",\n        decl: {\n          start: {\n            line: 372,\n            column: 2\n          },\n          end: {\n            line: 372,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 372,\n            column: 14\n          },\n          end: {\n            line: 380,\n            column: 3\n          }\n        },\n        line: 372\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        }],\n        line: 60\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 63,\n            column: 4\n          },\n          end: {\n            line: 74,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 63,\n            column: 4\n          },\n          end: {\n            line: 74,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 63,\n            column: 4\n          },\n          end: {\n            line: 74,\n            column: 5\n          }\n        }],\n        line: 63\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 92,\n            column: 4\n          },\n          end: {\n            line: 96,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 92,\n            column: 4\n          },\n          end: {\n            line: 96,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 92,\n            column: 4\n          },\n          end: {\n            line: 96,\n            column: 5\n          }\n        }],\n        line: 92\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 101,\n            column: 4\n          },\n          end: {\n            line: 103,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 101,\n            column: 4\n          },\n          end: {\n            line: 103,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 101,\n            column: 4\n          },\n          end: {\n            line: 103,\n            column: 5\n          }\n        }],\n        line: 101\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 105,\n            column: 4\n          },\n          end: {\n            line: 109,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 105,\n            column: 4\n          },\n          end: {\n            line: 109,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 105,\n            column: 4\n          },\n          end: {\n            line: 109,\n            column: 5\n          }\n        }],\n        line: 105\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 105,\n            column: 8\n          },\n          end: {\n            line: 105,\n            column: 58\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 105,\n            column: 8\n          },\n          end: {\n            line: 105,\n            column: 28\n          }\n        }, {\n          start: {\n            line: 105,\n            column: 32\n          },\n          end: {\n            line: 105,\n            column: 58\n          }\n        }],\n        line: 105\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 107,\n            column: 11\n          },\n          end: {\n            line: 109,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 107,\n            column: 11\n          },\n          end: {\n            line: 109,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 107,\n            column: 11\n          },\n          end: {\n            line: 109,\n            column: 5\n          }\n        }],\n        line: 107\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 115,\n            column: 35\n          },\n          end: {\n            line: 115,\n            column: 65\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 115,\n            column: 35\n          },\n          end: {\n            line: 115,\n            column: 50\n          }\n        }, {\n          start: {\n            line: 115,\n            column: 54\n          },\n          end: {\n            line: 115,\n            column: 65\n          }\n        }],\n        line: 115\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 116,\n            column: 4\n          },\n          end: {\n            line: 122,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 116,\n            column: 4\n          },\n          end: {\n            line: 122,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 116,\n            column: 4\n          },\n          end: {\n            line: 122,\n            column: 5\n          }\n        }],\n        line: 116\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 119,\n            column: 6\n          },\n          end: {\n            line: 121,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 119,\n            column: 6\n          },\n          end: {\n            line: 121,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 119,\n            column: 6\n          },\n          end: {\n            line: 121,\n            column: 7\n          }\n        }],\n        line: 119\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 131,\n            column: 19\n          },\n          end: {\n            line: 131,\n            column: 68\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 131,\n            column: 19\n          },\n          end: {\n            line: 131,\n            column: 38\n          }\n        }, {\n          start: {\n            line: 131,\n            column: 42\n          },\n          end: {\n            line: 131,\n            column: 68\n          }\n        }],\n        line: 131\n      },\n      \"11\": {\n        loc: {\n          start: {\n            line: 132,\n            column: 4\n          },\n          end: {\n            line: 138,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 132,\n            column: 4\n          },\n          end: {\n            line: 138,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 132,\n            column: 4\n          },\n          end: {\n            line: 138,\n            column: 5\n          }\n        }],\n        line: 132\n      },\n      \"12\": {\n        loc: {\n          start: {\n            line: 146,\n            column: 4\n          },\n          end: {\n            line: 158,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 146,\n            column: 4\n          },\n          end: {\n            line: 158,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 146,\n            column: 4\n          },\n          end: {\n            line: 158,\n            column: 5\n          }\n        }],\n        line: 146\n      },\n      \"13\": {\n        loc: {\n          start: {\n            line: 164,\n            column: 4\n          },\n          end: {\n            line: 167,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 164,\n            column: 4\n          },\n          end: {\n            line: 167,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 164,\n            column: 4\n          },\n          end: {\n            line: 167,\n            column: 5\n          }\n        }],\n        line: 164\n      },\n      \"14\": {\n        loc: {\n          start: {\n            line: 173,\n            column: 4\n          },\n          end: {\n            line: 179,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 173,\n            column: 4\n          },\n          end: {\n            line: 179,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 173,\n            column: 4\n          },\n          end: {\n            line: 179,\n            column: 5\n          }\n        }],\n        line: 173\n      },\n      \"15\": {\n        loc: {\n          start: {\n            line: 175,\n            column: 6\n          },\n          end: {\n            line: 178,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 175,\n            column: 6\n          },\n          end: {\n            line: 178,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 175,\n            column: 6\n          },\n          end: {\n            line: 178,\n            column: 7\n          }\n        }],\n        line: 175\n      },\n      \"16\": {\n        loc: {\n          start: {\n            line: 183,\n            column: 4\n          },\n          end: {\n            line: 185,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 183,\n            column: 4\n          },\n          end: {\n            line: 185,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 183,\n            column: 4\n          },\n          end: {\n            line: 185,\n            column: 5\n          }\n        }],\n        line: 183\n      },\n      \"17\": {\n        loc: {\n          start: {\n            line: 204,\n            column: 8\n          },\n          end: {\n            line: 223,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 204,\n            column: 8\n          },\n          end: {\n            line: 223,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 204,\n            column: 8\n          },\n          end: {\n            line: 223,\n            column: 9\n          }\n        }],\n        line: 204\n      },\n      \"18\": {\n        loc: {\n          start: {\n            line: 218,\n            column: 10\n          },\n          end: {\n            line: 222,\n            column: 11\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 218,\n            column: 10\n          },\n          end: {\n            line: 222,\n            column: 11\n          }\n        }, {\n          start: {\n            line: 218,\n            column: 10\n          },\n          end: {\n            line: 222,\n            column: 11\n          }\n        }],\n        line: 218\n      },\n      \"19\": {\n        loc: {\n          start: {\n            line: 248,\n            column: 15\n          },\n          end: {\n            line: 248,\n            column: 50\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 248,\n            column: 30\n          },\n          end: {\n            line: 248,\n            column: 38\n          }\n        }, {\n          start: {\n            line: 248,\n            column: 41\n          },\n          end: {\n            line: 248,\n            column: 50\n          }\n        }],\n        line: 248\n      },\n      \"20\": {\n        loc: {\n          start: {\n            line: 255,\n            column: 4\n          },\n          end: {\n            line: 268,\n            column: 5\n          }\n        },\n        type: \"switch\",\n        locations: [{\n          start: {\n            line: 256,\n            column: 6\n          },\n          end: {\n            line: 257,\n            column: 40\n          }\n        }, {\n          start: {\n            line: 258,\n            column: 6\n          },\n          end: {\n            line: 259,\n            column: 38\n          }\n        }, {\n          start: {\n            line: 260,\n            column: 6\n          },\n          end: {\n            line: 261,\n            column: 40\n          }\n        }, {\n          start: {\n            line: 262,\n            column: 6\n          },\n          end: {\n            line: 263,\n            column: 38\n          }\n        }, {\n          start: {\n            line: 264,\n            column: 6\n          },\n          end: {\n            line: 265,\n            column: 39\n          }\n        }, {\n          start: {\n            line: 266,\n            column: 6\n          },\n          end: {\n            line: 267,\n            column: 38\n          }\n        }],\n        line: 255\n      },\n      \"21\": {\n        loc: {\n          start: {\n            line: 274,\n            column: 4\n          },\n          end: {\n            line: 292,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 274,\n            column: 4\n          },\n          end: {\n            line: 292,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 274,\n            column: 4\n          },\n          end: {\n            line: 292,\n            column: 5\n          }\n        }],\n        line: 274\n      },\n      \"22\": {\n        loc: {\n          start: {\n            line: 274,\n            column: 8\n          },\n          end: {\n            line: 274,\n            column: 62\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 274,\n            column: 8\n          },\n          end: {\n            line: 274,\n            column: 38\n          }\n        }, {\n          start: {\n            line: 274,\n            column: 42\n          },\n          end: {\n            line: 274,\n            column: 62\n          }\n        }],\n        line: 274\n      },\n      \"23\": {\n        loc: {\n          start: {\n            line: 275,\n            column: 6\n          },\n          end: {\n            line: 281,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 275,\n            column: 6\n          },\n          end: {\n            line: 281,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 275,\n            column: 6\n          },\n          end: {\n            line: 281,\n            column: 7\n          }\n        }],\n        line: 275\n      },\n      \"24\": {\n        loc: {\n          start: {\n            line: 277,\n            column: 13\n          },\n          end: {\n            line: 281,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 277,\n            column: 13\n          },\n          end: {\n            line: 281,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 277,\n            column: 13\n          },\n          end: {\n            line: 281,\n            column: 7\n          }\n        }],\n        line: 277\n      },\n      \"25\": {\n        loc: {\n          start: {\n            line: 284,\n            column: 6\n          },\n          end: {\n            line: 291,\n            column: 7\n          }\n        },\n        type: \"switch\",\n        locations: [{\n          start: {\n            line: 285,\n            column: 8\n          },\n          end: {\n            line: 286,\n            column: 29\n          }\n        }, {\n          start: {\n            line: 287,\n            column: 8\n          },\n          end: {\n            line: 288,\n            column: 29\n          }\n        }, {\n          start: {\n            line: 289,\n            column: 8\n          },\n          end: {\n            line: 290,\n            column: 24\n          }\n        }],\n        line: 284\n      },\n      \"26\": {\n        loc: {\n          start: {\n            line: 298,\n            column: 4\n          },\n          end: {\n            line: 318,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 298,\n            column: 4\n          },\n          end: {\n            line: 318,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 298,\n            column: 4\n          },\n          end: {\n            line: 318,\n            column: 5\n          }\n        }],\n        line: 298\n      },\n      \"27\": {\n        loc: {\n          start: {\n            line: 298,\n            column: 8\n          },\n          end: {\n            line: 298,\n            column: 87\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 298,\n            column: 8\n          },\n          end: {\n            line: 298,\n            column: 27\n          }\n        }, {\n          start: {\n            line: 298,\n            column: 32\n          },\n          end: {\n            line: 298,\n            column: 62\n          }\n        }, {\n          start: {\n            line: 298,\n            column: 66\n          },\n          end: {\n            line: 298,\n            column: 86\n          }\n        }],\n        line: 298\n      },\n      \"28\": {\n        loc: {\n          start: {\n            line: 299,\n            column: 6\n          },\n          end: {\n            line: 301,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 299,\n            column: 6\n          },\n          end: {\n            line: 301,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 299,\n            column: 6\n          },\n          end: {\n            line: 301,\n            column: 7\n          }\n        }],\n        line: 299\n      },\n      \"29\": {\n        loc: {\n          start: {\n            line: 302,\n            column: 6\n          },\n          end: {\n            line: 306,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 302,\n            column: 6\n          },\n          end: {\n            line: 306,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 302,\n            column: 6\n          },\n          end: {\n            line: 306,\n            column: 7\n          }\n        }],\n        line: 302\n      },\n      \"30\": {\n        loc: {\n          start: {\n            line: 309,\n            column: 6\n          },\n          end: {\n            line: 311,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 309,\n            column: 6\n          },\n          end: {\n            line: 311,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 309,\n            column: 6\n          },\n          end: {\n            line: 311,\n            column: 7\n          }\n        }],\n        line: 309\n      },\n      \"31\": {\n        loc: {\n          start: {\n            line: 312,\n            column: 6\n          },\n          end: {\n            line: 317,\n            column: 7\n          }\n        },\n        type: \"switch\",\n        locations: [{\n          start: {\n            line: 313,\n            column: 8\n          },\n          end: {\n            line: 314,\n            column: 32\n          }\n        }, {\n          start: {\n            line: 315,\n            column: 8\n          },\n          end: {\n            line: 316,\n            column: 32\n          }\n        }],\n        line: 312\n      },\n      \"32\": {\n        loc: {\n          start: {\n            line: 326,\n            column: 6\n          },\n          end: {\n            line: 328,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 326,\n            column: 6\n          },\n          end: {\n            line: 328,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 326,\n            column: 6\n          },\n          end: {\n            line: 328,\n            column: 7\n          }\n        }],\n        line: 326\n      },\n      \"33\": {\n        loc: {\n          start: {\n            line: 338,\n            column: 6\n          },\n          end: {\n            line: 350,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 338,\n            column: 6\n          },\n          end: {\n            line: 350,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 338,\n            column: 6\n          },\n          end: {\n            line: 350,\n            column: 7\n          }\n        }],\n        line: 338\n      },\n      \"34\": {\n        loc: {\n          start: {\n            line: 339,\n            column: 8\n          },\n          end: {\n            line: 343,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 339,\n            column: 8\n          },\n          end: {\n            line: 343,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 339,\n            column: 8\n          },\n          end: {\n            line: 343,\n            column: 9\n          }\n        }],\n        line: 339\n      },\n      \"35\": {\n        loc: {\n          start: {\n            line: 344,\n            column: 13\n          },\n          end: {\n            line: 350,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 344,\n            column: 13\n          },\n          end: {\n            line: 350,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 344,\n            column: 13\n          },\n          end: {\n            line: 350,\n            column: 7\n          }\n        }],\n        line: 344\n      },\n      \"36\": {\n        loc: {\n          start: {\n            line: 345,\n            column: 8\n          },\n          end: {\n            line: 349,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 345,\n            column: 8\n          },\n          end: {\n            line: 349,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 345,\n            column: 8\n          },\n          end: {\n            line: 349,\n            column: 9\n          }\n        }],\n        line: 345\n      },\n      \"37\": {\n        loc: {\n          start: {\n            line: 352,\n            column: 6\n          },\n          end: {\n            line: 354,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 352,\n            column: 6\n          },\n          end: {\n            line: 354,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 352,\n            column: 6\n          },\n          end: {\n            line: 354,\n            column: 7\n          }\n        }],\n        line: 352\n      },\n      \"38\": {\n        loc: {\n          start: {\n            line: 361,\n            column: 11\n          },\n          end: {\n            line: 361,\n            column: 103\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 361,\n            column: 11\n          },\n          end: {\n            line: 361,\n            column: 16\n          }\n        }, {\n          start: {\n            line: 361,\n            column: 20\n          },\n          end: {\n            line: 361,\n            column: 60\n          }\n        }, {\n          start: {\n            line: 361,\n            column: 64\n          },\n          end: {\n            line: 361,\n            column: 103\n          }\n        }],\n        line: 361\n      },\n      \"39\": {\n        loc: {\n          start: {\n            line: 365,\n            column: 4\n          },\n          end: {\n            line: 369,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 365,\n            column: 4\n          },\n          end: {\n            line: 369,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 365,\n            column: 4\n          },\n          end: {\n            line: 369,\n            column: 5\n          }\n        }],\n        line: 365\n      },\n      \"40\": {\n        loc: {\n          start: {\n            line: 373,\n            column: 4\n          },\n          end: {\n            line: 375,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 373,\n            column: 4\n          },\n          end: {\n            line: 375,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 373,\n            column: 4\n          },\n          end: {\n            line: 375,\n            column: 5\n          }\n        }],\n        line: 373\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0,\n      \"51\": 0,\n      \"52\": 0,\n      \"53\": 0,\n      \"54\": 0,\n      \"55\": 0,\n      \"56\": 0,\n      \"57\": 0,\n      \"58\": 0,\n      \"59\": 0,\n      \"60\": 0,\n      \"61\": 0,\n      \"62\": 0,\n      \"63\": 0,\n      \"64\": 0,\n      \"65\": 0,\n      \"66\": 0,\n      \"67\": 0,\n      \"68\": 0,\n      \"69\": 0,\n      \"70\": 0,\n      \"71\": 0,\n      \"72\": 0,\n      \"73\": 0,\n      \"74\": 0,\n      \"75\": 0,\n      \"76\": 0,\n      \"77\": 0,\n      \"78\": 0,\n      \"79\": 0,\n      \"80\": 0,\n      \"81\": 0,\n      \"82\": 0,\n      \"83\": 0,\n      \"84\": 0,\n      \"85\": 0,\n      \"86\": 0,\n      \"87\": 0,\n      \"88\": 0,\n      \"89\": 0,\n      \"90\": 0,\n      \"91\": 0,\n      \"92\": 0,\n      \"93\": 0,\n      \"94\": 0,\n      \"95\": 0,\n      \"96\": 0,\n      \"97\": 0,\n      \"98\": 0,\n      \"99\": 0,\n      \"100\": 0,\n      \"101\": 0,\n      \"102\": 0,\n      \"103\": 0,\n      \"104\": 0,\n      \"105\": 0,\n      \"106\": 0,\n      \"107\": 0,\n      \"108\": 0,\n      \"109\": 0,\n      \"110\": 0,\n      \"111\": 0,\n      \"112\": 0,\n      \"113\": 0,\n      \"114\": 0,\n      \"115\": 0,\n      \"116\": 0,\n      \"117\": 0,\n      \"118\": 0,\n      \"119\": 0,\n      \"120\": 0,\n      \"121\": 0,\n      \"122\": 0,\n      \"123\": 0,\n      \"124\": 0,\n      \"125\": 0,\n      \"126\": 0,\n      \"127\": 0,\n      \"128\": 0,\n      \"129\": 0,\n      \"130\": 0,\n      \"131\": 0,\n      \"132\": 0,\n      \"133\": 0,\n      \"134\": 0,\n      \"135\": 0,\n      \"136\": 0,\n      \"137\": 0,\n      \"138\": 0,\n      \"139\": 0,\n      \"140\": 0,\n      \"141\": 0,\n      \"142\": 0,\n      \"143\": 0,\n      \"144\": 0,\n      \"145\": 0,\n      \"146\": 0,\n      \"147\": 0,\n      \"148\": 0,\n      \"149\": 0,\n      \"150\": 0,\n      \"151\": 0,\n      \"152\": 0,\n      \"153\": 0,\n      \"154\": 0,\n      \"155\": 0,\n      \"156\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0],\n      \"11\": [0, 0],\n      \"12\": [0, 0],\n      \"13\": [0, 0],\n      \"14\": [0, 0],\n      \"15\": [0, 0],\n      \"16\": [0, 0],\n      \"17\": [0, 0],\n      \"18\": [0, 0],\n      \"19\": [0, 0],\n      \"20\": [0, 0, 0, 0, 0, 0],\n      \"21\": [0, 0],\n      \"22\": [0, 0],\n      \"23\": [0, 0],\n      \"24\": [0, 0],\n      \"25\": [0, 0, 0],\n      \"26\": [0, 0],\n      \"27\": [0, 0, 0],\n      \"28\": [0, 0],\n      \"29\": [0, 0],\n      \"30\": [0, 0],\n      \"31\": [0, 0],\n      \"32\": [0, 0],\n      \"33\": [0, 0],\n      \"34\": [0, 0],\n      \"35\": [0, 0],\n      \"36\": [0, 0],\n      \"37\": [0, 0],\n      \"38\": [0, 0, 0],\n      \"39\": [0, 0],\n      \"40\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"c61b76f9724aaeeadb35858c93cb5a14319b35b4\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_vqfe50xga = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_vqfe50xga();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n * Copyright 2018 The @freeboardgame.org/boardgame.io Authors.\n *\n * Use of this source code is governed by a MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\nimport React from 'react';\nimport Chess from './chessjswrapper';\nimport { Checkerboard, cartesianToAlgebraic } from '../common/Checkerboard';\nimport { Token } from 'ui';\nimport { GameLayout } from 'components/App/Game/GameLayout';\nimport { GameMode } from 'components/App/Game/GameModePicker';\nimport Bishop from './pieces/bishop';\nimport King from './pieces/king';\nimport Knight from './pieces/knight';\nimport Pawn from './pieces/pawn';\nimport Queen from './pieces/queen';\nimport Rook from './pieces/rook';\nimport { playSound } from './sound';\nimport Typography from '@material-ui/core/Typography';\nconst COL_NAMES = (cov_vqfe50xga().s[0]++, 'abcdefgh');\nconst HIGHLIGHTED_COLOR = (cov_vqfe50xga().s[1]++, 'green');\nconst MOVABLE_COLOR = (cov_vqfe50xga().s[2]++, 'palegreen');\nconst MOVED_COLOR = (cov_vqfe50xga().s[3]++, '#CCE5FF');\nexport class Board extends (React.Component) {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"chess\", (cov_vqfe50xga().s[4]++, Chess()));\n\n    _defineProperty(this, \"state\", (cov_vqfe50xga().s[5]++, {\n      selected: '',\n      highlighted: '',\n      dragged: '',\n      soundEnabled: true\n    }));\n\n    _defineProperty(this, \"_click\", (cov_vqfe50xga().s[16]++, coords => {\n      cov_vqfe50xga().f[3]++;\n      const {\n        square\n      } = (cov_vqfe50xga().s[17]++, coords);\n      cov_vqfe50xga().s[18]++;\n\n      if (!this.props.isActive) {\n        cov_vqfe50xga().b[3][0]++;\n        cov_vqfe50xga().s[19]++;\n        return;\n      } else {\n        cov_vqfe50xga().b[3][1]++;\n      }\n\n      cov_vqfe50xga().s[20]++;\n\n      if ((cov_vqfe50xga().b[5][0]++, !this.state.selected) && (cov_vqfe50xga().b[5][1]++, this._isSelectable(square))) {\n        cov_vqfe50xga().b[4][0]++;\n        cov_vqfe50xga().s[21]++;\n        this.setState(_objectSpread({}, this.state, {\n          selected: square,\n          highlighted: square\n        }));\n      } else {\n        cov_vqfe50xga().b[4][1]++;\n        cov_vqfe50xga().s[22]++;\n\n        if (this.state.selected) {\n          cov_vqfe50xga().b[6][0]++;\n          cov_vqfe50xga().s[23]++;\n\n          this._tryMove(this.state.selected, square);\n        } else {\n          cov_vqfe50xga().b[6][1]++;\n        }\n      }\n    }));\n\n    _defineProperty(this, \"_shouldDrag\", (cov_vqfe50xga().s[32]++, coords => {\n      cov_vqfe50xga().f[6]++;\n      const x = (cov_vqfe50xga().s[33]++, coords.x);\n      const y = (cov_vqfe50xga().s[34]++, coords.y);\n      const square = (cov_vqfe50xga().s[35]++, cartesianToAlgebraic(x, y));\n      const result = (cov_vqfe50xga().s[36]++, (cov_vqfe50xga().b[10][0]++, this.props.isActive) && (cov_vqfe50xga().b[10][1]++, this._isSelectable(square)));\n      cov_vqfe50xga().s[37]++;\n\n      if (result) {\n        cov_vqfe50xga().b[11][0]++;\n        cov_vqfe50xga().s[38]++;\n        this.setState(_objectSpread({}, this.state, {\n          dragged: this._getInitialCell(square)\n        }));\n        cov_vqfe50xga().s[39]++;\n        return true;\n      } else {\n        cov_vqfe50xga().b[11][1]++;\n      }\n    }));\n\n    _defineProperty(this, \"_onDrag\", (cov_vqfe50xga().s[40]++, data => {\n      cov_vqfe50xga().f[7]++;\n      const x = (cov_vqfe50xga().s[41]++, data.x);\n      const y = (cov_vqfe50xga().s[42]++, data.y);\n      const originalX = (cov_vqfe50xga().s[43]++, data.originalX);\n      const originalY = (cov_vqfe50xga().s[44]++, data.originalY);\n      cov_vqfe50xga().s[45]++;\n\n      if (Math.sqrt((x - originalX) ** 2 + (y - originalY) ** 2) > 0.2) {\n        cov_vqfe50xga().b[12][0]++;\n        cov_vqfe50xga().s[46]++;\n        this.setState(_objectSpread({}, this.state, {\n          selected: this._getSquare(originalX, originalY),\n          highlighted: this._getSquare(x, y)\n        }));\n      } else {\n        cov_vqfe50xga().b[12][1]++;\n        cov_vqfe50xga().s[47]++;\n        this.setState(_objectSpread({}, this.state, {\n          selected: '',\n          highlighted: ''\n        }));\n      }\n    }));\n\n    _defineProperty(this, \"_onDrop\", (cov_vqfe50xga().s[48]++, coords => {\n      cov_vqfe50xga().f[8]++;\n      const x = (cov_vqfe50xga().s[49]++, coords.x);\n      const y = (cov_vqfe50xga().s[50]++, coords.y);\n      cov_vqfe50xga().s[51]++;\n\n      if (this.state.selected) {\n        cov_vqfe50xga().b[13][0]++;\n        cov_vqfe50xga().s[52]++;\n        this.setState(_objectSpread({}, this.state, {\n          dragged: ''\n        }));\n        cov_vqfe50xga().s[53]++;\n\n        this._tryMove(this.state.selected, this._getSquare(x, y));\n      } else {\n        cov_vqfe50xga().b[13][1]++;\n      }\n    }));\n\n    _defineProperty(this, \"_setSoundPref\", (cov_vqfe50xga().s[82]++, soundEnabled => {\n      cov_vqfe50xga().f[13]++;\n      cov_vqfe50xga().s[83]++;\n      this.setState(oldState => {\n        cov_vqfe50xga().f[14]++;\n        cov_vqfe50xga().s[84]++;\n        return _objectSpread({}, oldState, {\n          soundEnabled\n        });\n      });\n    }));\n\n    _defineProperty(this, \"_toggleSoundPref\", (cov_vqfe50xga().s[85]++, () => {\n      cov_vqfe50xga().f[15]++;\n      cov_vqfe50xga().s[86]++;\n\n      this._setSoundPref(!this._getSoundPref());\n    }));\n\n    _defineProperty(this, \"_getSoundPref\", (cov_vqfe50xga().s[87]++, () => {\n      cov_vqfe50xga().f[16]++;\n      cov_vqfe50xga().s[88]++;\n      return this.state.soundEnabled;\n    }));\n\n    _defineProperty(this, \"_getOptionsMenuItems\", (cov_vqfe50xga().s[89]++, () => {\n      cov_vqfe50xga().f[17]++;\n      const curSoundPref = (cov_vqfe50xga().s[90]++, this._getSoundPref());\n      const newSoundPref = (cov_vqfe50xga().s[91]++, !curSoundPref);\n      const option = (cov_vqfe50xga().s[92]++, {\n        onClick: this._toggleSoundPref,\n        text: `${newSoundPref ? (cov_vqfe50xga().b[19][0]++, 'Enable') : (cov_vqfe50xga().b[19][1]++, 'Disable')} sound`\n      });\n      const options = (cov_vqfe50xga().s[93]++, [option]);\n      cov_vqfe50xga().s[94]++;\n      return options;\n    }));\n  }\n\n  render() {\n    cov_vqfe50xga().f[0]++;\n    cov_vqfe50xga().s[6]++;\n\n    if (this.props.G.pgn) {\n      cov_vqfe50xga().b[0][0]++;\n      cov_vqfe50xga().s[7]++;\n      this.chess.load_pgn(this.props.G.pgn);\n    } else {\n      cov_vqfe50xga().b[0][1]++;\n    }\n\n    cov_vqfe50xga().s[8]++;\n\n    if (this.props.ctx.gameover) {\n      cov_vqfe50xga().b[1][0]++;\n      const gameOverBoard = (cov_vqfe50xga().s[9]++, __jsx(\"div\", {\n        style: {\n          width: '50%',\n          height: '50%',\n          marginLeft: 'auto',\n          marginRight: 'auto'\n        }\n      }, __jsx(Checkerboard, {\n        invert: this.getPlayer() === 'b',\n        onClick: () => {\n          cov_vqfe50xga().f[1]++;\n          cov_vqfe50xga().s[10]++;\n          return undefined;\n        }\n      }, this._getPieces())));\n      cov_vqfe50xga().s[11]++;\n      return __jsx(GameLayout, {\n        gameOver: this._getGameOver(),\n        gameArgs: this.props.gameArgs,\n        extraCardContent: gameOverBoard\n      });\n    } else {\n      cov_vqfe50xga().b[1][1]++;\n    }\n\n    cov_vqfe50xga().s[12]++;\n    return __jsx(GameLayout, {\n      optionsMenuItems: this._getOptionsMenuItems,\n      gameArgs: this.props.gameArgs\n    }, __jsx(Typography, {\n      variant: \"h5\",\n      style: {\n        textAlign: 'center',\n        color: 'white',\n        marginBottom: '16px'\n      }\n    }, this._getStatus()), __jsx(Checkerboard, {\n      invert: this.getPlayer() === 'b',\n      highlightedSquares: this._getHighlightedSquares(),\n      onClick: this._click\n    }, this._getPieces()));\n  }\n\n  getPlayer() {\n    cov_vqfe50xga().f[2]++;\n    cov_vqfe50xga().s[13]++;\n\n    if (this.props.playerID === '1') {\n      cov_vqfe50xga().b[2][0]++;\n      cov_vqfe50xga().s[14]++;\n      return 'b';\n    } else {\n      cov_vqfe50xga().b[2][1]++;\n      cov_vqfe50xga().s[15]++;\n      return 'w';\n    }\n  }\n\n  _tryMove(from, to) {\n    cov_vqfe50xga().f[4]++;\n    const moves = (cov_vqfe50xga().s[24]++, this._getMoves()); // check if this is a valid move\n\n    const move = (cov_vqfe50xga().s[25]++, moves.find(m => {\n      cov_vqfe50xga().f[5]++;\n      cov_vqfe50xga().s[26]++;\n      return (cov_vqfe50xga().b[7][0]++, m.from === from) && (cov_vqfe50xga().b[7][1]++, m.to === to);\n    }));\n    cov_vqfe50xga().s[27]++;\n\n    if (move) {\n      cov_vqfe50xga().b[8][0]++;\n      cov_vqfe50xga().s[28]++;\n      // actually make the move\n      this.props.moves.move(move.san);\n      cov_vqfe50xga().s[29]++;\n\n      if (this._getSoundPref()) {\n        cov_vqfe50xga().b[9][0]++;\n        cov_vqfe50xga().s[30]++;\n        playSound();\n      } else {\n        cov_vqfe50xga().b[9][1]++;\n      }\n    } else {\n      cov_vqfe50xga().b[8][1]++;\n    } // clear the selection and highlighted piece\n\n\n    cov_vqfe50xga().s[31]++;\n    this.setState(_objectSpread({}, this.state, {\n      selected: '',\n      highlighted: ''\n    }));\n  }\n\n  _getHighlightedSquares() {\n    cov_vqfe50xga().f[9]++;\n    const result = (cov_vqfe50xga().s[54]++, {});\n    const history = (cov_vqfe50xga().s[55]++, this._fixHistory(this.chess.history({\n      verbose: true\n    })));\n    cov_vqfe50xga().s[56]++;\n\n    if (history.length > 0) {\n      cov_vqfe50xga().b[14][0]++;\n      const lastMove = (cov_vqfe50xga().s[57]++, history[history.length - 1]);\n      cov_vqfe50xga().s[58]++;\n\n      if (this._getCurrentPlayer() !== lastMove.color) {\n        cov_vqfe50xga().b[15][0]++;\n        cov_vqfe50xga().s[59]++;\n        result[lastMove.from] = MOVED_COLOR;\n        cov_vqfe50xga().s[60]++;\n        result[lastMove.to] = MOVED_COLOR;\n      } else {\n        cov_vqfe50xga().b[15][1]++;\n      }\n    } else {\n      cov_vqfe50xga().b[14][1]++;\n    }\n\n    cov_vqfe50xga().s[61]++;\n\n    for (const move of this._getMoves()) {\n      cov_vqfe50xga().s[62]++;\n      result[move.to] = MOVABLE_COLOR;\n    }\n\n    cov_vqfe50xga().s[63]++;\n\n    if (this.state.highlighted) {\n      cov_vqfe50xga().b[16][0]++;\n      cov_vqfe50xga().s[64]++;\n      result[this.state.highlighted] = HIGHLIGHTED_COLOR;\n    } else {\n      cov_vqfe50xga().b[16][1]++;\n    }\n\n    cov_vqfe50xga().s[65]++;\n    return result;\n  }\n\n  _getSquare(x, y) {\n    cov_vqfe50xga().f[10]++;\n    cov_vqfe50xga().s[66]++;\n    return cartesianToAlgebraic(this._getInRange(x), this._getInRange(y));\n  }\n\n  _getInRange(x) {\n    cov_vqfe50xga().f[11]++;\n    cov_vqfe50xga().s[67]++;\n    return Math.max(Math.min(Math.round(x), 7), 0);\n  }\n\n  _getPieces() {\n    cov_vqfe50xga().f[12]++;\n    const dragged = (cov_vqfe50xga().s[68]++, []);\n    const result = (cov_vqfe50xga().s[69]++, []);\n    cov_vqfe50xga().s[70]++;\n\n    for (let y = (cov_vqfe50xga().s[71]++, 1); y <= 8; y++) {\n      cov_vqfe50xga().s[72]++;\n\n      for (let x = (cov_vqfe50xga().s[73]++, 0); x < 8; x++) {\n        const square = (cov_vqfe50xga().s[74]++, COL_NAMES[x] + y);\n        const piece = (cov_vqfe50xga().s[75]++, this.chess.get(square));\n        cov_vqfe50xga().s[76]++;\n\n        if (piece) {\n          cov_vqfe50xga().b[17][0]++;\n          const token = (cov_vqfe50xga().s[77]++, __jsx(Token, {\n            draggable: true,\n            shouldDrag: this._shouldDrag,\n            onDrag: this._onDrag,\n            onDrop: this._onDrop,\n            square: square,\n            animate: true,\n            key: this._getInitialCell(square)\n          }, this._getPieceByTypeAndColor(piece.type, piece.color)));\n          cov_vqfe50xga().s[78]++;\n\n          if (square === this.state.dragged) {\n            cov_vqfe50xga().b[18][0]++;\n            cov_vqfe50xga().s[79]++;\n            result.push(token);\n          } else {\n            cov_vqfe50xga().b[18][1]++;\n            cov_vqfe50xga().s[80]++;\n            dragged.push(token);\n          }\n        } else {\n          cov_vqfe50xga().b[17][1]++;\n        }\n      }\n    }\n\n    cov_vqfe50xga().s[81]++;\n    return dragged.concat(result);\n  }\n\n  _getPieceByTypeAndColor(type, color) {\n    cov_vqfe50xga().f[18]++;\n    cov_vqfe50xga().s[95]++;\n\n    switch (type) {\n      case 'b':\n        cov_vqfe50xga().b[20][0]++;\n        cov_vqfe50xga().s[96]++;\n        return __jsx(Bishop, {\n          color: color\n        });\n\n      case 'k':\n        cov_vqfe50xga().b[20][1]++;\n        cov_vqfe50xga().s[97]++;\n        return __jsx(King, {\n          color: color\n        });\n\n      case 'n':\n        cov_vqfe50xga().b[20][2]++;\n        cov_vqfe50xga().s[98]++;\n        return __jsx(Knight, {\n          color: color\n        });\n\n      case 'p':\n        cov_vqfe50xga().b[20][3]++;\n        cov_vqfe50xga().s[99]++;\n        return __jsx(Pawn, {\n          color: color\n        });\n\n      case 'q':\n        cov_vqfe50xga().b[20][4]++;\n        cov_vqfe50xga().s[100]++;\n        return __jsx(Queen, {\n          color: color\n        });\n\n      case 'r':\n        cov_vqfe50xga().b[20][5]++;\n        cov_vqfe50xga().s[101]++;\n        return __jsx(Rook, {\n          color: color\n        });\n    }\n  }\n\n  _getGameOver() {\n    cov_vqfe50xga().f[19]++;\n    const gameArgs = (cov_vqfe50xga().s[102]++, this.props.gameArgs);\n    const mode = (cov_vqfe50xga().s[103]++, gameArgs.mode);\n    cov_vqfe50xga().s[104]++;\n\n    if ((cov_vqfe50xga().b[22][0]++, mode === GameMode.OnlineFriend) || (cov_vqfe50xga().b[22][1]++, mode === GameMode.AI)) {\n      cov_vqfe50xga().b[21][0]++;\n      cov_vqfe50xga().s[105]++;\n\n      if (this.props.ctx.gameover === this.getPlayer()) {\n        cov_vqfe50xga().b[23][0]++;\n        cov_vqfe50xga().s[106]++;\n        return 'you won';\n      } else {\n        cov_vqfe50xga().b[23][1]++;\n        cov_vqfe50xga().s[107]++;\n\n        if (this.props.ctx.gameover === 'd') {\n          cov_vqfe50xga().b[24][0]++;\n          cov_vqfe50xga().s[108]++;\n          return 'draw';\n        } else {\n          cov_vqfe50xga().b[24][1]++;\n          cov_vqfe50xga().s[109]++;\n          return 'you lost';\n        }\n      }\n    } else {\n      cov_vqfe50xga().b[21][1]++;\n      cov_vqfe50xga().s[110]++;\n\n      // Local game\n      switch (this.props.ctx.gameover) {\n        case 'w':\n          cov_vqfe50xga().b[25][0]++;\n          cov_vqfe50xga().s[111]++;\n          return 'white won';\n\n        case 'b':\n          cov_vqfe50xga().b[25][1]++;\n          cov_vqfe50xga().s[112]++;\n          return 'black won';\n\n        case 'd':\n          cov_vqfe50xga().b[25][2]++;\n          cov_vqfe50xga().s[113]++;\n          return 'draw';\n      }\n    }\n  }\n\n  _getStatus() {\n    cov_vqfe50xga().f[20]++;\n    // Online Multiplayer or AI\n    const mode = (cov_vqfe50xga().s[114]++, this.props.gameArgs.mode);\n    cov_vqfe50xga().s[115]++;\n\n    if ((cov_vqfe50xga().b[27][0]++, this.props.gameArgs) && ((cov_vqfe50xga().b[27][1]++, mode === GameMode.OnlineFriend) || (cov_vqfe50xga().b[27][2]++, mode === GameMode.AI))) {\n      cov_vqfe50xga().b[26][0]++;\n      cov_vqfe50xga().s[116]++;\n\n      if (this.chess.in_check()) {\n        cov_vqfe50xga().b[28][0]++;\n        cov_vqfe50xga().s[117]++;\n        return 'CHECK';\n      } else {\n        cov_vqfe50xga().b[28][1]++;\n      }\n\n      cov_vqfe50xga().s[118]++;\n\n      if (this.chess.turn() === this.getPlayer()) {\n        cov_vqfe50xga().b[29][0]++;\n        cov_vqfe50xga().s[119]++;\n        return 'YOUR TURN';\n      } else {\n        cov_vqfe50xga().b[29][1]++;\n        cov_vqfe50xga().s[120]++;\n        return 'Waiting for opponent...';\n      }\n    } else {\n      cov_vqfe50xga().b[26][1]++;\n      cov_vqfe50xga().s[121]++;\n\n      // Local game\n      if (this.chess.in_check()) {\n        cov_vqfe50xga().b[30][0]++;\n        cov_vqfe50xga().s[122]++;\n        return 'CHECK';\n      } else {\n        cov_vqfe50xga().b[30][1]++;\n      }\n\n      cov_vqfe50xga().s[123]++;\n\n      switch (this.chess.turn()) {\n        case 'w':\n          cov_vqfe50xga().b[31][0]++;\n          cov_vqfe50xga().s[124]++;\n          return \"White's turn\";\n\n        case 'b':\n          cov_vqfe50xga().b[31][1]++;\n          cov_vqfe50xga().s[125]++;\n          return \"Black's turn\";\n      }\n    }\n  }\n\n  _getInitialCell(square) {\n    cov_vqfe50xga().f[21]++;\n    const history = (cov_vqfe50xga().s[126]++, this._fixHistory(this.chess.history({\n      verbose: true\n    })));\n    let lastSeen = (cov_vqfe50xga().s[127]++, square);\n    cov_vqfe50xga().s[128]++;\n\n    for (let i = (cov_vqfe50xga().s[129]++, history.length - 1); i >= 0; i--) {\n      const move = (cov_vqfe50xga().s[130]++, history[i]);\n      cov_vqfe50xga().s[131]++;\n\n      if (lastSeen === move.to) {\n        cov_vqfe50xga().b[32][0]++;\n        cov_vqfe50xga().s[132]++;\n        lastSeen = move.from;\n      } else {\n        cov_vqfe50xga().b[32][1]++;\n      }\n    }\n\n    cov_vqfe50xga().s[133]++;\n    return lastSeen;\n  } // Castling only contains one move, leading to wrong initial cell.\n\n\n  _fixHistory(history) {\n    cov_vqfe50xga().f[22]++;\n    const result = (cov_vqfe50xga().s[134]++, []);\n    cov_vqfe50xga().s[135]++;\n\n    for (const move of history) {\n      let newMove = (cov_vqfe50xga().s[136]++, null);\n      cov_vqfe50xga().s[137]++;\n\n      if (move.san === 'O-O-O') {\n        cov_vqfe50xga().b[33][0]++;\n        cov_vqfe50xga().s[138]++;\n\n        if (move.color === 'w') {\n          cov_vqfe50xga().b[34][0]++;\n          cov_vqfe50xga().s[139]++;\n          newMove = {\n            from: 'a1',\n            to: 'd1'\n          };\n        } else {\n          cov_vqfe50xga().b[34][1]++;\n          cov_vqfe50xga().s[140]++;\n          newMove = {\n            from: 'a8',\n            to: 'd8'\n          };\n        }\n      } else {\n        cov_vqfe50xga().b[33][1]++;\n        cov_vqfe50xga().s[141]++;\n\n        if (move.san === 'O-O') {\n          cov_vqfe50xga().b[35][0]++;\n          cov_vqfe50xga().s[142]++;\n\n          if (move.color === 'w') {\n            cov_vqfe50xga().b[36][0]++;\n            cov_vqfe50xga().s[143]++;\n            newMove = {\n              from: 'h1',\n              to: 'f1'\n            };\n          } else {\n            cov_vqfe50xga().b[36][1]++;\n            cov_vqfe50xga().s[144]++;\n            newMove = {\n              from: 'h8',\n              to: 'f8'\n            };\n          }\n        } else {\n          cov_vqfe50xga().b[35][1]++;\n        }\n      }\n\n      cov_vqfe50xga().s[145]++;\n      result.push(move);\n      cov_vqfe50xga().s[146]++;\n\n      if (newMove) {\n        cov_vqfe50xga().b[37][0]++;\n        cov_vqfe50xga().s[147]++;\n        result.push(newMove);\n      } else {\n        cov_vqfe50xga().b[37][1]++;\n      }\n    }\n\n    cov_vqfe50xga().s[148]++;\n    return result;\n  }\n\n  _isSelectable(square) {\n    cov_vqfe50xga().f[23]++;\n    const piece = (cov_vqfe50xga().s[149]++, this.chess.get(square));\n    cov_vqfe50xga().s[150]++;\n    return (cov_vqfe50xga().b[38][0]++, piece) && (cov_vqfe50xga().b[38][1]++, piece.color === this._getCurrentPlayer()) && (cov_vqfe50xga().b[38][2]++, this.chess.moves({\n      square\n    }).length > 0);\n  }\n\n  _getCurrentPlayer() {\n    cov_vqfe50xga().f[24]++;\n    cov_vqfe50xga().s[151]++;\n\n    if (this.props.ctx.currentPlayer === '0') {\n      cov_vqfe50xga().b[39][0]++;\n      cov_vqfe50xga().s[152]++;\n      return 'w';\n    } else {\n      cov_vqfe50xga().b[39][1]++;\n      cov_vqfe50xga().s[153]++;\n      return 'b';\n    }\n  }\n\n  _getMoves() {\n    cov_vqfe50xga().f[25]++;\n    cov_vqfe50xga().s[154]++;\n\n    if (!this.state.selected) {\n      cov_vqfe50xga().b[40][0]++;\n      cov_vqfe50xga().s[155]++;\n      return [];\n    } else {\n      cov_vqfe50xga().b[40][1]++;\n    }\n\n    cov_vqfe50xga().s[156]++;\n    return this.chess.moves({\n      verbose: true,\n      square: this.state.selected\n    });\n  }\n\n}","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/games/chess/board.tsx"],"names":["React","Chess","Checkerboard","cartesianToAlgebraic","Token","GameLayout","GameMode","Bishop","King","Knight","Pawn","Queen","Rook","playSound","Typography","COL_NAMES","HIGHLIGHTED_COLOR","MOVABLE_COLOR","MOVED_COLOR","Board","Component","selected","highlighted","dragged","soundEnabled","coords","square","props","isActive","state","_isSelectable","setState","_tryMove","x","y","result","_getInitialCell","data","originalX","originalY","Math","sqrt","_getSquare","oldState","_setSoundPref","_getSoundPref","curSoundPref","newSoundPref","option","onClick","_toggleSoundPref","text","options","render","G","pgn","chess","load_pgn","ctx","gameover","gameOverBoard","width","height","marginLeft","marginRight","getPlayer","undefined","_getPieces","_getGameOver","gameArgs","_getOptionsMenuItems","textAlign","color","marginBottom","_getStatus","_getHighlightedSquares","_click","playerID","from","to","moves","_getMoves","move","find","m","san","history","_fixHistory","verbose","length","lastMove","_getCurrentPlayer","_getInRange","max","min","round","piece","get","token","_shouldDrag","_onDrag","_onDrop","_getPieceByTypeAndColor","type","push","concat","mode","OnlineFriend","AI","in_check","turn","lastSeen","i","newMove","currentPlayer"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["/*\n * Copyright 2018 The @freeboardgame.org/boardgame.io Authors.\n *\n * Use of this source code is governed by a MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\n\nimport React from 'react';\n\nimport Chess from './chessjswrapper';\nimport {\n  Checkerboard,\n  IAlgebraicCoords,\n  ICartesianCoords,\n  IColorMap,\n  cartesianToAlgebraic,\n  IOnDragData,\n} from '../common/Checkerboard';\nimport { Token } from 'ui';\nimport { IGameArgs } from 'components/App/Game/GameBoardWrapper';\nimport { GameLayout } from 'components/App/Game/GameLayout';\nimport { GameMode } from 'components/App/Game/GameModePicker';\nimport Bishop from './pieces/bishop';\nimport King from './pieces/king';\nimport Knight from './pieces/knight';\nimport Pawn from './pieces/pawn';\nimport Queen from './pieces/queen';\nimport Rook from './pieces/rook';\nimport { playSound } from './sound';\nimport { IOptionsItems } from 'components/App/Game/GameDarkSublayout';\nimport Typography from '@material-ui/core/Typography';\n\nconst COL_NAMES = 'abcdefgh';\nconst HIGHLIGHTED_COLOR = 'green';\nconst MOVABLE_COLOR = 'palegreen';\nconst MOVED_COLOR = '#CCE5FF';\n\ninterface IBoardProps {\n  G: any;\n  ctx: any;\n  moves: any;\n  step: any;\n  playerID: string;\n  isActive: boolean;\n  isConnected: boolean;\n  gameArgs: IGameArgs;\n}\n\nexport class Board extends React.Component<IBoardProps, {}> {\n  chess = Chess();\n  state = {\n    selected: '',\n    highlighted: '',\n    dragged: '',\n    soundEnabled: true,\n  };\n\n  render() {\n    if (this.props.G.pgn) {\n      this.chess.load_pgn(this.props.G.pgn);\n    }\n    if (this.props.ctx.gameover) {\n      const gameOverBoard = (\n        <div style={{ width: '50%', height: '50%', marginLeft: 'auto', marginRight: 'auto' }}>\n          <Checkerboard invert={this.getPlayer() === 'b'} onClick={(): undefined => undefined}>\n            {this._getPieces()}\n          </Checkerboard>\n        </div>\n      );\n      return (\n        <GameLayout gameOver={this._getGameOver()} gameArgs={this.props.gameArgs} extraCardContent={gameOverBoard} />\n      );\n    }\n    return (\n      <GameLayout optionsMenuItems={this._getOptionsMenuItems} gameArgs={this.props.gameArgs}>\n        <Typography variant=\"h5\" style={{ textAlign: 'center', color: 'white', marginBottom: '16px' }}>\n          {this._getStatus()}\n        </Typography>\n        <Checkerboard\n          invert={this.getPlayer() === 'b'}\n          highlightedSquares={this._getHighlightedSquares()}\n          onClick={this._click}\n        >\n          {this._getPieces()}\n        </Checkerboard>\n      </GameLayout>\n    );\n  }\n\n  getPlayer(): 'w' | 'b' {\n    if (this.props.playerID === '1') {\n      return 'b';\n    } else {\n      return 'w';\n    }\n  }\n\n  _click = (coords: IAlgebraicCoords) => {\n    const { square } = coords;\n    if (!this.props.isActive) {\n      return;\n    }\n\n    if (!this.state.selected && this._isSelectable(square)) {\n      this.setState({ ...this.state, selected: square, highlighted: square });\n    } else if (this.state.selected) {\n      this._tryMove(this.state.selected, square);\n    }\n  };\n\n  _tryMove(from: string, to: string) {\n    const moves = this._getMoves();\n    // check if this is a valid move\n    const move = moves.find((m) => m.from === from && m.to === to);\n    if (move) {\n      // actually make the move\n      this.props.moves.move(move.san);\n      if (this._getSoundPref()) {\n        playSound();\n      }\n    }\n    // clear the selection and highlighted piece\n    this.setState({ ...this.state, selected: '', highlighted: '' });\n  }\n\n  _shouldDrag = (coords: ICartesianCoords) => {\n    const x = coords.x;\n    const y = coords.y;\n    const square = cartesianToAlgebraic(x, y);\n    const result = this.props.isActive && this._isSelectable(square);\n    if (result) {\n      this.setState({\n        ...this.state,\n        dragged: this._getInitialCell(square),\n      });\n      return true;\n    }\n  };\n\n  _onDrag = (data: IOnDragData) => {\n    const x = data.x;\n    const y = data.y;\n    const originalX = data.originalX;\n    const originalY = data.originalY;\n    if (Math.sqrt((x - originalX) ** 2 + (y - originalY) ** 2) > 0.2) {\n      this.setState({\n        ...this.state,\n        selected: this._getSquare(originalX, originalY),\n        highlighted: this._getSquare(x, y),\n      });\n    } else {\n      this.setState({\n        ...this.state,\n        selected: '',\n        highlighted: '',\n      });\n    }\n  };\n\n  _onDrop = (coords: ICartesianCoords) => {\n    const x = coords.x;\n    const y = coords.y;\n    if (this.state.selected) {\n      this.setState({ ...this.state, dragged: '' });\n      this._tryMove(this.state.selected, this._getSquare(x, y));\n    }\n  };\n\n  _getHighlightedSquares() {\n    const result = {} as IColorMap;\n    const history = this._fixHistory(this.chess.history({ verbose: true }));\n    if (history.length > 0) {\n      const lastMove = history[history.length - 1];\n      if (this._getCurrentPlayer() !== lastMove.color) {\n        result[lastMove.from] = MOVED_COLOR;\n        result[lastMove.to] = MOVED_COLOR;\n      }\n    }\n    for (const move of this._getMoves()) {\n      result[move.to] = MOVABLE_COLOR;\n    }\n    if (this.state.highlighted) {\n      result[this.state.highlighted] = HIGHLIGHTED_COLOR;\n    }\n    return result;\n  }\n\n  _getSquare(x: number, y: number) {\n    return cartesianToAlgebraic(this._getInRange(x), this._getInRange(y));\n  }\n\n  _getInRange(x: number) {\n    return Math.max(Math.min(Math.round(x), 7), 0);\n  }\n\n  _getPieces() {\n    const dragged = [];\n    const result = [];\n    for (let y = 1; y <= 8; y++) {\n      for (let x = 0; x < 8; x++) {\n        const square = COL_NAMES[x] + y;\n        const piece = this.chess.get(square);\n        if (piece) {\n          const token = (\n            <Token\n              draggable={true}\n              shouldDrag={this._shouldDrag}\n              onDrag={this._onDrag}\n              onDrop={this._onDrop}\n              square={square}\n              animate={true}\n              key={this._getInitialCell(square)}\n            >\n              {this._getPieceByTypeAndColor(piece.type, piece.color)}\n            </Token>\n          );\n          if (square === this.state.dragged) {\n            result.push(token);\n          } else {\n            dragged.push(token);\n          }\n        }\n      }\n    }\n    return dragged.concat(result);\n  }\n\n  _setSoundPref = (soundEnabled: boolean) => {\n    this.setState((oldState) => {\n      return { ...oldState, soundEnabled };\n    });\n  };\n\n  _toggleSoundPref = () => {\n    this._setSoundPref(!this._getSoundPref());\n  };\n\n  _getSoundPref = () => {\n    return this.state.soundEnabled;\n  };\n\n  _getOptionsMenuItems = () => {\n    const curSoundPref = this._getSoundPref();\n    const newSoundPref = !curSoundPref;\n    const option: IOptionsItems = {\n      onClick: this._toggleSoundPref,\n      text: `${newSoundPref ? 'Enable' : 'Disable'} sound`,\n    };\n    const options = [option];\n    return options;\n  };\n\n  _getPieceByTypeAndColor(type: string, color: string) {\n    switch (type) {\n      case 'b':\n        return <Bishop color={color} />;\n      case 'k':\n        return <King color={color} />;\n      case 'n':\n        return <Knight color={color} />;\n      case 'p':\n        return <Pawn color={color} />;\n      case 'q':\n        return <Queen color={color} />;\n      case 'r':\n        return <Rook color={color} />;\n    }\n  }\n\n  _getGameOver() {\n    const gameArgs = this.props.gameArgs;\n    const mode = gameArgs.mode;\n    if (mode === GameMode.OnlineFriend || mode === GameMode.AI) {\n      if (this.props.ctx.gameover === this.getPlayer()) {\n        return 'you won';\n      } else if (this.props.ctx.gameover === 'd') {\n        return 'draw';\n      } else {\n        return 'you lost';\n      }\n    } else {\n      // Local game\n      switch (this.props.ctx.gameover) {\n        case 'w':\n          return 'white won';\n        case 'b':\n          return 'black won';\n        case 'd':\n          return 'draw';\n      }\n    }\n  }\n\n  _getStatus() {\n    // Online Multiplayer or AI\n    const mode = this.props.gameArgs.mode;\n    if (this.props.gameArgs && (mode === GameMode.OnlineFriend || mode === GameMode.AI)) {\n      if (this.chess.in_check()) {\n        return 'CHECK';\n      }\n      if (this.chess.turn() === this.getPlayer()) {\n        return 'YOUR TURN';\n      } else {\n        return 'Waiting for opponent...';\n      }\n    } else {\n      // Local game\n      if (this.chess.in_check()) {\n        return 'CHECK';\n      }\n      switch (this.chess.turn()) {\n        case 'w':\n          return \"White's turn\";\n        case 'b':\n          return \"Black's turn\";\n      }\n    }\n  }\n\n  _getInitialCell(square: string) {\n    const history = this._fixHistory(this.chess.history({ verbose: true }));\n    let lastSeen = square;\n    for (let i = history.length - 1; i >= 0; i--) {\n      const move = history[i];\n      if (lastSeen === move.to) {\n        lastSeen = move.from;\n      }\n    }\n    return lastSeen;\n  }\n\n  // Castling only contains one move, leading to wrong initial cell.\n  _fixHistory(history: any) {\n    const result = [];\n    for (const move of history) {\n      let newMove = null;\n      if (move.san === 'O-O-O') {\n        if (move.color === 'w') {\n          newMove = { from: 'a1', to: 'd1' };\n        } else {\n          newMove = { from: 'a8', to: 'd8' };\n        }\n      } else if (move.san === 'O-O') {\n        if (move.color === 'w') {\n          newMove = { from: 'h1', to: 'f1' };\n        } else {\n          newMove = { from: 'h8', to: 'f8' };\n        }\n      }\n      result.push(move);\n      if (newMove) {\n        result.push(newMove);\n      }\n    }\n    return result;\n  }\n\n  _isSelectable(square: string) {\n    const piece = this.chess.get(square);\n    return piece && piece.color === this._getCurrentPlayer() && this.chess.moves({ square }).length > 0;\n  }\n\n  _getCurrentPlayer() {\n    if (this.props.ctx.currentPlayer === '0') {\n      return 'w';\n    } else {\n      return 'b';\n    }\n  }\n\n  _getMoves() {\n    if (!this.state.selected) {\n      return [];\n    }\n    return this.chess.moves({\n      verbose: true,\n      square: this.state.selected,\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}