{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction cov_1qo5p9y9en() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/games/takesix/board.tsx\";\n  var hash = \"ceba9fb5cd74d94cb26984a100fa510979f9d9d2\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/games/takesix/board.tsx\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 26,\n          column: 16\n        },\n        end: {\n          line: 31,\n          column: 3\n        }\n      },\n      \"1\": {\n        start: {\n          line: 27,\n          column: 4\n        },\n        end: {\n          line: 29,\n          column: 5\n        }\n      },\n      \"2\": {\n        start: {\n          line: 28,\n          column: 6\n        },\n        end: {\n          line: 28,\n          column: 13\n        }\n      },\n      \"3\": {\n        start: {\n          line: 30,\n          column: 4\n        },\n        end: {\n          line: 30,\n          column: 36\n        }\n      },\n      \"4\": {\n        start: {\n          line: 33,\n          column: 16\n        },\n        end: {\n          line: 42,\n          column: 3\n        }\n      },\n      \"5\": {\n        start: {\n          line: 34,\n          column: 4\n        },\n        end: {\n          line: 40,\n          column: 5\n        }\n      },\n      \"6\": {\n        start: {\n          line: 39,\n          column: 6\n        },\n        end: {\n          line: 39,\n          column: 13\n        }\n      },\n      \"7\": {\n        start: {\n          line: 41,\n          column: 4\n        },\n        end: {\n          line: 41,\n          column: 36\n        }\n      },\n      \"8\": {\n        start: {\n          line: 45,\n          column: 4\n        },\n        end: {\n          line: 47,\n          column: 5\n        }\n      },\n      \"9\": {\n        start: {\n          line: 46,\n          column: 6\n        },\n        end: {\n          line: 46,\n          column: 13\n        }\n      },\n      \"10\": {\n        start: {\n          line: 48,\n          column: 4\n        },\n        end: {\n          line: 50,\n          column: 5\n        }\n      },\n      \"11\": {\n        start: {\n          line: 49,\n          column: 6\n        },\n        end: {\n          line: 49,\n          column: 39\n        }\n      },\n      \"12\": {\n        start: {\n          line: 51,\n          column: 4\n        },\n        end: {\n          line: 55,\n          column: 5\n        }\n      },\n      \"13\": {\n        start: {\n          line: 52,\n          column: 6\n        },\n        end: {\n          line: 52,\n          column: 27\n        }\n      },\n      \"14\": {\n        start: {\n          line: 54,\n          column: 6\n        },\n        end: {\n          line: 54,\n          column: 28\n        }\n      },\n      \"15\": {\n        start: {\n          line: 59,\n          column: 4\n        },\n        end: {\n          line: 66,\n          column: 5\n        }\n      },\n      \"16\": {\n        start: {\n          line: 60,\n          column: 6\n        },\n        end: {\n          line: 63,\n          column: 8\n        }\n      },\n      \"17\": {\n        start: {\n          line: 65,\n          column: 6\n        },\n        end: {\n          line: 65,\n          column: 66\n        }\n      },\n      \"18\": {\n        start: {\n          line: 70,\n          column: 4\n        },\n        end: {\n          line: 78,\n          column: 5\n        }\n      },\n      \"19\": {\n        start: {\n          line: 71,\n          column: 6\n        },\n        end: {\n          line: 75,\n          column: 7\n        }\n      },\n      \"20\": {\n        start: {\n          line: 72,\n          column: 8\n        },\n        end: {\n          line: 72,\n          column: 25\n        }\n      },\n      \"21\": {\n        start: {\n          line: 74,\n          column: 8\n        },\n        end: {\n          line: 74,\n          column: 26\n        }\n      },\n      \"22\": {\n        start: {\n          line: 77,\n          column: 6\n        },\n        end: {\n          line: 77,\n          column: 20\n        }\n      },\n      \"23\": {\n        start: {\n          line: 82,\n          column: 4\n        },\n        end: {\n          line: 89,\n          column: 6\n        }\n      },\n      \"24\": {\n        start: {\n          line: 93,\n          column: 4\n        },\n        end: {\n          line: 101,\n          column: 5\n        }\n      },\n      \"25\": {\n        start: {\n          line: 94,\n          column: 6\n        },\n        end: {\n          line: 100,\n          column: 8\n        }\n      },\n      \"26\": {\n        start: {\n          line: 103,\n          column: 4\n        },\n        end: {\n          line: 117,\n          column: 6\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 26,\n            column: 16\n          },\n          end: {\n            line: 26,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 26,\n            column: 38\n          },\n          end: {\n            line: 31,\n            column: 3\n          }\n        },\n        line: 26\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 33,\n            column: 16\n          },\n          end: {\n            line: 33,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 33,\n            column: 32\n          },\n          end: {\n            line: 42,\n            column: 3\n          }\n        },\n        line: 33\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 44,\n            column: 2\n          },\n          end: {\n            line: 44,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 44,\n            column: 15\n          },\n          end: {\n            line: 56,\n            column: 3\n          }\n        },\n        line: 44\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 58,\n            column: 2\n          },\n          end: {\n            line: 58,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 58,\n            column: 13\n          },\n          end: {\n            line: 67,\n            column: 3\n          }\n        },\n        line: 58\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 69,\n            column: 2\n          },\n          end: {\n            line: 69,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 69,\n            column: 17\n          },\n          end: {\n            line: 79,\n            column: 3\n          }\n        },\n        line: 69\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 81,\n            column: 2\n          },\n          end: {\n            line: 81,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 81,\n            column: 19\n          },\n          end: {\n            line: 90,\n            column: 3\n          }\n        },\n        line: 81\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 92,\n            column: 2\n          },\n          end: {\n            line: 92,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 92,\n            column: 11\n          },\n          end: {\n            line: 118,\n            column: 3\n          }\n        },\n        line: 92\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 27,\n            column: 4\n          },\n          end: {\n            line: 29,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 27,\n            column: 4\n          },\n          end: {\n            line: 29,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 27,\n            column: 4\n          },\n          end: {\n            line: 29,\n            column: 5\n          }\n        }],\n        line: 27\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 27,\n            column: 8\n          },\n          end: {\n            line: 27,\n            column: 66\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 27,\n            column: 8\n          },\n          end: {\n            line: 27,\n            column: 24\n          }\n        }, {\n          start: {\n            line: 27,\n            column: 28\n          },\n          end: {\n            line: 27,\n            column: 66\n          }\n        }],\n        line: 27\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 34,\n            column: 4\n          },\n          end: {\n            line: 40,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 34,\n            column: 4\n          },\n          end: {\n            line: 40,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 34,\n            column: 4\n          },\n          end: {\n            line: 40,\n            column: 5\n          }\n        }],\n        line: 34\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 35,\n            column: 6\n          },\n          end: {\n            line: 37,\n            column: 59\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 35,\n            column: 6\n          },\n          end: {\n            line: 35,\n            column: 22\n          }\n        }, {\n          start: {\n            line: 36,\n            column: 6\n          },\n          end: {\n            line: 36,\n            column: 44\n          }\n        }, {\n          start: {\n            line: 37,\n            column: 6\n          },\n          end: {\n            line: 37,\n            column: 59\n          }\n        }],\n        line: 35\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 45,\n            column: 4\n          },\n          end: {\n            line: 47,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 45,\n            column: 4\n          },\n          end: {\n            line: 47,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 45,\n            column: 4\n          },\n          end: {\n            line: 47,\n            column: 5\n          }\n        }],\n        line: 45\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 48,\n            column: 4\n          },\n          end: {\n            line: 50,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 48,\n            column: 4\n          },\n          end: {\n            line: 50,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 48,\n            column: 4\n          },\n          end: {\n            line: 50,\n            column: 5\n          }\n        }],\n        line: 48\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 51,\n            column: 4\n          },\n          end: {\n            line: 55,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 51,\n            column: 4\n          },\n          end: {\n            line: 55,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 51,\n            column: 4\n          },\n          end: {\n            line: 55,\n            column: 5\n          }\n        }],\n        line: 51\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 59,\n            column: 4\n          },\n          end: {\n            line: 66,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 59,\n            column: 4\n          },\n          end: {\n            line: 66,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 59,\n            column: 4\n          },\n          end: {\n            line: 66,\n            column: 5\n          }\n        }],\n        line: 59\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 61,\n            column: 8\n          },\n          end: {\n            line: 62,\n            column: 80\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 61,\n            column: 8\n          },\n          end: {\n            line: 61,\n            column: 45\n          }\n        }, {\n          start: {\n            line: 62,\n            column: 8\n          },\n          end: {\n            line: 62,\n            column: 80\n          }\n        }],\n        line: 61\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 70,\n            column: 4\n          },\n          end: {\n            line: 78,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 70,\n            column: 4\n          },\n          end: {\n            line: 78,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 70,\n            column: 4\n          },\n          end: {\n            line: 78,\n            column: 5\n          }\n        }],\n        line: 70\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 71,\n            column: 6\n          },\n          end: {\n            line: 75,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 71,\n            column: 6\n          },\n          end: {\n            line: 75,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 71,\n            column: 6\n          },\n          end: {\n            line: 75,\n            column: 7\n          }\n        }],\n        line: 71\n      },\n      \"11\": {\n        loc: {\n          start: {\n            line: 93,\n            column: 4\n          },\n          end: {\n            line: 101,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 93,\n            column: 4\n          },\n          end: {\n            line: 101,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 93,\n            column: 4\n          },\n          end: {\n            line: 101,\n            column: 5\n          }\n        }],\n        line: 93\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0],\n      \"11\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"ceba9fb5cd74d94cb26984a100fa510979f9d9d2\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_1qo5p9y9en = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_1qo5p9y9en();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport * as React from 'react';\nimport { GameLayout } from 'components/App/Game/GameLayout';\nimport { getScoreBoard, isAllowedDeck } from './game';\nimport { Decks } from './Decks';\nimport { PlayerHand } from './PlayerHand';\nimport { Scoreboard } from '../common/Scoreboard';\nimport { ScoreBadges } from '../common/ScoreBadges';\nimport Typography from '@material-ui/core/Typography';\nexport class Board extends (React.Component) {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"_selectCard\", (cov_1qo5p9y9en().s[0]++, async id => {\n      cov_1qo5p9y9en().f[0]++;\n      cov_1qo5p9y9en().s[1]++;\n\n      if ((cov_1qo5p9y9en().b[1][0]++, !this._canPlay()) || (cov_1qo5p9y9en().b[1][1]++, this.props.ctx.phase !== 'CARD_SELECT')) {\n        cov_1qo5p9y9en().b[0][0]++;\n        cov_1qo5p9y9en().s[2]++;\n        return;\n      } else {\n        cov_1qo5p9y9en().b[0][1]++;\n      }\n\n      cov_1qo5p9y9en().s[3]++;\n      this.props.moves.selectCard(id);\n    }));\n\n    _defineProperty(this, \"_selectDeck\", (cov_1qo5p9y9en().s[4]++, id => {\n      cov_1qo5p9y9en().f[1]++;\n      cov_1qo5p9y9en().s[5]++;\n\n      if ((cov_1qo5p9y9en().b[3][0]++, !this._canPlay()) || (cov_1qo5p9y9en().b[3][1]++, this.props.ctx.phase !== 'DECK_SELECT') || (cov_1qo5p9y9en().b[3][2]++, !isAllowedDeck(this.props.G, id, this.props.playerID))) {\n        cov_1qo5p9y9en().b[2][0]++;\n        cov_1qo5p9y9en().s[6]++;\n        return;\n      } else {\n        cov_1qo5p9y9en().b[2][1]++;\n      }\n\n      cov_1qo5p9y9en().s[7]++;\n      this.props.moves.selectDeck(id);\n    }));\n  }\n\n  _getStatus() {\n    cov_1qo5p9y9en().f[2]++;\n    cov_1qo5p9y9en().s[8]++;\n\n    if (!this.props.gameArgs) {\n      cov_1qo5p9y9en().b[4][0]++;\n      cov_1qo5p9y9en().s[9]++;\n      return;\n    } else {\n      cov_1qo5p9y9en().b[4][1]++;\n    }\n\n    cov_1qo5p9y9en().s[10]++;\n\n    if (!this._canPlay()) {\n      cov_1qo5p9y9en().b[5][0]++;\n      cov_1qo5p9y9en().s[11]++;\n      return 'Waiting for opponent...';\n    } else {\n      cov_1qo5p9y9en().b[5][1]++;\n    }\n\n    cov_1qo5p9y9en().s[12]++;\n\n    if (this.props.ctx.phase === 'CARD_SELECT') {\n      cov_1qo5p9y9en().b[6][0]++;\n      cov_1qo5p9y9en().s[13]++;\n      return 'SELECT CARD';\n    } else {\n      cov_1qo5p9y9en().b[6][1]++;\n      cov_1qo5p9y9en().s[14]++;\n      return 'SELECT BOARD';\n    }\n  }\n\n  _canPlay() {\n    cov_1qo5p9y9en().f[3]++;\n    cov_1qo5p9y9en().s[15]++;\n\n    if (this.props.ctx.phase === 'CARD_SELECT') {\n      var _Object$keys;\n\n      cov_1qo5p9y9en().b[7][0]++;\n      cov_1qo5p9y9en().s[16]++;\n      return (cov_1qo5p9y9en().b[8][0]++, this.props.ctx.activePlayers !== null) && (cov_1qo5p9y9en().b[8][1]++, (_Object$keys = Object.keys(this.props.ctx.activePlayers)) === null || _Object$keys === void 0 ? void 0 : _Object$keys.includes(this.props.playerID));\n    } else {\n      cov_1qo5p9y9en().b[7][1]++;\n      cov_1qo5p9y9en().s[17]++;\n      return this.props.playerID === this.props.ctx.currentPlayer;\n    }\n  }\n\n  _getGameOver() {\n    cov_1qo5p9y9en().f[4]++;\n    cov_1qo5p9y9en().s[18]++;\n\n    if (this.props.ctx.gameover.winner !== undefined) {\n      cov_1qo5p9y9en().b[9][0]++;\n      cov_1qo5p9y9en().s[19]++;\n\n      if (this.props.ctx.gameover.winner === this.props.playerID) {\n        cov_1qo5p9y9en().b[10][0]++;\n        cov_1qo5p9y9en().s[20]++;\n        return 'you won';\n      } else {\n        cov_1qo5p9y9en().b[10][1]++;\n        cov_1qo5p9y9en().s[21]++;\n        return 'you lost';\n      }\n    } else {\n      cov_1qo5p9y9en().b[9][1]++;\n      cov_1qo5p9y9en().s[22]++;\n      return 'draw';\n    }\n  }\n\n  _getScoreBoard() {\n    cov_1qo5p9y9en().f[5]++;\n    cov_1qo5p9y9en().s[23]++;\n    return __jsx(Scoreboard, {\n      scoreboard: getScoreBoard(this.props.G),\n      playerID: this.props.playerID,\n      players: this.props.gameArgs.players,\n      scoreName: \"Penalty points\"\n    });\n  }\n\n  render() {\n    cov_1qo5p9y9en().f[6]++;\n    cov_1qo5p9y9en().s[24]++;\n\n    if (this.props.ctx.gameover) {\n      cov_1qo5p9y9en().b[11][0]++;\n      cov_1qo5p9y9en().s[25]++;\n      return __jsx(GameLayout, {\n        gameOver: this._getGameOver(),\n        extraCardContent: this._getScoreBoard(),\n        gameArgs: this.props.gameArgs\n      });\n    } else {\n      cov_1qo5p9y9en().b[11][1]++;\n    }\n\n    cov_1qo5p9y9en().s[26]++;\n    return __jsx(GameLayout, {\n      gameArgs: this.props.gameArgs\n    }, __jsx(Typography, {\n      variant: \"h5\",\n      style: {\n        textAlign: 'center',\n        color: 'white',\n        marginBottom: '16px'\n      }\n    }, this._getStatus()), __jsx(Decks, {\n      G: this.props.G,\n      ctx: this.props.ctx,\n      playerID: this.props.playerID,\n      selectDeck: this._selectDeck\n    }), __jsx(PlayerHand, {\n      G: this.props.G,\n      playerID: this.props.playerID,\n      selectCard: this._selectCard\n    }), __jsx(ScoreBadges, {\n      scoreboard: getScoreBoard(this.props.G),\n      playerID: this.props.playerID,\n      players: this.props.gameArgs.players,\n      ctx: this.props.ctx\n    }));\n  }\n\n}\nexport default Board;","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/games/takesix/board.tsx"],"names":["React","GameLayout","getScoreBoard","isAllowedDeck","Decks","PlayerHand","Scoreboard","ScoreBadges","Typography","Board","Component","id","_canPlay","props","ctx","phase","moves","selectCard","G","playerID","selectDeck","_getStatus","gameArgs","activePlayers","Object","keys","includes","currentPlayer","_getGameOver","gameover","winner","undefined","_getScoreBoard","players","render","textAlign","color","marginBottom","_selectDeck","_selectCard"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport { IGameArgs } from 'components/App/Game/GameBoardWrapper';\nimport { GameLayout } from 'components/App/Game/GameLayout';\nimport { IGameCtx } from 'boardgame.io/core';\nimport { IG, getScoreBoard, isAllowedDeck } from './game';\nimport { Decks } from './Decks';\nimport { PlayerHand } from './PlayerHand';\nimport { Scoreboard } from '../common/Scoreboard';\nimport { ScoreBadges } from '../common/ScoreBadges';\nimport Typography from '@material-ui/core/Typography';\n\ninterface IBoardProps {\n  G: IG;\n  ctx: IGameCtx;\n  moves: any;\n  step?: any;\n  playerID: string;\n  gameArgs?: IGameArgs;\n}\n\ninterface IBoardState {\n  aiSecondDeck: boolean;\n}\n\nexport class Board extends React.Component<IBoardProps, IBoardState> {\n  _selectCard = async (id: number) => {\n    if (!this._canPlay() || this.props.ctx.phase !== 'CARD_SELECT') {\n      return;\n    }\n    this.props.moves.selectCard(id);\n  };\n\n  _selectDeck = (id: number) => {\n    if (\n      !this._canPlay() ||\n      this.props.ctx.phase !== 'DECK_SELECT' ||\n      !isAllowedDeck(this.props.G, id, this.props.playerID)\n    ) {\n      return;\n    }\n    this.props.moves.selectDeck(id);\n  };\n\n  _getStatus() {\n    if (!this.props.gameArgs) {\n      return;\n    }\n    if (!this._canPlay()) {\n      return 'Waiting for opponent...';\n    }\n    if (this.props.ctx.phase === 'CARD_SELECT') {\n      return 'SELECT CARD';\n    } else {\n      return 'SELECT BOARD';\n    }\n  }\n\n  _canPlay() {\n    if (this.props.ctx.phase === 'CARD_SELECT') {\n      return (\n        this.props.ctx.activePlayers !== null &&\n        Object.keys(this.props.ctx.activePlayers)?.includes(this.props.playerID)\n      );\n    } else {\n      return this.props.playerID === this.props.ctx.currentPlayer;\n    }\n  }\n\n  _getGameOver() {\n    if (this.props.ctx.gameover.winner !== undefined) {\n      if (this.props.ctx.gameover.winner === this.props.playerID) {\n        return 'you won';\n      } else {\n        return 'you lost';\n      }\n    } else {\n      return 'draw';\n    }\n  }\n\n  _getScoreBoard() {\n    return (\n      <Scoreboard\n        scoreboard={getScoreBoard(this.props.G)}\n        playerID={this.props.playerID}\n        players={this.props.gameArgs.players}\n        scoreName=\"Penalty points\"\n      />\n    );\n  }\n\n  render() {\n    if (this.props.ctx.gameover) {\n      return (\n        <GameLayout\n          gameOver={this._getGameOver()}\n          extraCardContent={this._getScoreBoard()}\n          gameArgs={this.props.gameArgs}\n        />\n      );\n    }\n\n    return (\n      <GameLayout gameArgs={this.props.gameArgs}>\n        <Typography variant=\"h5\" style={{ textAlign: 'center', color: 'white', marginBottom: '16px' }}>\n          {this._getStatus()}\n        </Typography>\n        <Decks G={this.props.G} ctx={this.props.ctx} playerID={this.props.playerID} selectDeck={this._selectDeck} />\n        <PlayerHand G={this.props.G} playerID={this.props.playerID} selectCard={this._selectCard} />\n        <ScoreBadges\n          scoreboard={getScoreBoard(this.props.G)}\n          playerID={this.props.playerID}\n          players={this.props.gameArgs.players}\n          ctx={this.props.ctx}\n        />\n      </GameLayout>\n    );\n  }\n}\n\nexport default Board;\n"]},"metadata":{},"sourceType":"module"}