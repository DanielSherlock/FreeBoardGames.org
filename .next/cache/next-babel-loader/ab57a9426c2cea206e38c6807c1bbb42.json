{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction cov_210rsctxo2() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/components/App/Game/GameSharing.tsx\";\n  var hash = \"a186e9042119755411786b173ef04972bd70067a\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/components/App/Game/GameSharing.tsx\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 22,\n          column: 14\n        },\n        end: {\n          line: 26,\n          column: 2\n        }\n      },\n      \"1\": {\n        start: {\n          line: 40,\n          column: 29\n        },\n        end: {\n          line: 40,\n          column: 87\n        }\n      },\n      \"2\": {\n        start: {\n          line: 43,\n          column: 4\n        },\n        end: {\n          line: 43,\n          column: 17\n        }\n      },\n      \"3\": {\n        start: {\n          line: 49,\n          column: 4\n        },\n        end: {\n          line: 55,\n          column: 5\n        }\n      },\n      \"4\": {\n        start: {\n          line: 50,\n          column: 6\n        },\n        end: {\n          line: 50,\n          column: 33\n        }\n      },\n      \"5\": {\n        start: {\n          line: 51,\n          column: 6\n        },\n        end: {\n          line: 51,\n          column: 36\n        }\n      },\n      \"6\": {\n        start: {\n          line: 53,\n          column: 6\n        },\n        end: {\n          line: 53,\n          column: 35\n        }\n      },\n      \"7\": {\n        start: {\n          line: 54,\n          column: 6\n        },\n        end: {\n          line: 54,\n          column: 34\n        }\n      },\n      \"8\": {\n        start: {\n          line: 56,\n          column: 4\n        },\n        end: {\n          line: 100,\n          column: 6\n        }\n      },\n      \"9\": {\n        start: {\n          line: 103,\n          column: 19\n        },\n        end: {\n          line: 110,\n          column: 3\n        }\n      },\n      \"10\": {\n        start: {\n          line: 104,\n          column: 4\n        },\n        end: {\n          line: 108,\n          column: 7\n        }\n      },\n      \"11\": {\n        start: {\n          line: 109,\n          column: 4\n        },\n        end: {\n          line: 109,\n          column: 94\n        }\n      },\n      \"12\": {\n        start: {\n          line: 112,\n          column: 19\n        },\n        end: {\n          line: 119,\n          column: 3\n        }\n      },\n      \"13\": {\n        start: {\n          line: 113,\n          column: 4\n        },\n        end: {\n          line: 117,\n          column: 7\n        }\n      },\n      \"14\": {\n        start: {\n          line: 118,\n          column: 4\n        },\n        end: {\n          line: 118,\n          column: 84\n        }\n      },\n      \"15\": {\n        start: {\n          line: 121,\n          column: 19\n        },\n        end: {\n          line: 130,\n          column: 3\n        }\n      },\n      \"16\": {\n        start: {\n          line: 122,\n          column: 4\n        },\n        end: {\n          line: 126,\n          column: 7\n        }\n      },\n      \"17\": {\n        start: {\n          line: 127,\n          column: 4\n        },\n        end: {\n          line: 127,\n          column: 26\n        }\n      },\n      \"18\": {\n        start: {\n          line: 128,\n          column: 4\n        },\n        end: {\n          line: 128,\n          column: 80\n        }\n      },\n      \"19\": {\n        start: {\n          line: 128,\n          column: 21\n        },\n        end: {\n          line: 128,\n          column: 72\n        }\n      },\n      \"20\": {\n        start: {\n          line: 129,\n          column: 4\n        },\n        end: {\n          line: 129,\n          column: 55\n        }\n      },\n      \"21\": {\n        start: {\n          line: 132,\n          column: 16\n        },\n        end: {\n          line: 139,\n          column: 3\n        }\n      },\n      \"22\": {\n        start: {\n          line: 133,\n          column: 4\n        },\n        end: {\n          line: 137,\n          column: 7\n        }\n      },\n      \"23\": {\n        start: {\n          line: 138,\n          column: 4\n        },\n        end: {\n          line: 138,\n          column: 32\n        }\n      },\n      \"24\": {\n        start: {\n          line: 141,\n          column: 25\n        },\n        end: {\n          line: 146,\n          column: 3\n        }\n      },\n      \"25\": {\n        start: {\n          line: 142,\n          column: 4\n        },\n        end: {\n          line: 144,\n          column: 5\n        }\n      },\n      \"26\": {\n        start: {\n          line: 143,\n          column: 6\n        },\n        end: {\n          line: 143,\n          column: 28\n        }\n      },\n      \"27\": {\n        start: {\n          line: 145,\n          column: 4\n        },\n        end: {\n          line: 145,\n          column: 93\n        }\n      },\n      \"28\": {\n        start: {\n          line: 145,\n          column: 33\n        },\n        end: {\n          line: 145,\n          column: 90\n        }\n      },\n      \"29\": {\n        start: {\n          line: 148,\n          column: 13\n        },\n        end: {\n          line: 153,\n          column: 3\n        }\n      },\n      \"30\": {\n        start: {\n          line: 149,\n          column: 19\n        },\n        end: {\n          line: 149,\n          column: 41\n        }\n      },\n      \"31\": {\n        start: {\n          line: 150,\n          column: 21\n        },\n        end: {\n          line: 150,\n          column: 40\n        }\n      },\n      \"32\": {\n        start: {\n          line: 151,\n          column: 19\n        },\n        end: {\n          line: 151,\n          column: 36\n        }\n      },\n      \"33\": {\n        start: {\n          line: 152,\n          column: 4\n        },\n        end: {\n          line: 152,\n          column: 50\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 42,\n            column: 2\n          },\n          end: {\n            line: 42,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 42,\n            column: 26\n          },\n          end: {\n            line: 44,\n            column: 3\n          }\n        },\n        line: 42\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 46,\n            column: 2\n          },\n          end: {\n            line: 46,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 46,\n            column: 11\n          },\n          end: {\n            line: 101,\n            column: 3\n          }\n        },\n        line: 46\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 103,\n            column: 19\n          },\n          end: {\n            line: 103,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 103,\n            column: 25\n          },\n          end: {\n            line: 110,\n            column: 3\n          }\n        },\n        line: 103\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 112,\n            column: 19\n          },\n          end: {\n            line: 112,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 112,\n            column: 25\n          },\n          end: {\n            line: 119,\n            column: 3\n          }\n        },\n        line: 112\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 121,\n            column: 19\n          },\n          end: {\n            line: 121,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 121,\n            column: 25\n          },\n          end: {\n            line: 130,\n            column: 3\n          }\n        },\n        line: 121\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 128,\n            column: 15\n          },\n          end: {\n            line: 128,\n            column: 16\n          }\n        },\n        loc: {\n          start: {\n            line: 128,\n            column: 21\n          },\n          end: {\n            line: 128,\n            column: 72\n          }\n        },\n        line: 128\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 132,\n            column: 16\n          },\n          end: {\n            line: 132,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 132,\n            column: 22\n          },\n          end: {\n            line: 139,\n            column: 3\n          }\n        },\n        line: 132\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 141,\n            column: 25\n          },\n          end: {\n            line: 141,\n            column: 26\n          }\n        },\n        loc: {\n          start: {\n            line: 141,\n            column: 31\n          },\n          end: {\n            line: 146,\n            column: 3\n          }\n        },\n        line: 141\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 145,\n            column: 18\n          },\n          end: {\n            line: 145,\n            column: 19\n          }\n        },\n        loc: {\n          start: {\n            line: 145,\n            column: 33\n          },\n          end: {\n            line: 145,\n            column: 90\n          }\n        },\n        line: 145\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 148,\n            column: 13\n          },\n          end: {\n            line: 148,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 148,\n            column: 19\n          },\n          end: {\n            line: 153,\n            column: 3\n          }\n        },\n        line: 148\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 49,\n            column: 4\n          },\n          end: {\n            line: 55,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 49,\n            column: 4\n          },\n          end: {\n            line: 55,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 49,\n            column: 4\n          },\n          end: {\n            line: 55,\n            column: 5\n          }\n        }],\n        line: 49\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 59,\n            column: 11\n          },\n          end: {\n            line: 63,\n            column: 18\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 60,\n            column: 12\n          },\n          end: {\n            line: 62,\n            column: 25\n          }\n        }, {\n          start: {\n            line: 63,\n            column: 14\n          },\n          end: {\n            line: 63,\n            column: 18\n          }\n        }],\n        line: 59\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 142,\n            column: 4\n          },\n          end: {\n            line: 144,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 142,\n            column: 4\n          },\n          end: {\n            line: 144,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 142,\n            column: 4\n          },\n          end: {\n            line: 144,\n            column: 5\n          }\n        }],\n        line: 142\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"a186e9042119755411786b173ef04972bd70067a\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_210rsctxo2 = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_210rsctxo2();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport ContentCopyIcon from '@material-ui/icons/FileCopy';\nimport IconButton from '@material-ui/core/IconButton';\nimport FacebookIcon from './FacebookIcon';\nimport WhatsAppIcon from './WhatsAppIcon';\nimport QrCodeIcon from './QrCodeIcon';\nimport copy from 'copy-to-clipboard';\nimport ReactGA from 'react-ga';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport AlertLayer from './AlertLayer';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport { QrCodePopup } from '../Lobby/QrCodePopup';\nimport { lightGreen } from '@material-ui/core/colors';\nvar theme = (cov_210rsctxo2().s[0]++, createMuiTheme({\n  palette: {\n    secondary: lightGreen\n  }\n}));\nexport var GameSharing = /*#__PURE__*/function (_React$Component) {\n  _inherits(GameSharing, _React$Component);\n\n  var _super = _createSuper(GameSharing);\n\n  function GameSharing(props) {\n    var _this;\n\n    _classCallCheck(this, GameSharing);\n\n    cov_210rsctxo2().f[0]++;\n    cov_210rsctxo2().s[2]++;\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", (cov_210rsctxo2().s[1]++, {\n      showingQrCode: false,\n      copyButtonRecentlyPressed: false\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_shareFacebook\", (cov_210rsctxo2().s[9]++, function () {\n      cov_210rsctxo2().f[2]++;\n      cov_210rsctxo2().s[10]++;\n      ReactGA.event({\n        category: 'GameSharing',\n        action: 'shareFacebook',\n        label: _this.props.gameCode\n      });\n      cov_210rsctxo2().s[11]++;\n      window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURI(_this._getLink()));\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_shareWhatsApp\", (cov_210rsctxo2().s[12]++, function () {\n      cov_210rsctxo2().f[3]++;\n      cov_210rsctxo2().s[13]++;\n      ReactGA.event({\n        category: 'GameSharing',\n        action: 'shareWhatsApp',\n        label: _this.props.gameCode\n      });\n      cov_210rsctxo2().s[14]++;\n      window.open('https://api.whatsapp.com/send?text=' + encodeURI(_this._getLink()));\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_copyClipboard\", (cov_210rsctxo2().s[15]++, function () {\n      cov_210rsctxo2().f[4]++;\n      cov_210rsctxo2().s[16]++;\n      ReactGA.event({\n        category: 'GameSharing',\n        action: 'copyClipboard',\n        label: _this.props.gameCode\n      });\n      cov_210rsctxo2().s[17]++;\n      copy(_this._getLink());\n      cov_210rsctxo2().s[18]++;\n      setTimeout(function () {\n        cov_210rsctxo2().f[5]++;\n        cov_210rsctxo2().s[19]++;\n        return _this.setState({\n          copyButtonRecentlyPressed: false\n        });\n      }, 3000);\n      cov_210rsctxo2().s[20]++;\n\n      _this.setState({\n        copyButtonRecentlyPressed: true\n      });\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_showQrCode\", (cov_210rsctxo2().s[21]++, function () {\n      cov_210rsctxo2().f[6]++;\n      cov_210rsctxo2().s[22]++;\n      ReactGA.event({\n        category: 'GameSharing',\n        action: 'showQrCode',\n        label: _this.props.gameCode\n      });\n      cov_210rsctxo2().s[23]++;\n\n      _this._toggleShowingQrCode();\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_toggleShowingQrCode\", (cov_210rsctxo2().s[24]++, function () {\n      cov_210rsctxo2().f[7]++;\n      cov_210rsctxo2().s[25]++;\n\n      if (!_this.state.showingQrCode) {\n        cov_210rsctxo2().b[2][0]++;\n        cov_210rsctxo2().s[26]++;\n        window.scrollTo(0, 0);\n      } else {\n        cov_210rsctxo2().b[2][1]++;\n      }\n\n      cov_210rsctxo2().s[27]++;\n\n      _this.setState(function (oldState) {\n        cov_210rsctxo2().f[8]++;\n        cov_210rsctxo2().s[28]++;\n        return _objectSpread({}, oldState, {\n          showingQrCode: !_this.state.showingQrCode\n        });\n      });\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_getLink\", (cov_210rsctxo2().s[29]++, function () {\n      cov_210rsctxo2().f[9]++;\n      var origin = (cov_210rsctxo2().s[30]++, window.location.origin);\n      var gameCode = (cov_210rsctxo2().s[31]++, _this.props.gameCode);\n      var roomID = (cov_210rsctxo2().s[32]++, _this.props.roomID);\n      cov_210rsctxo2().s[33]++;\n      return \"\".concat(origin, \"/room/\").concat(gameCode, \"/\").concat(roomID);\n    }));\n\n    return _this;\n  }\n\n  _createClass(GameSharing, [{\n    key: \"render\",\n    value: function render() {\n      cov_210rsctxo2().f[1]++;\n      var copyButtonColor;\n      var copyButtonText;\n      cov_210rsctxo2().s[3]++;\n\n      if (this.state.copyButtonRecentlyPressed) {\n        cov_210rsctxo2().b[0][0]++;\n        cov_210rsctxo2().s[4]++;\n        copyButtonText = 'Copied!';\n        cov_210rsctxo2().s[5]++;\n        copyButtonColor = 'secondary';\n      } else {\n        cov_210rsctxo2().b[0][1]++;\n        cov_210rsctxo2().s[6]++;\n        copyButtonText = 'Copy Link';\n        cov_210rsctxo2().s[7]++;\n        copyButtonColor = 'primary';\n      }\n\n      cov_210rsctxo2().s[8]++;\n      return __jsx(MuiThemeProvider, {\n        theme: theme\n      }, __jsx(\"div\", null, this.state.showingQrCode ? (cov_210rsctxo2().b[1][0]++, __jsx(AlertLayer, null, __jsx(QrCodePopup, {\n        url: this._getLink(),\n        toggleQrCode: this._toggleShowingQrCode\n      }))) : (cov_210rsctxo2().b[1][1]++, null), __jsx(Card, null, __jsx(CardContent, null, __jsx(Typography, {\n        style: {\n          paddingBottom: '16px'\n        },\n        variant: \"h5\",\n        component: \"h2\"\n      }, \"Invite Your Friends\"), __jsx(TextField, {\n        style: {\n          width: '100%'\n        },\n        defaultValue: this._getLink(),\n        label: \"Link\"\n      })), __jsx(CardActions, null, __jsx(Tooltip, {\n        title: \"Share on Facebook\",\n        \"aria-label\": \"Facebook\"\n      }, __jsx(IconButton, {\n        onClick: this._shareFacebook\n      }, __jsx(FacebookIcon, null))), __jsx(Tooltip, {\n        title: \"Share on WhatsApp\",\n        \"aria-label\": \"WhatsApp\"\n      }, __jsx(IconButton, {\n        onClick: this._shareWhatsApp\n      }, __jsx(WhatsAppIcon, null))), __jsx(Tooltip, {\n        title: \"Show QR code\",\n        \"aria-label\": \"QR code\"\n      }, __jsx(IconButton, {\n        onClick: this._showQrCode\n      }, __jsx(QrCodeIcon, null))), __jsx(Button, {\n        variant: \"contained\",\n        color: copyButtonColor,\n        onClick: this._copyClipboard,\n        style: {\n          marginLeft: 'auto'\n        }\n      }, __jsx(ContentCopyIcon, {\n        \"aria-label\": \"Copy\",\n        style: {\n          marginRight: '8px'\n        }\n      }), copyButtonText)))));\n    }\n  }]);\n\n  return GameSharing;\n}((React.Component));","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/components/App/Game/GameSharing.tsx"],"names":["React","Card","CardActions","CardContent","Typography","Button","ContentCopyIcon","IconButton","FacebookIcon","WhatsAppIcon","QrCodeIcon","copy","ReactGA","TextField","Tooltip","AlertLayer","createMuiTheme","MuiThemeProvider","QrCodePopup","lightGreen","theme","palette","secondary","GameSharing","props","showingQrCode","copyButtonRecentlyPressed","event","category","action","label","gameCode","window","open","encodeURI","_getLink","setTimeout","setState","_toggleShowingQrCode","state","scrollTo","oldState","origin","location","roomID","copyButtonColor","copyButtonText","paddingBottom","width","_shareFacebook","_shareWhatsApp","_showQrCode","_copyClipboard","marginLeft","marginRight","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport ContentCopyIcon from '@material-ui/icons/FileCopy';\nimport IconButton from '@material-ui/core/IconButton';\nimport FacebookIcon from './FacebookIcon';\nimport WhatsAppIcon from './WhatsAppIcon';\nimport QrCodeIcon from './QrCodeIcon';\nimport copy from 'copy-to-clipboard';\nimport ReactGA from 'react-ga';\nimport TextField from '@material-ui/core/TextField';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { IRoomMetadata } from '../Lobby/LobbyService';\nimport AlertLayer from './AlertLayer';\nimport { createMuiTheme, MuiThemeProvider } from '@material-ui/core/styles';\nimport { QrCodePopup } from '../Lobby/QrCodePopup';\nimport { lightGreen } from '@material-ui/core/colors';\n\nconst theme = createMuiTheme({\n  palette: {\n    secondary: lightGreen,\n  },\n});\n\ninterface IGameSharingProps {\n  gameCode: string;\n  roomID: string;\n  roomMetadata: IRoomMetadata;\n}\n\ninterface IGameSharingState {\n  showingQrCode: boolean;\n  copyButtonRecentlyPressed: boolean;\n}\n\nexport class GameSharing extends React.Component<IGameSharingProps, IGameSharingState> {\n  state: IGameSharingState = { showingQrCode: false, copyButtonRecentlyPressed: false };\n\n  constructor(props: any) {\n    super(props);\n  }\n\n  render() {\n    let copyButtonColor;\n    let copyButtonText;\n    if (this.state.copyButtonRecentlyPressed) {\n      copyButtonText = 'Copied!';\n      copyButtonColor = 'secondary';\n    } else {\n      copyButtonText = 'Copy Link';\n      copyButtonColor = 'primary';\n    }\n    return (\n      <MuiThemeProvider theme={theme}>\n        <div>\n          {this.state.showingQrCode ? (\n            <AlertLayer>\n              <QrCodePopup url={this._getLink()} toggleQrCode={this._toggleShowingQrCode} />\n            </AlertLayer>\n          ) : null}\n          <Card>\n            <CardContent>\n              <Typography style={{ paddingBottom: '16px' }} variant=\"h5\" component=\"h2\">\n                Invite Your Friends\n              </Typography>\n              <TextField style={{ width: '100%' }} defaultValue={this._getLink()} label=\"Link\" />\n            </CardContent>\n            <CardActions>\n              <Tooltip title=\"Share on Facebook\" aria-label=\"Facebook\">\n                <IconButton onClick={this._shareFacebook}>\n                  <FacebookIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Share on WhatsApp\" aria-label=\"WhatsApp\">\n                <IconButton onClick={this._shareWhatsApp}>\n                  <WhatsAppIcon />\n                </IconButton>\n              </Tooltip>\n              <Tooltip title=\"Show QR code\" aria-label=\"QR code\">\n                <IconButton onClick={this._showQrCode}>\n                  <QrCodeIcon />\n                </IconButton>\n              </Tooltip>\n              <Button\n                variant=\"contained\"\n                color={copyButtonColor}\n                onClick={this._copyClipboard}\n                style={{ marginLeft: 'auto' }}\n              >\n                <ContentCopyIcon aria-label=\"Copy\" style={{ marginRight: '8px' }} />\n                {copyButtonText}\n              </Button>\n            </CardActions>\n          </Card>\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n\n  _shareFacebook = () => {\n    ReactGA.event({\n      category: 'GameSharing',\n      action: 'shareFacebook',\n      label: this.props.gameCode,\n    });\n    window.open('https://www.facebook.com/sharer/sharer.php?u=' + encodeURI(this._getLink()));\n  };\n\n  _shareWhatsApp = () => {\n    ReactGA.event({\n      category: 'GameSharing',\n      action: 'shareWhatsApp',\n      label: this.props.gameCode,\n    });\n    window.open('https://api.whatsapp.com/send?text=' + encodeURI(this._getLink()));\n  };\n\n  _copyClipboard = () => {\n    ReactGA.event({\n      category: 'GameSharing',\n      action: 'copyClipboard',\n      label: this.props.gameCode,\n    });\n    copy(this._getLink());\n    setTimeout(() => this.setState({ copyButtonRecentlyPressed: false }), 3000);\n    this.setState({ copyButtonRecentlyPressed: true });\n  };\n\n  _showQrCode = () => {\n    ReactGA.event({\n      category: 'GameSharing',\n      action: 'showQrCode',\n      label: this.props.gameCode,\n    });\n    this._toggleShowingQrCode();\n  };\n\n  _toggleShowingQrCode = () => {\n    if (!this.state.showingQrCode) {\n      window.scrollTo(0, 0);\n    }\n    this.setState((oldState) => ({ ...oldState, showingQrCode: !this.state.showingQrCode }));\n  };\n\n  _getLink = () => {\n    const origin = window.location.origin;\n    const gameCode = this.props.gameCode;\n    const roomID = this.props.roomID;\n    return `${origin}/room/${gameCode}/${roomID}`;\n  };\n}\n"]},"metadata":{},"sourceType":"module"}