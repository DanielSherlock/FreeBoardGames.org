{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction cov_1wfxemwfo3() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/games/cornerus/board.tsx\";\n  var hash = \"2b1aaf6665d45d80bae84d4a625ac9ad51df72c8\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/games/cornerus/board.tsx\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 54,\n          column: 4\n        },\n        end: {\n          line: 54,\n          column: 17\n        }\n      },\n      \"1\": {\n        start: {\n          line: 55,\n          column: 4\n        },\n        end: {\n          line: 62,\n          column: 6\n        }\n      },\n      \"2\": {\n        start: {\n          line: 65,\n          column: 13\n        },\n        end: {\n          line: 65,\n          column: 36\n        }\n      },\n      \"3\": {\n        start: {\n          line: 66,\n          column: 17\n        },\n        end: {\n          line: 66,\n          column: 44\n        }\n      },\n      \"4\": {\n        start: {\n          line: 67,\n          column: 16\n        },\n        end: {\n          line: 67,\n          column: 42\n        }\n      },\n      \"5\": {\n        start: {\n          line: 70,\n          column: 4\n        },\n        end: {\n          line: 70,\n          column: 31\n        }\n      },\n      \"6\": {\n        start: {\n          line: 74,\n          column: 4\n        },\n        end: {\n          line: 74,\n          column: 112\n        }\n      },\n      \"7\": {\n        start: {\n          line: 78,\n          column: 4\n        },\n        end: {\n          line: 78,\n          column: 84\n        }\n      },\n      \"8\": {\n        start: {\n          line: 82,\n          column: 33\n        },\n        end: {\n          line: 82,\n          column: 67\n        }\n      },\n      \"9\": {\n        start: {\n          line: 83,\n          column: 4\n        },\n        end: {\n          line: 95,\n          column: 5\n        }\n      },\n      \"10\": {\n        start: {\n          line: 84,\n          column: 6\n        },\n        end: {\n          line: 84,\n          column: 20\n        }\n      },\n      \"11\": {\n        start: {\n          line: 86,\n          column: 6\n        },\n        end: {\n          line: 94,\n          column: 7\n        }\n      },\n      \"12\": {\n        start: {\n          line: 87,\n          column: 8\n        },\n        end: {\n          line: 87,\n          column: 95\n        }\n      },\n      \"13\": {\n        start: {\n          line: 89,\n          column: 8\n        },\n        end: {\n          line: 93,\n          column: 9\n        }\n      },\n      \"14\": {\n        start: {\n          line: 89,\n          column: 62\n        },\n        end: {\n          line: 89,\n          column: 99\n        }\n      },\n      \"15\": {\n        start: {\n          line: 90,\n          column: 10\n        },\n        end: {\n          line: 90,\n          column: 27\n        }\n      },\n      \"16\": {\n        start: {\n          line: 92,\n          column: 10\n        },\n        end: {\n          line: 92,\n          column: 28\n        }\n      },\n      \"17\": {\n        start: {\n          line: 99,\n          column: 4\n        },\n        end: {\n          line: 105,\n          column: 6\n        }\n      },\n      \"18\": {\n        start: {\n          line: 109,\n          column: 4\n        },\n        end: {\n          line: 117,\n          column: 6\n        }\n      },\n      \"19\": {\n        start: {\n          line: 121,\n          column: 4\n        },\n        end: {\n          line: 123,\n          column: 5\n        }\n      },\n      \"20\": {\n        start: {\n          line: 122,\n          column: 6\n        },\n        end: {\n          line: 122,\n          column: 13\n        }\n      },\n      \"21\": {\n        start: {\n          line: 125,\n          column: 18\n        },\n        end: {\n          line: 125,\n          column: 20\n        }\n      },\n      \"22\": {\n        start: {\n          line: 126,\n          column: 4\n        },\n        end: {\n          line: 165,\n          column: 5\n        }\n      },\n      \"23\": {\n        start: {\n          line: 128,\n          column: 6\n        },\n        end: {\n          line: 158,\n          column: 7\n        }\n      },\n      \"24\": {\n        start: {\n          line: 129,\n          column: 8\n        },\n        end: {\n          line: 146,\n          column: 9\n        }\n      },\n      \"25\": {\n        start: {\n          line: 131,\n          column: 12\n        },\n        end: {\n          line: 131,\n          column: 28\n        }\n      },\n      \"26\": {\n        start: {\n          line: 132,\n          column: 12\n        },\n        end: {\n          line: 132,\n          column: 18\n        }\n      },\n      \"27\": {\n        start: {\n          line: 135,\n          column: 12\n        },\n        end: {\n          line: 135,\n          column: 30\n        }\n      },\n      \"28\": {\n        start: {\n          line: 136,\n          column: 12\n        },\n        end: {\n          line: 136,\n          column: 18\n        }\n      },\n      \"29\": {\n        start: {\n          line: 139,\n          column: 12\n        },\n        end: {\n          line: 139,\n          column: 27\n        }\n      },\n      \"30\": {\n        start: {\n          line: 140,\n          column: 12\n        },\n        end: {\n          line: 140,\n          column: 18\n        }\n      },\n      \"31\": {\n        start: {\n          line: 143,\n          column: 12\n        },\n        end: {\n          line: 143,\n          column: 29\n        }\n      },\n      \"32\": {\n        start: {\n          line: 144,\n          column: 12\n        },\n        end: {\n          line: 144,\n          column: 18\n        }\n      },\n      \"33\": {\n        start: {\n          line: 148,\n          column: 8\n        },\n        end: {\n          line: 157,\n          column: 9\n        }\n      },\n      \"34\": {\n        start: {\n          line: 150,\n          column: 12\n        },\n        end: {\n          line: 150,\n          column: 35\n        }\n      },\n      \"35\": {\n        start: {\n          line: 151,\n          column: 12\n        },\n        end: {\n          line: 151,\n          column: 18\n        }\n      },\n      \"36\": {\n        start: {\n          line: 154,\n          column: 12\n        },\n        end: {\n          line: 154,\n          column: 33\n        }\n      },\n      \"37\": {\n        start: {\n          line: 155,\n          column: 12\n        },\n        end: {\n          line: 155,\n          column: 18\n        }\n      },\n      \"38\": {\n        start: {\n          line: 160,\n          column: 6\n        },\n        end: {\n          line: 160,\n          column: 35\n        }\n      },\n      \"39\": {\n        start: {\n          line: 161,\n          column: 11\n        },\n        end: {\n          line: 165,\n          column: 5\n        }\n      },\n      \"40\": {\n        start: {\n          line: 162,\n          column: 6\n        },\n        end: {\n          line: 162,\n          column: 30\n        }\n      },\n      \"41\": {\n        start: {\n          line: 163,\n          column: 11\n        },\n        end: {\n          line: 165,\n          column: 5\n        }\n      },\n      \"42\": {\n        start: {\n          line: 164,\n          column: 6\n        },\n        end: {\n          line: 164,\n          column: 42\n        }\n      },\n      \"43\": {\n        start: {\n          line: 166,\n          column: 4\n        },\n        end: {\n          line: 166,\n          column: 19\n        }\n      },\n      \"44\": {\n        start: {\n          line: 169,\n          column: 12\n        },\n        end: {\n          line: 181,\n          column: 3\n        }\n      },\n      \"45\": {\n        start: {\n          line: 170,\n          column: 14\n        },\n        end: {\n          line: 170,\n          column: 34\n        }\n      },\n      \"46\": {\n        start: {\n          line: 171,\n          column: 14\n        },\n        end: {\n          line: 171,\n          column: 34\n        }\n      },\n      \"47\": {\n        start: {\n          line: 172,\n          column: 22\n        },\n        end: {\n          line: 172,\n          column: 61\n        }\n      },\n      \"48\": {\n        start: {\n          line: 173,\n          column: 22\n        },\n        end: {\n          line: 173,\n          column: 71\n        }\n      },\n      \"49\": {\n        start: {\n          line: 174,\n          column: 4\n        },\n        end: {\n          line: 180,\n          column: 5\n        }\n      },\n      \"50\": {\n        start: {\n          line: 174,\n          column: 33\n        },\n        end: {\n          line: 174,\n          column: 55\n        }\n      },\n      \"51\": {\n        start: {\n          line: 175,\n          column: 6\n        },\n        end: {\n          line: 179,\n          column: 9\n        }\n      },\n      \"52\": {\n        start: {\n          line: 183,\n          column: 25\n        },\n        end: {\n          line: 190,\n          column: 3\n        }\n      },\n      \"53\": {\n        start: {\n          line: 184,\n          column: 34\n        },\n        end: {\n          line: 187,\n          column: 5\n        }\n      },\n      \"54\": {\n        start: {\n          line: 188,\n          column: 20\n        },\n        end: {\n          line: 188,\n          column: 28\n        }\n      },\n      \"55\": {\n        start: {\n          line: 189,\n          column: 4\n        },\n        end: {\n          line: 189,\n          column: 19\n        }\n      },\n      \"56\": {\n        start: {\n          line: 193,\n          column: 4\n        },\n        end: {\n          line: 209,\n          column: 5\n        }\n      },\n      \"57\": {\n        start: {\n          line: 194,\n          column: 24\n        },\n        end: {\n          line: 194,\n          column: 112\n        }\n      },\n      \"58\": {\n        start: {\n          line: 196,\n          column: 8\n        },\n        end: {\n          line: 198,\n          column: 9\n        }\n      },\n      \"59\": {\n        start: {\n          line: 199,\n          column: 6\n        },\n        end: {\n          line: 208,\n          column: 9\n        }\n      },\n      \"60\": {\n        start: {\n          line: 213,\n          column: 4\n        },\n        end: {\n          line: 221,\n          column: 5\n        }\n      },\n      \"61\": {\n        start: {\n          line: 214,\n          column: 6\n        },\n        end: {\n          line: 220,\n          column: 8\n        }\n      },\n      \"62\": {\n        start: {\n          line: 223,\n          column: 19\n        },\n        end: {\n          line: 223,\n          column: 45\n        }\n      },\n      \"63\": {\n        start: {\n          line: 224,\n          column: 21\n        },\n        end: {\n          line: 224,\n          column: 45\n        }\n      },\n      \"64\": {\n        start: {\n          line: 226,\n          column: 4\n        },\n        end: {\n          line: 276,\n          column: 6\n        }\n      },\n      \"65\": {\n        start: {\n          line: 232,\n          column: 51\n        },\n        end: {\n          line: 232,\n          column: 55\n        }\n      },\n      \"66\": {\n        start: {\n          line: 238,\n          column: 34\n        },\n        end: {\n          line: 238,\n          column: 38\n        }\n      },\n      \"67\": {\n        start: {\n          line: 247,\n          column: 47\n        },\n        end: {\n          line: 247,\n          column: 64\n        }\n      },\n      \"68\": {\n        start: {\n          line: 248,\n          column: 41\n        },\n        end: {\n          line: 248,\n          column: 53\n        }\n      },\n      \"69\": {\n        start: {\n          line: 250,\n          column: 24\n        },\n        end: {\n          line: 256,\n          column: 32\n        }\n      },\n      \"70\": {\n        start: {\n          line: 280,\n          column: 21\n        },\n        end: {\n          line: 280,\n          column: 36\n        }\n      },\n      \"71\": {\n        start: {\n          line: 282,\n          column: 4\n        },\n        end: {\n          line: 308,\n          column: 9\n        }\n      },\n      \"72\": {\n        start: {\n          line: 283,\n          column: 31\n        },\n        end: {\n          line: 283,\n          column: 48\n        }\n      },\n      \"73\": {\n        start: {\n          line: 285,\n          column: 18\n        },\n        end: {\n          line: 285,\n          column: 34\n        }\n      },\n      \"74\": {\n        start: {\n          line: 286,\n          column: 18\n        },\n        end: {\n          line: 286,\n          column: 46\n        }\n      },\n      \"75\": {\n        start: {\n          line: 288,\n          column: 20\n        },\n        end: {\n          line: 288,\n          column: 31\n        }\n      },\n      \"76\": {\n        start: {\n          line: 289,\n          column: 25\n        },\n        end: {\n          line: 289,\n          column: 34\n        }\n      },\n      \"77\": {\n        start: {\n          line: 290,\n          column: 8\n        },\n        end: {\n          line: 306,\n          column: 9\n        }\n      },\n      \"78\": {\n        start: {\n          line: 291,\n          column: 10\n        },\n        end: {\n          line: 295,\n          column: 11\n        }\n      },\n      \"79\": {\n        start: {\n          line: 292,\n          column: 12\n        },\n        end: {\n          line: 292,\n          column: 53\n        }\n      },\n      \"80\": {\n        start: {\n          line: 294,\n          column: 12\n        },\n        end: {\n          line: 294,\n          column: 53\n        }\n      },\n      \"81\": {\n        start: {\n          line: 296,\n          column: 15\n        },\n        end: {\n          line: 306,\n          column: 9\n        }\n      },\n      \"82\": {\n        start: {\n          line: 297,\n          column: 10\n        },\n        end: {\n          line: 297,\n          column: 28\n        }\n      },\n      \"83\": {\n        start: {\n          line: 298,\n          column: 15\n        },\n        end: {\n          line: 306,\n          column: 9\n        }\n      },\n      \"84\": {\n        start: {\n          line: 299,\n          column: 10\n        },\n        end: {\n          line: 299,\n          column: 30\n        }\n      },\n      \"85\": {\n        start: {\n          line: 300,\n          column: 15\n        },\n        end: {\n          line: 306,\n          column: 9\n        }\n      },\n      \"86\": {\n        start: {\n          line: 301,\n          column: 10\n        },\n        end: {\n          line: 301,\n          column: 27\n        }\n      },\n      \"87\": {\n        start: {\n          line: 302,\n          column: 15\n        },\n        end: {\n          line: 306,\n          column: 9\n        }\n      },\n      \"88\": {\n        start: {\n          line: 303,\n          column: 10\n        },\n        end: {\n          line: 303,\n          column: 29\n        }\n      },\n      \"89\": {\n        start: {\n          line: 304,\n          column: 15\n        },\n        end: {\n          line: 306,\n          column: 9\n        }\n      },\n      \"90\": {\n        start: {\n          line: 305,\n          column: 10\n        },\n        end: {\n          line: 305,\n          column: 28\n        }\n      },\n      \"91\": {\n        start: {\n          line: 307,\n          column: 8\n        },\n        end: {\n          line: 307,\n          column: 30\n        }\n      },\n      \"92\": {\n        start: {\n          line: 310,\n          column: 4\n        },\n        end: {\n          line: 310,\n          column: 20\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 53,\n            column: 2\n          },\n          end: {\n            line: 53,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 53,\n            column: 34\n          },\n          end: {\n            line: 63,\n            column: 3\n          }\n        },\n        line: 53\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 69,\n            column: 2\n          },\n          end: {\n            line: 69,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 69,\n            column: 12\n          },\n          end: {\n            line: 71,\n            column: 3\n          }\n        },\n        line: 69\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 73,\n            column: 2\n          },\n          end: {\n            line: 73,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 73,\n            column: 29\n          },\n          end: {\n            line: 75,\n            column: 3\n          }\n        },\n        line: 73\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 77,\n            column: 2\n          },\n          end: {\n            line: 77,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 77,\n            column: 15\n          },\n          end: {\n            line: 79,\n            column: 3\n          }\n        },\n        line: 77\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 81,\n            column: 2\n          },\n          end: {\n            line: 81,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 81,\n            column: 17\n          },\n          end: {\n            line: 96,\n            column: 3\n          }\n        },\n        line: 81\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 89,\n            column: 52\n          },\n          end: {\n            line: 89,\n            column: 53\n          }\n        },\n        loc: {\n          start: {\n            line: 89,\n            column: 62\n          },\n          end: {\n            line: 89,\n            column: 99\n          }\n        },\n        line: 89\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 98,\n            column: 2\n          },\n          end: {\n            line: 98,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 98,\n            column: 19\n          },\n          end: {\n            line: 106,\n            column: 3\n          }\n        },\n        line: 98\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 108,\n            column: 2\n          },\n          end: {\n            line: 108,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 108,\n            column: 64\n          },\n          end: {\n            line: 118,\n            column: 3\n          }\n        },\n        line: 108\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 120,\n            column: 2\n          },\n          end: {\n            line: 120,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 120,\n            column: 15\n          },\n          end: {\n            line: 167,\n            column: 3\n          }\n        },\n        line: 120\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 169,\n            column: 12\n          },\n          end: {\n            line: 169,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 169,\n            column: 88\n          },\n          end: {\n            line: 181,\n            column: 3\n          }\n        },\n        line: 169\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 174,\n            column: 24\n          },\n          end: {\n            line: 174,\n            column: 25\n          }\n        },\n        loc: {\n          start: {\n            line: 174,\n            column: 33\n          },\n          end: {\n            line: 174,\n            column: 55\n          }\n        },\n        line: 174\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 183,\n            column: 25\n          },\n          end: {\n            line: 183,\n            column: 26\n          }\n        },\n        loc: {\n          start: {\n            line: 183,\n            column: 31\n          },\n          end: {\n            line: 190,\n            column: 3\n          }\n        },\n        line: 183\n      },\n      \"12\": {\n        name: \"(anonymous_12)\",\n        decl: {\n          start: {\n            line: 192,\n            column: 2\n          },\n          end: {\n            line: 192,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 192,\n            column: 45\n          },\n          end: {\n            line: 210,\n            column: 3\n          }\n        },\n        line: 192\n      },\n      \"13\": {\n        name: \"(anonymous_13)\",\n        decl: {\n          start: {\n            line: 212,\n            column: 2\n          },\n          end: {\n            line: 212,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 212,\n            column: 11\n          },\n          end: {\n            line: 277,\n            column: 3\n          }\n        },\n        line: 212\n      },\n      \"14\": {\n        name: \"(anonymous_14)\",\n        decl: {\n          start: {\n            line: 232,\n            column: 45\n          },\n          end: {\n            line: 232,\n            column: 46\n          }\n        },\n        loc: {\n          start: {\n            line: 232,\n            column: 51\n          },\n          end: {\n            line: 232,\n            column: 55\n          }\n        },\n        line: 232\n      },\n      \"15\": {\n        name: \"(anonymous_15)\",\n        decl: {\n          start: {\n            line: 238,\n            column: 28\n          },\n          end: {\n            line: 238,\n            column: 29\n          }\n        },\n        loc: {\n          start: {\n            line: 238,\n            column: 34\n          },\n          end: {\n            line: 238,\n            column: 38\n          }\n        },\n        line: 238\n      },\n      \"16\": {\n        name: \"(anonymous_16)\",\n        decl: {\n          start: {\n            line: 247,\n            column: 27\n          },\n          end: {\n            line: 247,\n            column: 28\n          }\n        },\n        loc: {\n          start: {\n            line: 247,\n            column: 47\n          },\n          end: {\n            line: 247,\n            column: 64\n          }\n        },\n        line: 247\n      },\n      \"17\": {\n        name: \"(anonymous_17)\",\n        decl: {\n          start: {\n            line: 248,\n            column: 30\n          },\n          end: {\n            line: 248,\n            column: 31\n          }\n        },\n        loc: {\n          start: {\n            line: 248,\n            column: 41\n          },\n          end: {\n            line: 248,\n            column: 53\n          }\n        },\n        line: 248\n      },\n      \"18\": {\n        name: \"(anonymous_18)\",\n        decl: {\n          start: {\n            line: 249,\n            column: 27\n          },\n          end: {\n            line: 249,\n            column: 28\n          }\n        },\n        loc: {\n          start: {\n            line: 250,\n            column: 24\n          },\n          end: {\n            line: 256,\n            column: 32\n          }\n        },\n        line: 250\n      },\n      \"19\": {\n        name: \"(anonymous_19)\",\n        decl: {\n          start: {\n            line: 279,\n            column: 2\n          },\n          end: {\n            line: 279,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 279,\n            column: 40\n          },\n          end: {\n            line: 311,\n            column: 3\n          }\n        },\n        line: 279\n      },\n      \"20\": {\n        name: \"(anonymous_20)\",\n        decl: {\n          start: {\n            line: 283,\n            column: 11\n          },\n          end: {\n            line: 283,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 283,\n            column: 31\n          },\n          end: {\n            line: 283,\n            column: 48\n          }\n        },\n        line: 283\n      },\n      \"21\": {\n        name: \"(anonymous_21)\",\n        decl: {\n          start: {\n            line: 284,\n            column: 15\n          },\n          end: {\n            line: 284,\n            column: 16\n          }\n        },\n        loc: {\n          start: {\n            line: 284,\n            column: 26\n          },\n          end: {\n            line: 308,\n            column: 7\n          }\n        },\n        line: 284\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 83,\n            column: 4\n          },\n          end: {\n            line: 95,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 83,\n            column: 4\n          },\n          end: {\n            line: 95,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 83,\n            column: 4\n          },\n          end: {\n            line: 95,\n            column: 5\n          }\n        }],\n        line: 83\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 86,\n            column: 6\n          },\n          end: {\n            line: 94,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 86,\n            column: 6\n          },\n          end: {\n            line: 94,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 86,\n            column: 6\n          },\n          end: {\n            line: 94,\n            column: 7\n          }\n        }],\n        line: 86\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 87,\n            column: 15\n          },\n          end: {\n            line: 87,\n            column: 94\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 87,\n            column: 59\n          },\n          end: {\n            line: 87,\n            column: 76\n          }\n        }, {\n          start: {\n            line: 87,\n            column: 79\n          },\n          end: {\n            line: 87,\n            column: 94\n          }\n        }],\n        line: 87\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 89,\n            column: 8\n          },\n          end: {\n            line: 93,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 89,\n            column: 8\n          },\n          end: {\n            line: 93,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 89,\n            column: 8\n          },\n          end: {\n            line: 93,\n            column: 9\n          }\n        }],\n        line: 89\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 121,\n            column: 4\n          },\n          end: {\n            line: 123,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 121,\n            column: 4\n          },\n          end: {\n            line: 123,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 121,\n            column: 4\n          },\n          end: {\n            line: 123,\n            column: 5\n          }\n        }],\n        line: 121\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 126,\n            column: 4\n          },\n          end: {\n            line: 165,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 126,\n            column: 4\n          },\n          end: {\n            line: 165,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 126,\n            column: 4\n          },\n          end: {\n            line: 165,\n            column: 5\n          }\n        }],\n        line: 126\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 128,\n            column: 6\n          },\n          end: {\n            line: 158,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 128,\n            column: 6\n          },\n          end: {\n            line: 158,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 128,\n            column: 6\n          },\n          end: {\n            line: 158,\n            column: 7\n          }\n        }],\n        line: 128\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 129,\n            column: 8\n          },\n          end: {\n            line: 146,\n            column: 9\n          }\n        },\n        type: \"switch\",\n        locations: [{\n          start: {\n            line: 130,\n            column: 10\n          },\n          end: {\n            line: 133,\n            column: 11\n          }\n        }, {\n          start: {\n            line: 134,\n            column: 10\n          },\n          end: {\n            line: 137,\n            column: 11\n          }\n        }, {\n          start: {\n            line: 138,\n            column: 10\n          },\n          end: {\n            line: 141,\n            column: 11\n          }\n        }, {\n          start: {\n            line: 142,\n            column: 10\n          },\n          end: {\n            line: 145,\n            column: 11\n          }\n        }],\n        line: 129\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 148,\n            column: 8\n          },\n          end: {\n            line: 157,\n            column: 9\n          }\n        },\n        type: \"switch\",\n        locations: [{\n          start: {\n            line: 149,\n            column: 10\n          },\n          end: {\n            line: 152,\n            column: 11\n          }\n        }, {\n          start: {\n            line: 153,\n            column: 10\n          },\n          end: {\n            line: 156,\n            column: 11\n          }\n        }],\n        line: 148\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 161,\n            column: 11\n          },\n          end: {\n            line: 165,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 161,\n            column: 11\n          },\n          end: {\n            line: 165,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 161,\n            column: 11\n          },\n          end: {\n            line: 165,\n            column: 5\n          }\n        }],\n        line: 161\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 161,\n            column: 15\n          },\n          end: {\n            line: 161,\n            column: 104\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 161,\n            column: 15\n          },\n          end: {\n            line: 161,\n            column: 67\n          }\n        }, {\n          start: {\n            line: 161,\n            column: 71\n          },\n          end: {\n            line: 161,\n            column: 104\n          }\n        }],\n        line: 161\n      },\n      \"11\": {\n        loc: {\n          start: {\n            line: 163,\n            column: 11\n          },\n          end: {\n            line: 165,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 163,\n            column: 11\n          },\n          end: {\n            line: 165,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 163,\n            column: 11\n          },\n          end: {\n            line: 165,\n            column: 5\n          }\n        }],\n        line: 163\n      },\n      \"12\": {\n        loc: {\n          start: {\n            line: 163,\n            column: 15\n          },\n          end: {\n            line: 163,\n            column: 104\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 163,\n            column: 15\n          },\n          end: {\n            line: 163,\n            column: 67\n          }\n        }, {\n          start: {\n            line: 163,\n            column: 71\n          },\n          end: {\n            line: 163,\n            column: 104\n          }\n        }],\n        line: 163\n      },\n      \"13\": {\n        loc: {\n          start: {\n            line: 174,\n            column: 4\n          },\n          end: {\n            line: 180,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 174,\n            column: 4\n          },\n          end: {\n            line: 180,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 174,\n            column: 4\n          },\n          end: {\n            line: 180,\n            column: 5\n          }\n        }],\n        line: 174\n      },\n      \"14\": {\n        loc: {\n          start: {\n            line: 193,\n            column: 4\n          },\n          end: {\n            line: 209,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 193,\n            column: 4\n          },\n          end: {\n            line: 209,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 193,\n            column: 4\n          },\n          end: {\n            line: 209,\n            column: 5\n          }\n        }],\n        line: 193\n      },\n      \"15\": {\n        loc: {\n          start: {\n            line: 213,\n            column: 4\n          },\n          end: {\n            line: 221,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 213,\n            column: 4\n          },\n          end: {\n            line: 221,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 213,\n            column: 4\n          },\n          end: {\n            line: 221,\n            column: 5\n          }\n        }],\n        line: 213\n      },\n      \"16\": {\n        loc: {\n          start: {\n            line: 233,\n            column: 13\n          },\n          end: {\n            line: 264,\n            column: 13\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 234,\n            column: 14\n          },\n          end: {\n            line: 261,\n            column: 22\n          }\n        }, {\n          start: {\n            line: 263,\n            column: 14\n          },\n          end: {\n            line: 263,\n            column: 25\n          }\n        }],\n        line: 233\n      },\n      \"17\": {\n        loc: {\n          start: {\n            line: 233,\n            column: 13\n          },\n          end: {\n            line: 233,\n            column: 101\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 233,\n            column: 13\n          },\n          end: {\n            line: 233,\n            column: 45\n          }\n        }, {\n          start: {\n            line: 233,\n            column: 49\n          },\n          end: {\n            line: 233,\n            column: 101\n          }\n        }],\n        line: 233\n      },\n      \"18\": {\n        loc: {\n          start: {\n            line: 290,\n            column: 8\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 290,\n            column: 8\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 290,\n            column: 8\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }],\n        line: 290\n      },\n      \"19\": {\n        loc: {\n          start: {\n            line: 291,\n            column: 10\n          },\n          end: {\n            line: 295,\n            column: 11\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 291,\n            column: 10\n          },\n          end: {\n            line: 295,\n            column: 11\n          }\n        }, {\n          start: {\n            line: 291,\n            column: 10\n          },\n          end: {\n            line: 295,\n            column: 11\n          }\n        }],\n        line: 291\n      },\n      \"20\": {\n        loc: {\n          start: {\n            line: 296,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 296,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 296,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }],\n        line: 296\n      },\n      \"21\": {\n        loc: {\n          start: {\n            line: 296,\n            column: 19\n          },\n          end: {\n            line: 296,\n            column: 37\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 296,\n            column: 19\n          },\n          end: {\n            line: 296,\n            column: 26\n          }\n        }, {\n          start: {\n            line: 296,\n            column: 30\n          },\n          end: {\n            line: 296,\n            column: 37\n          }\n        }],\n        line: 296\n      },\n      \"22\": {\n        loc: {\n          start: {\n            line: 298,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 298,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 298,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }],\n        line: 298\n      },\n      \"23\": {\n        loc: {\n          start: {\n            line: 298,\n            column: 19\n          },\n          end: {\n            line: 298,\n            column: 38\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 298,\n            column: 19\n          },\n          end: {\n            line: 298,\n            column: 27\n          }\n        }, {\n          start: {\n            line: 298,\n            column: 31\n          },\n          end: {\n            line: 298,\n            column: 38\n          }\n        }],\n        line: 298\n      },\n      \"24\": {\n        loc: {\n          start: {\n            line: 300,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 300,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 300,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }],\n        line: 300\n      },\n      \"25\": {\n        loc: {\n          start: {\n            line: 300,\n            column: 19\n          },\n          end: {\n            line: 300,\n            column: 39\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 300,\n            column: 19\n          },\n          end: {\n            line: 300,\n            column: 27\n          }\n        }, {\n          start: {\n            line: 300,\n            column: 31\n          },\n          end: {\n            line: 300,\n            column: 39\n          }\n        }],\n        line: 300\n      },\n      \"26\": {\n        loc: {\n          start: {\n            line: 302,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 302,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 302,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }],\n        line: 302\n      },\n      \"27\": {\n        loc: {\n          start: {\n            line: 302,\n            column: 19\n          },\n          end: {\n            line: 302,\n            column: 38\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 302,\n            column: 19\n          },\n          end: {\n            line: 302,\n            column: 26\n          }\n        }, {\n          start: {\n            line: 302,\n            column: 30\n          },\n          end: {\n            line: 302,\n            column: 38\n          }\n        }],\n        line: 302\n      },\n      \"28\": {\n        loc: {\n          start: {\n            line: 304,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 304,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }, {\n          start: {\n            line: 304,\n            column: 15\n          },\n          end: {\n            line: 306,\n            column: 9\n          }\n        }],\n        line: 304\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0,\n      \"51\": 0,\n      \"52\": 0,\n      \"53\": 0,\n      \"54\": 0,\n      \"55\": 0,\n      \"56\": 0,\n      \"57\": 0,\n      \"58\": 0,\n      \"59\": 0,\n      \"60\": 0,\n      \"61\": 0,\n      \"62\": 0,\n      \"63\": 0,\n      \"64\": 0,\n      \"65\": 0,\n      \"66\": 0,\n      \"67\": 0,\n      \"68\": 0,\n      \"69\": 0,\n      \"70\": 0,\n      \"71\": 0,\n      \"72\": 0,\n      \"73\": 0,\n      \"74\": 0,\n      \"75\": 0,\n      \"76\": 0,\n      \"77\": 0,\n      \"78\": 0,\n      \"79\": 0,\n      \"80\": 0,\n      \"81\": 0,\n      \"82\": 0,\n      \"83\": 0,\n      \"84\": 0,\n      \"85\": 0,\n      \"86\": 0,\n      \"87\": 0,\n      \"88\": 0,\n      \"89\": 0,\n      \"90\": 0,\n      \"91\": 0,\n      \"92\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0, 0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0],\n      \"11\": [0, 0],\n      \"12\": [0, 0],\n      \"13\": [0, 0],\n      \"14\": [0, 0],\n      \"15\": [0, 0],\n      \"16\": [0, 0],\n      \"17\": [0, 0],\n      \"18\": [0, 0],\n      \"19\": [0, 0],\n      \"20\": [0, 0],\n      \"21\": [0, 0],\n      \"22\": [0, 0],\n      \"23\": [0, 0],\n      \"24\": [0, 0],\n      \"25\": [0, 0],\n      \"26\": [0, 0],\n      \"27\": [0, 0],\n      \"28\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"2b1aaf6665d45d80bae84d4a625ac9ad51df72c8\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_1wfxemwfo3 = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_1wfxemwfo3();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport { GameLayout } from 'components/App/Game/GameLayout';\nimport { Grid } from 'ui';\nimport { Token } from 'ui';\nimport { getPlayer, getValidPositions, inBounds, getAllPositions } from './game';\nimport { Scoreboard } from '../common/Scoreboard';\nimport red from '@material-ui/core/colors/red';\nimport yellow from '@material-ui/core/colors/yellow';\nimport green from '@material-ui/core/colors/lightGreen';\nimport blue from '@material-ui/core/colors/blue';\nimport grey from '@material-ui/core/colors/grey';\nimport Typography from '@material-ui/core/Typography';\nimport Controls from './Controls';\nimport { pieces } from './pieces';\nimport { isLocalGame } from '../common/gameMode';\nexport var Board = /*#__PURE__*/function (_React$Component) {\n  _inherits(Board, _React$Component);\n\n  var _super = _createSuper(Board);\n\n  function Board(props) {\n    var _this;\n\n    _classCallCheck(this, Board);\n\n    cov_1wfxemwfo3().f[0]++;\n    cov_1wfxemwfo3().s[0]++;\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"_endGame\", (cov_1wfxemwfo3().s[2]++, _this.endGame.bind(_assertThisInitialized(_this))));\n\n    _defineProperty(_assertThisInitialized(_this), \"_modifyPiece\", (cov_1wfxemwfo3().s[3]++, _this.modifyPiece.bind(_assertThisInitialized(_this))));\n\n    _defineProperty(_assertThisInitialized(_this), \"_placePiece\", (cov_1wfxemwfo3().s[4]++, _this.placePiece.bind(_assertThisInitialized(_this))));\n\n    _defineProperty(_assertThisInitialized(_this), \"_onDrop\", (cov_1wfxemwfo3().s[44]++, function (coords) {\n      cov_1wfxemwfo3().f[9]++;\n      var x = (cov_1wfxemwfo3().s[45]++, Math.round(coords.x));\n      var y = (cov_1wfxemwfo3().s[46]++, Math.round(coords.y));\n      var transform = (cov_1wfxemwfo3().s[47]++, _objectSpread({}, _this.state.piece.transform, {\n        x: x,\n        y: y\n      }));\n      var positions = (cov_1wfxemwfo3().s[48]++, getAllPositions(_this.state.piece.data, transform));\n      cov_1wfxemwfo3().s[49]++;\n\n      if (positions.every(function (pos) {\n        cov_1wfxemwfo3().f[10]++;\n        cov_1wfxemwfo3().s[50]++;\n        return inBounds(pos.x, pos.y);\n      })) {\n        cov_1wfxemwfo3().b[13][0]++;\n        cov_1wfxemwfo3().s[51]++;\n\n        _this.setState(_objectSpread({}, _this.state, {\n          piece: _objectSpread({}, _this.state.piece, {\n            transform: transform\n          }),\n          validTransform: _this.isTransformValid(_this.state.piece.data, transform)\n        }));\n      } else {\n        cov_1wfxemwfo3().b[13][1]++;\n      }\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"_getOptionsMenuItems\", (cov_1wfxemwfo3().s[52]++, function () {\n      cov_1wfxemwfo3().f[11]++;\n      var option = (cov_1wfxemwfo3().s[53]++, {\n        onClick: _this._endGame,\n        text: \"End game\"\n      });\n      var options = (cov_1wfxemwfo3().s[54]++, [option]);\n      cov_1wfxemwfo3().s[55]++;\n      return options;\n    }));\n\n    cov_1wfxemwfo3().s[1]++;\n    _this.state = {\n      piece: {\n        transform: {\n          x: 10,\n          y: 10,\n          rotation: 0,\n          flipX: false,\n          flipY: false\n        },\n        index: 0,\n        data: pieces[0]\n      },\n      validTransform: false\n    };\n    return _this;\n  }\n\n  _createClass(Board, [{\n    key: \"endGame\",\n    value: function endGame() {\n      cov_1wfxemwfo3().f[1]++;\n      cov_1wfxemwfo3().s[5]++;\n      this.props.moves.endGame();\n    }\n  }, {\n    key: \"modifyPiece\",\n    value: function modifyPiece(piece) {\n      cov_1wfxemwfo3().f[2]++;\n      cov_1wfxemwfo3().s[6]++;\n      this.setState(_objectSpread({}, this.state, {\n        piece: piece,\n        validTransform: this.isTransformValid(piece.data, piece.transform)\n      }));\n    }\n  }, {\n    key: \"placePiece\",\n    value: function placePiece() {\n      cov_1wfxemwfo3().f[3]++;\n      cov_1wfxemwfo3().s[7]++;\n      this.props.moves.placePiece(this.state.piece.index, this.state.piece.transform);\n    }\n  }, {\n    key: \"_getGameOver\",\n    value: function _getGameOver() {\n      var _this2 = this;\n\n      cov_1wfxemwfo3().f[4]++;\n      var scoreboard = (cov_1wfxemwfo3().s[8]++, this.props.ctx.gameover.scoreboard);\n      cov_1wfxemwfo3().s[9]++;\n\n      if (scoreboard[0].score === scoreboard[scoreboard.length - 1].score) {\n        cov_1wfxemwfo3().b[0][0]++;\n        cov_1wfxemwfo3().s[10]++;\n        return 'draw';\n      } else {\n        cov_1wfxemwfo3().b[0][1]++;\n        cov_1wfxemwfo3().s[11]++;\n\n        if (isLocalGame(this.props.gameArgs)) {\n          cov_1wfxemwfo3().b[1][0]++;\n          cov_1wfxemwfo3().s[12]++;\n          return scoreboard[0].score > scoreboard[1].score ? (cov_1wfxemwfo3().b[2][0]++, 'blue/yellow won') : (cov_1wfxemwfo3().b[2][1]++, 'red/green won');\n        } else {\n          cov_1wfxemwfo3().b[1][1]++;\n          cov_1wfxemwfo3().s[13]++;\n\n          if (scoreboard[0].score === scoreboard.find(function (rank) {\n            cov_1wfxemwfo3().f[5]++;\n            cov_1wfxemwfo3().s[14]++;\n            return rank.playerID === _this2.props.playerID;\n          }).score) {\n            cov_1wfxemwfo3().b[3][0]++;\n            cov_1wfxemwfo3().s[15]++;\n            return 'you won';\n          } else {\n            cov_1wfxemwfo3().b[3][1]++;\n            cov_1wfxemwfo3().s[16]++;\n            return 'you lost';\n          }\n        }\n      }\n    }\n  }, {\n    key: \"_getScoreBoard\",\n    value: function _getScoreBoard() {\n      cov_1wfxemwfo3().f[6]++;\n      cov_1wfxemwfo3().s[17]++;\n      return __jsx(Scoreboard, {\n        scoreboard: this.props.ctx.gameover.scoreboard,\n        playerID: this.props.playerID,\n        players: this.props.gameArgs.players\n      });\n    }\n  }, {\n    key: \"isTransformValid\",\n    value: function isTransformValid(data, transform) {\n      cov_1wfxemwfo3().f[7]++;\n      cov_1wfxemwfo3().s[18]++;\n      return getValidPositions(this.props.G, this.props.ctx, data, transform, getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer)) !== null;\n    }\n  }, {\n    key: \"_getStatus\",\n    value: function _getStatus() {\n      cov_1wfxemwfo3().f[8]++;\n      cov_1wfxemwfo3().s[19]++;\n\n      if (!this.props.gameArgs) {\n        cov_1wfxemwfo3().b[4][0]++;\n        cov_1wfxemwfo3().s[20]++;\n        return;\n      } else {\n        cov_1wfxemwfo3().b[4][1]++;\n      }\n\n      var message = (cov_1wfxemwfo3().s[21]++, '');\n      cov_1wfxemwfo3().s[22]++;\n\n      if (this.props.gameArgs) {\n        cov_1wfxemwfo3().b[5][0]++;\n        var player;\n        cov_1wfxemwfo3().s[23]++;\n\n        if (this.props.ctx.numPlayers !== 2) {\n          cov_1wfxemwfo3().b[6][0]++;\n          cov_1wfxemwfo3().s[24]++;\n\n          switch (this.props.ctx.currentPlayer) {\n            case '0':\n              cov_1wfxemwfo3().b[7][0]++;\n              {\n                cov_1wfxemwfo3().s[25]++;\n                player = 'Blue';\n                cov_1wfxemwfo3().s[26]++;\n                break;\n              }\n\n            case '1':\n              cov_1wfxemwfo3().b[7][1]++;\n              {\n                cov_1wfxemwfo3().s[27]++;\n                player = 'Yellow';\n                cov_1wfxemwfo3().s[28]++;\n                break;\n              }\n\n            case '2':\n              cov_1wfxemwfo3().b[7][2]++;\n              {\n                cov_1wfxemwfo3().s[29]++;\n                player = 'Red';\n                cov_1wfxemwfo3().s[30]++;\n                break;\n              }\n\n            case '3':\n              cov_1wfxemwfo3().b[7][3]++;\n              {\n                cov_1wfxemwfo3().s[31]++;\n                player = 'Green';\n                cov_1wfxemwfo3().s[32]++;\n                break;\n              }\n          }\n        } else {\n          cov_1wfxemwfo3().b[6][1]++;\n          cov_1wfxemwfo3().s[33]++;\n\n          switch (this.props.ctx.currentPlayer) {\n            case '0':\n              cov_1wfxemwfo3().b[8][0]++;\n              {\n                cov_1wfxemwfo3().s[34]++;\n                player = 'Blue/yellow';\n                cov_1wfxemwfo3().s[35]++;\n                break;\n              }\n\n            case '1':\n              cov_1wfxemwfo3().b[8][1]++;\n              {\n                cov_1wfxemwfo3().s[36]++;\n                player = 'Red/green';\n                cov_1wfxemwfo3().s[37]++;\n                break;\n              }\n          }\n        }\n\n        cov_1wfxemwfo3().s[38]++;\n        message = \"\".concat(player, \"'s turn\");\n      } else {\n        cov_1wfxemwfo3().b[5][1]++;\n        cov_1wfxemwfo3().s[39]++;\n\n        if ((cov_1wfxemwfo3().b[10][0]++, this.props.ctx.currentPlayer === this.props.playerID) && (cov_1wfxemwfo3().b[10][1]++, !isLocalGame(this.props.gameArgs))) {\n          cov_1wfxemwfo3().b[9][0]++;\n          cov_1wfxemwfo3().s[40]++;\n          message = 'Place piece';\n        } else {\n          cov_1wfxemwfo3().b[9][1]++;\n          cov_1wfxemwfo3().s[41]++;\n\n          if ((cov_1wfxemwfo3().b[12][0]++, this.props.ctx.currentPlayer !== this.props.playerID) && (cov_1wfxemwfo3().b[12][1]++, !isLocalGame(this.props.gameArgs))) {\n            cov_1wfxemwfo3().b[11][0]++;\n            cov_1wfxemwfo3().s[42]++;\n            message = 'Waiting for opponent...';\n          } else {\n            cov_1wfxemwfo3().b[11][1]++;\n          }\n        }\n      }\n\n      cov_1wfxemwfo3().s[43]++;\n      return message;\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      cov_1wfxemwfo3().f[12]++;\n      cov_1wfxemwfo3().s[56]++;\n\n      if (prevProps.ctx.turn !== this.props.ctx.turn) {\n        cov_1wfxemwfo3().b[14][0]++;\n        var transform = (cov_1wfxemwfo3().s[57]++, _objectSpread({}, this.state.piece.transform, {\n          flipX: false,\n          flipY: false,\n          rotation: 0,\n          x: 10,\n          y: 10\n        }));\n        var data = (cov_1wfxemwfo3().s[58]++, pieces[this.props.G.players[getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer)].pieces[0]]);\n        cov_1wfxemwfo3().s[59]++;\n        this.setState(_objectSpread({}, this.state, {\n          piece: _objectSpread({}, this.state.piece, {\n            index: 0,\n            transform: transform,\n            data: data\n          }),\n          validTransform: this.isTransformValid(data, transform)\n        }));\n      } else {\n        cov_1wfxemwfo3().b[14][1]++;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      cov_1wfxemwfo3().f[13]++;\n      cov_1wfxemwfo3().s[60]++;\n\n      if (this.props.ctx.gameover) {\n        cov_1wfxemwfo3().b[15][0]++;\n        cov_1wfxemwfo3().s[61]++;\n        return __jsx(GameLayout, {\n          gameOver: this._getGameOver(),\n          extraCardContent: this._getScoreBoard(),\n          gameArgs: this.props.gameArgs\n        });\n      } else {\n        cov_1wfxemwfo3().b[15][1]++;\n      }\n\n      var colors = (cov_1wfxemwfo3().s[62]++, [blue, yellow, red, green]);\n      var colorMap = (cov_1wfxemwfo3().s[63]++, this.getColorMap(colors));\n      cov_1wfxemwfo3().s[64]++;\n      return __jsx(\"div\", null, __jsx(GameLayout, {\n        optionsMenuItems: this._getOptionsMenuItems,\n        gameArgs: this.props.gameArgs\n      }, __jsx(Typography, {\n        variant: \"h5\",\n        style: {\n          textAlign: 'center',\n          color: 'white',\n          marginBottom: '16px'\n        }\n      }, this._getStatus()), __jsx(Grid, {\n        rows: 20,\n        cols: 20,\n        onClick: function onClick() {\n          cov_1wfxemwfo3().f[14]++;\n          cov_1wfxemwfo3().s[65]++;\n          return null;\n        },\n        colorMap: colorMap\n      }, (cov_1wfxemwfo3().b[17][0]++, isLocalGame(this.props.gameArgs)) || (cov_1wfxemwfo3().b[17][1]++, this.props.ctx.currentPlayer === this.props.playerID) ? (cov_1wfxemwfo3().b[16][0]++, __jsx(Token, {\n        x: this.state.piece.transform.x,\n        y: this.state.piece.transform.y,\n        draggable: true,\n        shouldDrag: function shouldDrag() {\n          cov_1wfxemwfo3().f[15]++;\n          cov_1wfxemwfo3().s[66]++;\n          return true;\n        },\n        onDrop: this._onDrop\n      }, __jsx(\"g\", null, __jsx(\"g\", {\n        fill: colors[getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer)][600],\n        opacity: 0.9\n      }, this.state.piece.data.map(function (square, index) {\n        cov_1wfxemwfo3().f[16]++;\n        cov_1wfxemwfo3().s[67]++;\n        return {\n          square: square,\n          index: index\n        };\n      }).filter(function (piece) {\n        cov_1wfxemwfo3().f[17]++;\n        cov_1wfxemwfo3().s[68]++;\n        return piece.square;\n      }).map(function (piece) {\n        cov_1wfxemwfo3().f[18]++;\n        cov_1wfxemwfo3().s[69]++;\n        return __jsx(\"rect\", {\n          x: piece.index % Math.sqrt(_this3.state.piece.data.length),\n          y: Math.floor(piece.index / Math.sqrt(_this3.state.piece.data.length)),\n          width: \"1\",\n          height: \"1\",\n          key: piece.index\n        });\n      })), __jsx(\"rect\", {\n        width: \"50\",\n        height: \"50\",\n        x: \"-25\",\n        y: \"-25\",\n        fill: \"none\",\n        style: {\n          pointerEvents: 'all'\n        }\n      })))) : (cov_1wfxemwfo3().b[16][1]++, __jsx(\"div\", null))), __jsx(Controls, {\n        placePiece: this._placePiece,\n        modifyPiece: this._modifyPiece,\n        validTransform: this.state.validTransform,\n        piece: this.state.piece,\n        G: this.props.G,\n        ctx: this.props.ctx\n      })));\n    }\n  }, {\n    key: \"getColorMap\",\n    value: function getColorMap(colors) {\n      cov_1wfxemwfo3().f[19]++;\n      var colorMap = (cov_1wfxemwfo3().s[70]++, {});\n      cov_1wfxemwfo3().s[71]++;\n      this.props.G.board.map(function (square, index) {\n        cov_1wfxemwfo3().f[20]++;\n        cov_1wfxemwfo3().s[72]++;\n        return {\n          square: square,\n          index: index\n        };\n      }).forEach(function (piece) {\n        cov_1wfxemwfo3().f[21]++;\n        var x = (cov_1wfxemwfo3().s[73]++, piece.index % 20);\n        var y = (cov_1wfxemwfo3().s[74]++, Math.floor(piece.index / 20));\n        var key = (cov_1wfxemwfo3().s[75]++, \"\".concat(x, \",\").concat(y));\n        var color = (cov_1wfxemwfo3().s[76]++, grey[800]);\n        cov_1wfxemwfo3().s[77]++;\n\n        if (piece.square !== null) {\n          cov_1wfxemwfo3().b[18][0]++;\n          cov_1wfxemwfo3().s[78]++;\n\n          if ((x + y) % 2 === 0) {\n            cov_1wfxemwfo3().b[19][0]++;\n            cov_1wfxemwfo3().s[79]++;\n            color = colors[piece.square][700];\n          } else {\n            cov_1wfxemwfo3().b[19][1]++;\n            cov_1wfxemwfo3().s[80]++;\n            color = colors[piece.square][600];\n          }\n        } else {\n          cov_1wfxemwfo3().b[18][1]++;\n          cov_1wfxemwfo3().s[81]++;\n\n          if ((cov_1wfxemwfo3().b[21][0]++, x === 0) && (cov_1wfxemwfo3().b[21][1]++, y === 0)) {\n            cov_1wfxemwfo3().b[20][0]++;\n            cov_1wfxemwfo3().s[82]++;\n            color = blue[400];\n          } else {\n            cov_1wfxemwfo3().b[20][1]++;\n            cov_1wfxemwfo3().s[83]++;\n\n            if ((cov_1wfxemwfo3().b[23][0]++, x === 19) && (cov_1wfxemwfo3().b[23][1]++, y === 0)) {\n              cov_1wfxemwfo3().b[22][0]++;\n              cov_1wfxemwfo3().s[84]++;\n              color = yellow[400];\n            } else {\n              cov_1wfxemwfo3().b[22][1]++;\n              cov_1wfxemwfo3().s[85]++;\n\n              if ((cov_1wfxemwfo3().b[25][0]++, x === 19) && (cov_1wfxemwfo3().b[25][1]++, y === 19)) {\n                cov_1wfxemwfo3().b[24][0]++;\n                cov_1wfxemwfo3().s[86]++;\n                color = red[400];\n              } else {\n                cov_1wfxemwfo3().b[24][1]++;\n                cov_1wfxemwfo3().s[87]++;\n\n                if ((cov_1wfxemwfo3().b[27][0]++, x === 0) && (cov_1wfxemwfo3().b[27][1]++, y === 19)) {\n                  cov_1wfxemwfo3().b[26][0]++;\n                  cov_1wfxemwfo3().s[88]++;\n                  color = green[400];\n                } else {\n                  cov_1wfxemwfo3().b[26][1]++;\n                  cov_1wfxemwfo3().s[89]++;\n\n                  if ((x + y) % 2 === 0) {\n                    cov_1wfxemwfo3().b[28][0]++;\n                    cov_1wfxemwfo3().s[90]++;\n                    color = grey[900];\n                  } else {\n                    cov_1wfxemwfo3().b[28][1]++;\n                  }\n                }\n              }\n            }\n          }\n        }\n\n        cov_1wfxemwfo3().s[91]++;\n        colorMap[key] = color;\n      });\n      cov_1wfxemwfo3().s[92]++;\n      return colorMap;\n    }\n  }]);\n\n  return Board;\n}((React.Component));","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/games/cornerus/board.tsx"],"names":["React","GameLayout","Grid","Token","getPlayer","getValidPositions","inBounds","getAllPositions","Scoreboard","red","yellow","green","blue","grey","Typography","Controls","pieces","isLocalGame","Board","props","endGame","bind","modifyPiece","placePiece","coords","x","Math","round","y","transform","state","piece","positions","data","every","pos","setState","validTransform","isTransformValid","option","onClick","_endGame","text","options","rotation","flipX","flipY","index","moves","scoreboard","ctx","gameover","score","length","gameArgs","find","rank","playerID","players","G","currentPlayer","message","player","numPlayers","prevProps","turn","_getGameOver","_getScoreBoard","colors","colorMap","getColorMap","_getOptionsMenuItems","textAlign","color","marginBottom","_getStatus","_onDrop","map","square","filter","sqrt","floor","pointerEvents","_placePiece","_modifyPiece","board","forEach","key","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["import React from 'react';\nimport { IGameArgs } from 'components/App/Game/GameBoardWrapper';\nimport { GameLayout } from 'components/App/Game/GameLayout';\nimport { Grid } from 'ui';\nimport { Token } from 'ui';\nimport { IG, IPieceTransform, getPlayer, getValidPositions, inBounds, getAllPositions } from './game';\nimport { IGameCtx } from 'boardgame.io/core';\nimport { Scoreboard, IScore } from '../common/Scoreboard';\nimport { IOptionsItems } from 'components/App/Game/GameDarkSublayout';\n\nimport red from '@material-ui/core/colors/red';\nimport yellow from '@material-ui/core/colors/yellow';\nimport green from '@material-ui/core/colors/lightGreen';\nimport blue from '@material-ui/core/colors/blue';\nimport grey from '@material-ui/core/colors/grey';\n\nimport Typography from '@material-ui/core/Typography';\n\nimport Controls from './Controls';\n\nimport { pieces } from './pieces';\nimport { isLocalGame } from '../common/gameMode';\n\nexport interface ICoords {\n  x: number;\n  y: number;\n}\n\nexport interface IColorMap {\n  [key: string]: string;\n}\n\nexport interface IPiece {\n  transform: IPieceTransform;\n  index: number;\n  data: boolean[];\n}\n\ninterface IBoardProps {\n  G: IG;\n  ctx: IGameCtx;\n  moves: any;\n  playerID: string;\n  gameArgs?: IGameArgs;\n}\n\ninterface IBoardState {\n  piece: IPiece;\n  validTransform: boolean;\n}\n\nexport class Board extends React.Component<IBoardProps, IBoardState> {\n  constructor(props: IBoardProps) {\n    super(props);\n    this.state = {\n      piece: {\n        transform: { x: 10, y: 10, rotation: 0, flipX: false, flipY: false },\n        index: 0,\n        data: pieces[0],\n      },\n      validTransform: false,\n    };\n  }\n\n  _endGame = this.endGame.bind(this);\n  _modifyPiece = this.modifyPiece.bind(this);\n  _placePiece = this.placePiece.bind(this);\n\n  endGame() {\n    this.props.moves.endGame();\n  }\n\n  modifyPiece(piece: IPiece) {\n    this.setState({ ...this.state, piece, validTransform: this.isTransformValid(piece.data, piece.transform) });\n  }\n\n  placePiece() {\n    this.props.moves.placePiece(this.state.piece.index, this.state.piece.transform);\n  }\n\n  _getGameOver() {\n    const scoreboard: IScore[] = this.props.ctx.gameover.scoreboard;\n    if (scoreboard[0].score === scoreboard[scoreboard.length - 1].score) {\n      return 'draw';\n    } else {\n      if (isLocalGame(this.props.gameArgs)) {\n        return scoreboard[0].score > scoreboard[1].score ? 'blue/yellow won' : 'red/green won';\n      } else {\n        if (scoreboard[0].score === scoreboard.find((rank) => rank.playerID === this.props.playerID).score) {\n          return 'you won';\n        } else {\n          return 'you lost';\n        }\n      }\n    }\n  }\n\n  _getScoreBoard() {\n    return (\n      <Scoreboard\n        scoreboard={this.props.ctx.gameover.scoreboard}\n        playerID={this.props.playerID}\n        players={this.props.gameArgs.players}\n      />\n    );\n  }\n\n  isTransformValid(data: boolean[], transform: IPieceTransform) {\n    return (\n      getValidPositions(\n        this.props.G,\n        this.props.ctx,\n        data,\n        transform,\n        getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer),\n      ) !== null\n    );\n  }\n\n  _getStatus() {\n    if (!this.props.gameArgs) {\n      return;\n    }\n\n    let message = '';\n    if (this.props.gameArgs) {\n      let player;\n      if (this.props.ctx.numPlayers !== 2) {\n        switch (this.props.ctx.currentPlayer) {\n          case '0': {\n            player = 'Blue';\n            break;\n          }\n          case '1': {\n            player = 'Yellow';\n            break;\n          }\n          case '2': {\n            player = 'Red';\n            break;\n          }\n          case '3': {\n            player = 'Green';\n            break;\n          }\n        }\n      } else {\n        switch (this.props.ctx.currentPlayer) {\n          case '0': {\n            player = 'Blue/yellow';\n            break;\n          }\n          case '1': {\n            player = 'Red/green';\n            break;\n          }\n        }\n      }\n\n      message = `${player}'s turn`;\n    } else if (this.props.ctx.currentPlayer === this.props.playerID && !isLocalGame(this.props.gameArgs)) {\n      message = 'Place piece';\n    } else if (this.props.ctx.currentPlayer !== this.props.playerID && !isLocalGame(this.props.gameArgs)) {\n      message = 'Waiting for opponent...';\n    }\n    return message;\n  }\n\n  _onDrop = (coords: { x: number; y: number; originalX: number; originalY: number }) => {\n    const x = Math.round(coords.x);\n    const y = Math.round(coords.y);\n    const transform = { ...this.state.piece.transform, x, y };\n    const positions = getAllPositions(this.state.piece.data, transform);\n    if (positions.every((pos) => inBounds(pos.x, pos.y))) {\n      this.setState({\n        ...this.state,\n        piece: { ...this.state.piece, transform },\n        validTransform: this.isTransformValid(this.state.piece.data, transform),\n      });\n    }\n  };\n\n  _getOptionsMenuItems = () => {\n    const option: IOptionsItems = {\n      onClick: this._endGame,\n      text: `End game`,\n    };\n    const options = [option];\n    return options;\n  };\n\n  componentDidUpdate(prevProps: IBoardProps) {\n    if (prevProps.ctx.turn !== this.props.ctx.turn) {\n      const transform = { ...this.state.piece.transform, flipX: false, flipY: false, rotation: 0, x: 10, y: 10 };\n      const data =\n        pieces[\n          this.props.G.players[getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer) as any].pieces[0]\n        ];\n      this.setState({\n        ...this.state,\n        piece: {\n          ...this.state.piece,\n          index: 0,\n          transform,\n          data,\n        },\n        validTransform: this.isTransformValid(data, transform),\n      });\n    }\n  }\n\n  render() {\n    if (this.props.ctx.gameover) {\n      return (\n        <GameLayout\n          gameOver={this._getGameOver()}\n          extraCardContent={this._getScoreBoard()}\n          gameArgs={this.props.gameArgs}\n        />\n      );\n    }\n\n    const colors = [blue, yellow, red, green];\n    const colorMap = this.getColorMap(colors);\n\n    return (\n      <div>\n        <GameLayout optionsMenuItems={this._getOptionsMenuItems} gameArgs={this.props.gameArgs}>\n          <Typography variant=\"h5\" style={{ textAlign: 'center', color: 'white', marginBottom: '16px' }}>\n            {this._getStatus()}\n          </Typography>\n          <Grid rows={20} cols={20} onClick={() => null} colorMap={colorMap}>\n            {isLocalGame(this.props.gameArgs) || this.props.ctx.currentPlayer === this.props.playerID ? (\n              <Token\n                x={this.state.piece.transform.x}\n                y={this.state.piece.transform.y}\n                draggable={true}\n                shouldDrag={() => true}\n                onDrop={this._onDrop}\n              >\n                <g>\n                  <g\n                    fill={colors[getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer) as any][600]}\n                    opacity={0.9}\n                  >\n                    {this.state.piece.data\n                      .map((square, index) => ({ square, index }))\n                      .filter((piece) => piece.square)\n                      .map((piece) => (\n                        <rect\n                          x={piece.index % Math.sqrt(this.state.piece.data.length)}\n                          y={Math.floor(piece.index / Math.sqrt(this.state.piece.data.length))}\n                          width=\"1\"\n                          height=\"1\"\n                          key={piece.index}\n                        ></rect>\n                      ))}\n                  </g>\n                  <rect width=\"50\" height=\"50\" x=\"-25\" y=\"-25\" fill=\"none\" style={{ pointerEvents: 'all' }}></rect>\n                </g>\n              </Token>\n            ) : (\n              <div></div>\n            )}\n          </Grid>\n          <Controls\n            placePiece={this._placePiece}\n            modifyPiece={this._modifyPiece}\n            validTransform={this.state.validTransform}\n            piece={this.state.piece}\n            G={this.props.G}\n            ctx={this.props.ctx}\n          />\n        </GameLayout>\n      </div>\n    );\n  }\n\n  getColorMap(colors: any[]): IColorMap {\n    const colorMap = {} as IColorMap;\n\n    this.props.G.board\n      .map((square, index) => ({ square, index }))\n      .forEach((piece) => {\n        const x = piece.index % 20;\n        const y = Math.floor(piece.index / 20);\n\n        const key = `${x},${y}`;\n        let color: any = grey[800];\n        if (piece.square !== null) {\n          if ((x + y) % 2 === 0) {\n            color = colors[piece.square as any][700];\n          } else {\n            color = colors[piece.square as any][600];\n          }\n        } else if (x === 0 && y === 0) {\n          color = blue[400];\n        } else if (x === 19 && y === 0) {\n          color = yellow[400];\n        } else if (x === 19 && y === 19) {\n          color = red[400];\n        } else if (x === 0 && y === 19) {\n          color = green[400];\n        } else if ((x + y) % 2 === 0) {\n          color = grey[900];\n        }\n        colorMap[key] = color;\n      });\n\n    return colorMap;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}