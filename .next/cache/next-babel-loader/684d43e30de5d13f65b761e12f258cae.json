{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n\nfunction cov_2noc4a7ksf() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/ui/2d/grid.js\";\n  var hash = \"3918b7b6aef2b5d873a9b3ced78aa755c8be9a44\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/ui/2d/grid.js\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 36,\n          column: 21\n        },\n        end: {\n          line: 47,\n          column: 3\n        }\n      },\n      \"1\": {\n        start: {\n          line: 49,\n          column: 24\n        },\n        end: {\n          line: 53,\n          column: 3\n        }\n      },\n      \"2\": {\n        start: {\n          line: 55,\n          column: 12\n        },\n        end: {\n          line: 55,\n          column: 29\n        }\n      },\n      \"3\": {\n        start: {\n          line: 58,\n          column: 16\n        },\n        end: {\n          line: 58,\n          column: 27\n        }\n      },\n      \"4\": {\n        start: {\n          line: 59,\n          column: 16\n        },\n        end: {\n          line: 59,\n          column: 23\n        }\n      },\n      \"5\": {\n        start: {\n          line: 60,\n          column: 4\n        },\n        end: {\n          line: 62,\n          column: 5\n        }\n      },\n      \"6\": {\n        start: {\n          line: 61,\n          column: 6\n        },\n        end: {\n          line: 61,\n          column: 39\n        }\n      },\n      \"7\": {\n        start: {\n          line: 63,\n          column: 4\n        },\n        end: {\n          line: 63,\n          column: 17\n        }\n      },\n      \"8\": {\n        start: {\n          line: 67,\n          column: 4\n        },\n        end: {\n          line: 69,\n          column: 5\n        }\n      },\n      \"9\": {\n        start: {\n          line: 68,\n          column: 6\n        },\n        end: {\n          line: 68,\n          column: 18\n        }\n      },\n      \"10\": {\n        start: {\n          line: 71,\n          column: 18\n        },\n        end: {\n          line: 71,\n          column: 20\n        }\n      },\n      \"11\": {\n        start: {\n          line: 72,\n          column: 4\n        },\n        end: {\n          line: 87,\n          column: 5\n        }\n      },\n      \"12\": {\n        start: {\n          line: 72,\n          column: 17\n        },\n        end: {\n          line: 72,\n          column: 18\n        }\n      },\n      \"13\": {\n        start: {\n          line: 73,\n          column: 6\n        },\n        end: {\n          line: 86,\n          column: 7\n        }\n      },\n      \"14\": {\n        start: {\n          line: 73,\n          column: 19\n        },\n        end: {\n          line: 73,\n          column: 20\n        }\n      },\n      \"15\": {\n        start: {\n          line: 74,\n          column: 8\n        },\n        end: {\n          line: 85,\n          column: 10\n        }\n      },\n      \"16\": {\n        start: {\n          line: 88,\n          column: 4\n        },\n        end: {\n          line: 88,\n          column: 19\n        }\n      },\n      \"17\": {\n        start: {\n          line: 91,\n          column: 12\n        },\n        end: {\n          line: 95,\n          column: 3\n        }\n      },\n      \"18\": {\n        start: {\n          line: 92,\n          column: 4\n        },\n        end: {\n          line: 94,\n          column: 5\n        }\n      },\n      \"19\": {\n        start: {\n          line: 93,\n          column: 6\n        },\n        end: {\n          line: 93,\n          column: 31\n        }\n      },\n      \"20\": {\n        start: {\n          line: 97,\n          column: 16\n        },\n        end: {\n          line: 101,\n          column: 3\n        }\n      },\n      \"21\": {\n        start: {\n          line: 98,\n          column: 4\n        },\n        end: {\n          line: 100,\n          column: 5\n        }\n      },\n      \"22\": {\n        start: {\n          line: 99,\n          column: 6\n        },\n        end: {\n          line: 99,\n          column: 35\n        }\n      },\n      \"23\": {\n        start: {\n          line: 103,\n          column: 15\n        },\n        end: {\n          line: 107,\n          column: 3\n        }\n      },\n      \"24\": {\n        start: {\n          line: 104,\n          column: 4\n        },\n        end: {\n          line: 106,\n          column: 5\n        }\n      },\n      \"25\": {\n        start: {\n          line: 105,\n          column: 6\n        },\n        end: {\n          line: 105,\n          column: 34\n        }\n      },\n      \"26\": {\n        start: {\n          line: 110,\n          column: 19\n        },\n        end: {\n          line: 119,\n          column: 6\n        }\n      },\n      \"27\": {\n        start: {\n          line: 111,\n          column: 6\n        },\n        end: {\n          line: 118,\n          column: 9\n        }\n      },\n      \"28\": {\n        start: {\n          line: 121,\n          column: 4\n        },\n        end: {\n          line: 126,\n          column: 6\n        }\n      },\n      \"29\": {\n        start: {\n          line: 150,\n          column: 21\n        },\n        end: {\n          line: 160,\n          column: 3\n        }\n      },\n      \"30\": {\n        start: {\n          line: 162,\n          column: 24\n        },\n        end: {\n          line: 168,\n          column: 3\n        }\n      },\n      \"31\": {\n        start: {\n          line: 170,\n          column: 10\n        },\n        end: {\n          line: 170,\n          column: 27\n        }\n      },\n      \"32\": {\n        start: {\n          line: 172,\n          column: 12\n        },\n        end: {\n          line: 174,\n          column: 3\n        }\n      },\n      \"33\": {\n        start: {\n          line: 173,\n          column: 4\n        },\n        end: {\n          line: 173,\n          column: 44\n        }\n      },\n      \"34\": {\n        start: {\n          line: 176,\n          column: 16\n        },\n        end: {\n          line: 178,\n          column: 3\n        }\n      },\n      \"35\": {\n        start: {\n          line: 177,\n          column: 4\n        },\n        end: {\n          line: 177,\n          column: 48\n        }\n      },\n      \"36\": {\n        start: {\n          line: 180,\n          column: 15\n        },\n        end: {\n          line: 182,\n          column: 3\n        }\n      },\n      \"37\": {\n        start: {\n          line: 181,\n          column: 4\n        },\n        end: {\n          line: 181,\n          column: 47\n        }\n      },\n      \"38\": {\n        start: {\n          line: 185,\n          column: 4\n        },\n        end: {\n          line: 188,\n          column: 6\n        }\n      },\n      \"39\": {\n        start: {\n          line: 192,\n          column: 20\n        },\n        end: {\n          line: 192,\n          column: 38\n        }\n      },\n      \"40\": {\n        start: {\n          line: 193,\n          column: 4\n        },\n        end: {\n          line: 195,\n          column: 5\n        }\n      },\n      \"41\": {\n        start: {\n          line: 194,\n          column: 6\n        },\n        end: {\n          line: 194,\n          column: 65\n        }\n      },\n      \"42\": {\n        start: {\n          line: 199,\n          column: 20\n        },\n        end: {\n          line: 199,\n          column: 38\n        }\n      },\n      \"43\": {\n        start: {\n          line: 200,\n          column: 4\n        },\n        end: {\n          line: 202,\n          column: 5\n        }\n      },\n      \"44\": {\n        start: {\n          line: 201,\n          column: 6\n        },\n        end: {\n          line: 201,\n          column: 68\n        }\n      },\n      \"45\": {\n        start: {\n          line: 206,\n          column: 15\n        },\n        end: {\n          line: 206,\n          column: 45\n        }\n      },\n      \"46\": {\n        start: {\n          line: 207,\n          column: 15\n        },\n        end: {\n          line: 207,\n          column: 45\n        }\n      },\n      \"47\": {\n        start: {\n          line: 210,\n          column: 19\n        },\n        end: {\n          line: 210,\n          column: 113\n        }\n      },\n      \"48\": {\n        start: {\n          line: 212,\n          column: 4\n        },\n        end: {\n          line: 214,\n          column: 5\n        }\n      },\n      \"49\": {\n        start: {\n          line: 213,\n          column: 6\n        },\n        end: {\n          line: 213,\n          column: 37\n        }\n      },\n      \"50\": {\n        start: {\n          line: 216,\n          column: 4\n        },\n        end: {\n          line: 226,\n          column: 6\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 57,\n            column: 2\n          },\n          end: {\n            line: 57,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 57,\n            column: 22\n          },\n          end: {\n            line: 64,\n            column: 3\n          }\n        },\n        line: 57\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 66,\n            column: 2\n          },\n          end: {\n            line: 66,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 66,\n            column: 13\n          },\n          end: {\n            line: 89,\n            column: 3\n          }\n        },\n        line: 66\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 91,\n            column: 12\n          },\n          end: {\n            line: 91,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 91,\n            column: 22\n          },\n          end: {\n            line: 95,\n            column: 3\n          }\n        },\n        line: 91\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 97,\n            column: 16\n          },\n          end: {\n            line: 97,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 97,\n            column: 26\n          },\n          end: {\n            line: 101,\n            column: 3\n          }\n        },\n        line: 97\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 103,\n            column: 15\n          },\n          end: {\n            line: 103,\n            column: 16\n          }\n        },\n        loc: {\n          start: {\n            line: 103,\n            column: 25\n          },\n          end: {\n            line: 107,\n            column: 3\n          }\n        },\n        line: 103\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 109,\n            column: 2\n          },\n          end: {\n            line: 109,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 109,\n            column: 11\n          },\n          end: {\n            line: 127,\n            column: 3\n          }\n        },\n        line: 109\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 110,\n            column: 59\n          },\n          end: {\n            line: 110,\n            column: 60\n          }\n        },\n        loc: {\n          start: {\n            line: 110,\n            column: 70\n          },\n          end: {\n            line: 119,\n            column: 5\n          }\n        },\n        line: 110\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 172,\n            column: 12\n          },\n          end: {\n            line: 172,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 172,\n            column: 19\n          },\n          end: {\n            line: 174,\n            column: 3\n          }\n        },\n        line: 172\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 176,\n            column: 16\n          },\n          end: {\n            line: 176,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 176,\n            column: 23\n          },\n          end: {\n            line: 178,\n            column: 3\n          }\n        },\n        line: 176\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 180,\n            column: 15\n          },\n          end: {\n            line: 180,\n            column: 16\n          }\n        },\n        loc: {\n          start: {\n            line: 180,\n            column: 22\n          },\n          end: {\n            line: 182,\n            column: 3\n          }\n        },\n        line: 180\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 184,\n            column: 2\n          },\n          end: {\n            line: 184,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 184,\n            column: 14\n          },\n          end: {\n            line: 189,\n            column: 3\n          }\n        },\n        line: 184\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 191,\n            column: 2\n          },\n          end: {\n            line: 191,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 191,\n            column: 22\n          },\n          end: {\n            line: 196,\n            column: 3\n          }\n        },\n        line: 191\n      },\n      \"12\": {\n        name: \"(anonymous_12)\",\n        decl: {\n          start: {\n            line: 198,\n            column: 2\n          },\n          end: {\n            line: 198,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 198,\n            column: 25\n          },\n          end: {\n            line: 203,\n            column: 3\n          }\n        },\n        line: 198\n      },\n      \"13\": {\n        name: \"(anonymous_13)\",\n        decl: {\n          start: {\n            line: 205,\n            column: 2\n          },\n          end: {\n            line: 205,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 205,\n            column: 11\n          },\n          end: {\n            line: 227,\n            column: 3\n          }\n        },\n        line: 205\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 60,\n            column: 4\n          },\n          end: {\n            line: 62,\n            column: 5\n          }\n        }],\n        line: 60\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 67,\n            column: 4\n          },\n          end: {\n            line: 69,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 67,\n            column: 4\n          },\n          end: {\n            line: 69,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 67,\n            column: 4\n          },\n          end: {\n            line: 69,\n            column: 5\n          }\n        }],\n        line: 67\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 92,\n            column: 4\n          },\n          end: {\n            line: 94,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 92,\n            column: 4\n          },\n          end: {\n            line: 94,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 92,\n            column: 4\n          },\n          end: {\n            line: 94,\n            column: 5\n          }\n        }],\n        line: 92\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 98,\n            column: 4\n          },\n          end: {\n            line: 100,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 98,\n            column: 4\n          },\n          end: {\n            line: 100,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 98,\n            column: 4\n          },\n          end: {\n            line: 100,\n            column: 5\n          }\n        }],\n        line: 98\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 104,\n            column: 4\n          },\n          end: {\n            line: 106,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 104,\n            column: 4\n          },\n          end: {\n            line: 106,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 104,\n            column: 4\n          },\n          end: {\n            line: 106,\n            column: 5\n          }\n        }],\n        line: 104\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 212,\n            column: 4\n          },\n          end: {\n            line: 214,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 212,\n            column: 4\n          },\n          end: {\n            line: 214,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 212,\n            column: 4\n          },\n          end: {\n            line: 214,\n            column: 5\n          }\n        }],\n        line: 212\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"3918b7b6aef2b5d873a9b3ced78aa755c8be9a44\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_2noc4a7ksf = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_2noc4a7ksf();\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _createSuper(Derived) { return function () { var Super = _getPrototypeOf(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\n/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n/**\n * Grid\n *\n * Component that will show children on a cartesian regular grid.\n *\n * Props:\n *   rows       - Number of rows (height) of the grid.\n *   cols       - Number of columns (width) of the grid.\n *   style      - CSS style of the Grid HTML element.\n *   colorMap   - A map from 'x,y' => color.\n *   onClick    - (x, y) => {}\n *                Called when a square is clicked.\n *   onMouseOver    - (x, y) => {}\n *                Called when a square is mouse over.\n *   onMouseOut    - (x, y) => {}\n *                Called when a square is mouse out.\n *\n * Usage:\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2}/>\n * </Grid>\n */\n\nexport var Grid = /*#__PURE__*/function (_React$Component) {\n  _inherits(Grid, _React$Component);\n\n  var _super = _createSuper(Grid);\n\n  function Grid() {\n    var _this;\n\n    _classCallCheck(this, Grid);\n\n    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {\n      _args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(_args));\n\n    _defineProperty(_assertThisInitialized(_this), \"_svgRef\", (cov_2noc4a7ksf().s[2]++, React.createRef()));\n\n    _defineProperty(_assertThisInitialized(_this), \"onClick\", (cov_2noc4a7ksf().s[17]++, function (args) {\n      cov_2noc4a7ksf().f[2]++;\n      cov_2noc4a7ksf().s[18]++;\n\n      if (_this.props.onClick) {\n        cov_2noc4a7ksf().b[2][0]++;\n        cov_2noc4a7ksf().s[19]++;\n\n        _this.props.onClick(args);\n      } else {\n        cov_2noc4a7ksf().b[2][1]++;\n      }\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOver\", (cov_2noc4a7ksf().s[20]++, function (args) {\n      cov_2noc4a7ksf().f[3]++;\n      cov_2noc4a7ksf().s[21]++;\n\n      if (_this.props.onMouseOver) {\n        cov_2noc4a7ksf().b[3][0]++;\n        cov_2noc4a7ksf().s[22]++;\n\n        _this.props.onMouseOver(args);\n      } else {\n        cov_2noc4a7ksf().b[3][1]++;\n      }\n    }));\n\n    _defineProperty(_assertThisInitialized(_this), \"onMouseOut\", (cov_2noc4a7ksf().s[23]++, function (args) {\n      cov_2noc4a7ksf().f[4]++;\n      cov_2noc4a7ksf().s[24]++;\n\n      if (_this.props.onMouseOut) {\n        cov_2noc4a7ksf().b[4][0]++;\n        cov_2noc4a7ksf().s[25]++;\n\n        _this.props.onMouseOut(args);\n      } else {\n        cov_2noc4a7ksf().b[4][1]++;\n      }\n    }));\n\n    return _this;\n  }\n\n  _createClass(Grid, [{\n    key: \"_getCellColor\",\n    value: function _getCellColor(x, y) {\n      cov_2noc4a7ksf().f[0]++;\n      var key = (cov_2noc4a7ksf().s[3]++, \"\".concat(x, \",\").concat(y));\n      var color = (cov_2noc4a7ksf().s[4]++, 'white');\n      cov_2noc4a7ksf().s[5]++;\n\n      if (key in this.props.colorMap) {\n        cov_2noc4a7ksf().b[0][0]++;\n        cov_2noc4a7ksf().s[6]++;\n        color = this.props.colorMap[key];\n      } else {\n        cov_2noc4a7ksf().b[0][1]++;\n      }\n\n      cov_2noc4a7ksf().s[7]++;\n      return color;\n    }\n  }, {\n    key: \"_getGrid\",\n    value: function _getGrid() {\n      cov_2noc4a7ksf().f[1]++;\n      cov_2noc4a7ksf().s[8]++;\n\n      if (!this.props.outline) {\n        cov_2noc4a7ksf().b[1][0]++;\n        cov_2noc4a7ksf().s[9]++;\n        return null;\n      } else {\n        cov_2noc4a7ksf().b[1][1]++;\n      }\n\n      var squares = (cov_2noc4a7ksf().s[10]++, []);\n      cov_2noc4a7ksf().s[11]++;\n\n      for (var x = (cov_2noc4a7ksf().s[12]++, 0); x < this.props.cols; x++) {\n        cov_2noc4a7ksf().s[13]++;\n\n        for (var y = (cov_2noc4a7ksf().s[14]++, 0); y < this.props.rows; y++) {\n          cov_2noc4a7ksf().s[15]++;\n          squares.push(__jsx(Square, {\n            key: this.props.cols * y + x,\n            style: {\n              fill: this._getCellColor(x, y)\n            },\n            x: x,\n            y: y,\n            size: this.props.cellSize,\n            onClick: this.onClick,\n            onMouseOver: this.onMouseOver,\n            onMouseOut: this.onMouseOut\n          }));\n        }\n      }\n\n      cov_2noc4a7ksf().s[16]++;\n      return squares;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      cov_2noc4a7ksf().f[5]++;\n      var tokens = (cov_2noc4a7ksf().s[26]++, React.Children.map(this.props.children, function (child) {\n        cov_2noc4a7ksf().f[6]++;\n        cov_2noc4a7ksf().s[27]++;\n        return React.cloneElement(child, {\n          template: Square,\n          // Overwrites Token's onClick, onMouseOver, onMouseOut\n          onClick: _this2.onClick,\n          onMouseOver: _this2.onMouseOver,\n          onMouseOut: _this2.onMouseOut,\n          svgRef: _this2._svgRef\n        });\n      }));\n      cov_2noc4a7ksf().s[28]++;\n      return __jsx(\"svg\", {\n        ref: this._svgRef,\n        viewBox: '0 0 ' + this.props.cols + ' ' + this.props.rows,\n        style: this.props.style\n      }, __jsx(\"g\", null, this._getGrid()), tokens);\n    }\n  }]);\n\n  return Grid;\n}((React.Component));\n/**\n * Square\n *\n * Component that renders a square inside a Grid.\n *\n * Props:\n *   x       - X coordinate on grid coordinates.\n *   y       - Y coordinate on grid coordinates.\n *   size    - Square size.\n *   style   - Custom styling.\n *   onClick - Invoked when a Square is clicked.\n *   onMouseOver - Invoked when a Square is mouse over.\n *   onMouseOut - Invoked when a Square is mouse out.\n *   eventListeners - Array of objects with name and callback\n *   for DOM events.\n *\n * Not meant to be used by the end user directly (use Token).\n * Also not exposed in the NPM.\n */\n\n_defineProperty(Grid, \"propTypes\", (cov_2noc4a7ksf().s[0]++, {\n  rows: PropTypes.number.isRequired,\n  cols: PropTypes.number.isRequired,\n  outline: PropTypes.bool,\n  style: PropTypes.object,\n  colorMap: PropTypes.object,\n  cellSize: PropTypes.number,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.element), PropTypes.element])\n}));\n\n_defineProperty(Grid, \"defaultProps\", (cov_2noc4a7ksf().s[1]++, {\n  colorMap: {},\n  outline: true,\n  cellSize: 1\n}));\n\nexport var Square = /*#__PURE__*/function (_React$Component2) {\n  _inherits(Square, _React$Component2);\n\n  var _super2 = _createSuper(Square);\n\n  function Square() {\n    var _this3;\n\n    _classCallCheck(this, Square);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this3 = _super2.call.apply(_super2, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this3), \"_gRef\", (cov_2noc4a7ksf().s[31]++, React.createRef()));\n\n    _defineProperty(_assertThisInitialized(_this3), \"onClick\", (cov_2noc4a7ksf().s[32]++, function (e) {\n      cov_2noc4a7ksf().f[7]++;\n      cov_2noc4a7ksf().s[33]++;\n\n      _this3.props.onClick(_this3.getCoords(), e);\n    }));\n\n    _defineProperty(_assertThisInitialized(_this3), \"onMouseOver\", (cov_2noc4a7ksf().s[34]++, function (e) {\n      cov_2noc4a7ksf().f[8]++;\n      cov_2noc4a7ksf().s[35]++;\n\n      _this3.props.onMouseOver(_this3.getCoords(), e);\n    }));\n\n    _defineProperty(_assertThisInitialized(_this3), \"onMouseOut\", (cov_2noc4a7ksf().s[36]++, function (e) {\n      cov_2noc4a7ksf().f[9]++;\n      cov_2noc4a7ksf().s[37]++;\n\n      _this3.props.onMouseOut(_this3.getCoords(), e);\n    }));\n\n    return _this3;\n  }\n\n  _createClass(Square, [{\n    key: \"getCoords\",\n    value: function getCoords() {\n      cov_2noc4a7ksf().f[10]++;\n      cov_2noc4a7ksf().s[38]++;\n      return {\n        x: this.props.x,\n        y: this.props.y\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      cov_2noc4a7ksf().f[11]++;\n      var element = (cov_2noc4a7ksf().s[39]++, this._gRef.current);\n      cov_2noc4a7ksf().s[40]++;\n\n      var _iterator = _createForOfIteratorHelper(this.props.eventListeners),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var listener = _step.value;\n          cov_2noc4a7ksf().s[41]++;\n          element.addEventListener(listener.name, listener.callback);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      cov_2noc4a7ksf().f[12]++;\n      var element = (cov_2noc4a7ksf().s[42]++, this._gRef.current);\n      cov_2noc4a7ksf().s[43]++;\n\n      var _iterator2 = _createForOfIteratorHelper(this.props.eventListeners),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var listener = _step2.value;\n          cov_2noc4a7ksf().s[44]++;\n          element.removeEventListener(listener.name, listener.callback);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      cov_2noc4a7ksf().f[13]++;\n      var tx = (cov_2noc4a7ksf().s[45]++, this.props.x * this.props.size);\n      var ty = (cov_2noc4a7ksf().s[46]++, this.props.y * this.props.size); // If no child, render a square.\n\n      var children = (cov_2noc4a7ksf().s[47]++, __jsx(\"rect\", {\n        style: this.props.style,\n        width: this.props.size,\n        height: this.props.size,\n        x: 0,\n        y: 0\n      })); // If a child is passed, render child.\n\n      cov_2noc4a7ksf().s[48]++;\n\n      if (this.props.children) {\n        cov_2noc4a7ksf().b[5][0]++;\n        cov_2noc4a7ksf().s[49]++;\n        children = this.props.children;\n      } else {\n        cov_2noc4a7ksf().b[5][1]++;\n      }\n\n      cov_2noc4a7ksf().s[50]++;\n      return __jsx(\"g\", {\n        ref: this._gRef,\n        onClick: this.onClick,\n        onMouseOver: this.onMouseOver,\n        onMouseOut: this.onMouseOut,\n        transform: \"translate(\".concat(tx, \", \").concat(ty, \")\")\n      }, children);\n    }\n  }]);\n\n  return Square;\n}((React.Component));\n\n_defineProperty(Square, \"propTypes\", (cov_2noc4a7ksf().s[29]++, {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  size: PropTypes.number,\n  style: PropTypes.any,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  eventListeners: PropTypes.array,\n  children: PropTypes.element\n}));\n\n_defineProperty(Square, \"defaultProps\", (cov_2noc4a7ksf().s[30]++, {\n  size: 1,\n  x: 0,\n  y: 0,\n  style: {\n    fill: '#fff'\n  },\n  eventListeners: []\n}));","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/ui/2d/grid.js"],"names":["React","PropTypes","Grid","createRef","args","props","onClick","onMouseOver","onMouseOut","x","y","key","color","colorMap","outline","squares","cols","rows","push","fill","_getCellColor","cellSize","tokens","Children","map","children","child","cloneElement","template","Square","svgRef","_svgRef","style","_getGrid","Component","number","isRequired","bool","object","func","oneOfType","arrayOf","element","e","getCoords","_gRef","current","eventListeners","listener","addEventListener","name","callback","removeEventListener","tx","size","ty","any","array"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;;AAQA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA;;;;;;;;;;;;;;;;;;;;;;;;AAuBA,WAAaC,IAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,wFAoBYF,KAAK,CAACG,SAAN,EApBZ;;AAAA,yFAwDY,UAACC,IAAD,EAAU;AAAA;AAAA;;AAClB,UAAI,MAAKC,KAAL,CAAWC,OAAf,EAAwB;AAAA;AAAA;;AACtB,cAAKD,KAAL,CAAWC,OAAX,CAAmBF,IAAnB;AACD,OAFD;AAAA;AAAA;AAGD,KA5DH;;AAAA,6FA8DgB,UAACA,IAAD,EAAU;AAAA;AAAA;;AACtB,UAAI,MAAKC,KAAL,CAAWE,WAAf,EAA4B;AAAA;AAAA;;AAC1B,cAAKF,KAAL,CAAWE,WAAX,CAAuBH,IAAvB;AACD,OAFD;AAAA;AAAA;AAGD,KAlEH;;AAAA,4FAoEe,UAACA,IAAD,EAAU;AAAA;AAAA;;AACrB,UAAI,MAAKC,KAAL,CAAWG,UAAf,EAA2B;AAAA;AAAA;;AACzB,cAAKH,KAAL,CAAWG,UAAX,CAAsBJ,IAAtB;AACD,OAFD;AAAA;AAAA;AAGD,KAxEH;;AAAA;AAAA;;AAAA;AAAA;AAAA,kCAsBgBK,CAtBhB,EAsBmBC,CAtBnB,EAsBsB;AAAA;AAClB,UAAMC,GAAG,uCAAMF,CAAN,cAAWC,CAAX,EAAT;AACA,UAAIE,KAAK,6BAAG,OAAH,CAAT;AAFkB;;AAGlB,UAAID,GAAG,IAAI,KAAKN,KAAL,CAAWQ,QAAtB,EAAgC;AAAA;AAAA;AAC9BD,QAAAA,KAAK,GAAG,KAAKP,KAAL,CAAWQ,QAAX,CAAoBF,GAApB,CAAR;AACD,OAFD;AAAA;AAAA;;AAHkB;AAMlB,aAAOC,KAAP;AACD;AA7BH;AAAA;AAAA,+BA+Ba;AAAA;AAAA;;AACT,UAAI,CAAC,KAAKP,KAAL,CAAWS,OAAhB,EAAyB;AAAA;AAAA;AACvB,eAAO,IAAP;AACD,OAFD;AAAA;AAAA;;AAIA,UAAIC,OAAO,8BAAG,EAAH,CAAX;AALS;;AAMT,WAAK,IAAIN,CAAC,8BAAG,CAAH,CAAV,EAAgBA,CAAC,GAAG,KAAKJ,KAAL,CAAWW,IAA/B,EAAqCP,CAAC,EAAtC,EAA0C;AAAA;;AACxC,aAAK,IAAIC,CAAC,8BAAG,CAAH,CAAV,EAAgBA,CAAC,GAAG,KAAKL,KAAL,CAAWY,IAA/B,EAAqCP,CAAC,EAAtC,EAA0C;AAAA;AACxCK,UAAAA,OAAO,CAACG,IAAR,CACE,MAAC,MAAD;AACE,YAAA,GAAG,EAAE,KAAKb,KAAL,CAAWW,IAAX,GAAkBN,CAAlB,GAAsBD,CAD7B;AAEE,YAAA,KAAK,EAAE;AAAEU,cAAAA,IAAI,EAAE,KAAKC,aAAL,CAAmBX,CAAnB,EAAsBC,CAAtB;AAAR,aAFT;AAGE,YAAA,CAAC,EAAED,CAHL;AAIE,YAAA,CAAC,EAAEC,CAJL;AAKE,YAAA,IAAI,EAAE,KAAKL,KAAL,CAAWgB,QALnB;AAME,YAAA,OAAO,EAAE,KAAKf,OANhB;AAOE,YAAA,WAAW,EAAE,KAAKC,WAPpB;AAQE,YAAA,UAAU,EAAE,KAAKC;AARnB,YADF;AAYD;AACF;;AArBQ;AAsBT,aAAOO,OAAP;AACD;AAtDH;AAAA;AAAA,6BA0EW;AAAA;;AAAA;AACP,UAAMO,MAAM,8BAAGtB,KAAK,CAACuB,QAAN,CAAeC,GAAf,CAAmB,KAAKnB,KAAL,CAAWoB,QAA9B,EAAwC,UAACC,KAAD,EAAW;AAAA;AAAA;AAChE,eAAO1B,KAAK,CAAC2B,YAAN,CAAmBD,KAAnB,EAA0B;AAC/BE,UAAAA,QAAQ,EAAEC,MADqB;AAE/B;AACAvB,UAAAA,OAAO,EAAE,MAAI,CAACA,OAHiB;AAI/BC,UAAAA,WAAW,EAAE,MAAI,CAACA,WAJa;AAK/BC,UAAAA,UAAU,EAAE,MAAI,CAACA,UALc;AAM/BsB,UAAAA,MAAM,EAAE,MAAI,CAACC;AANkB,SAA1B,CAAP;AAQD,OATc,CAAH,CAAZ;AADO;AAYP,aACE;AAAK,QAAA,GAAG,EAAE,KAAKA,OAAf;AAAwB,QAAA,OAAO,EAAE,SAAS,KAAK1B,KAAL,CAAWW,IAApB,GAA2B,GAA3B,GAAiC,KAAKX,KAAL,CAAWY,IAA7E;AAAmF,QAAA,KAAK,EAAE,KAAKZ,KAAL,CAAW2B;AAArG,SACE,iBAAI,KAAKC,QAAL,EAAJ,CADF,EAEGX,MAFH,CADF;AAMD;AA5FH;;AAAA;AAAA,GAA0BtB,KAAK,CAACkC,SAAhC;AA+FA;;;;;;;;;;;;;;;;;;;;gBA/FahC,I,yCACQ;AACjBe,EAAAA,IAAI,EAAEhB,SAAS,CAACkC,MAAV,CAAiBC,UADN;AAEjBpB,EAAAA,IAAI,EAAEf,SAAS,CAACkC,MAAV,CAAiBC,UAFN;AAGjBtB,EAAAA,OAAO,EAAEb,SAAS,CAACoC,IAHF;AAIjBL,EAAAA,KAAK,EAAE/B,SAAS,CAACqC,MAJA;AAKjBzB,EAAAA,QAAQ,EAAEZ,SAAS,CAACqC,MALH;AAMjBjB,EAAAA,QAAQ,EAAEpB,SAAS,CAACkC,MANH;AAOjB7B,EAAAA,OAAO,EAAEL,SAAS,CAACsC,IAPF;AAQjBhC,EAAAA,WAAW,EAAEN,SAAS,CAACsC,IARN;AASjB/B,EAAAA,UAAU,EAAEP,SAAS,CAACsC,IATL;AAUjBd,EAAAA,QAAQ,EAAExB,SAAS,CAACuC,SAAV,CAAoB,CAACvC,SAAS,CAACwC,OAAV,CAAkBxC,SAAS,CAACyC,OAA5B,CAAD,EAAuCzC,SAAS,CAACyC,OAAjD,CAApB;AAVO,C;;gBADRxC,I,4CAcW;AACpBW,EAAAA,QAAQ,EAAE,EADU;AAEpBC,EAAAA,OAAO,EAAE,IAFW;AAGpBO,EAAAA,QAAQ,EAAE;AAHU,C;;AAoGxB,WAAaQ,MAAb;AAAA;;AAAA;;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA;;AAAA;;AAAA,wFAqBU7B,KAAK,CAACG,SAAN,EArBV;;AAAA,0FAuBY,UAACwC,CAAD,EAAO;AAAA;AAAA;;AACf,aAAKtC,KAAL,CAAWC,OAAX,CAAmB,OAAKsC,SAAL,EAAnB,EAAqCD,CAArC;AACD,KAzBH;;AAAA,8FA2BgB,UAACA,CAAD,EAAO;AAAA;AAAA;;AACnB,aAAKtC,KAAL,CAAWE,WAAX,CAAuB,OAAKqC,SAAL,EAAvB,EAAyCD,CAAzC;AACD,KA7BH;;AAAA,6FA+Be,UAACA,CAAD,EAAO;AAAA;AAAA;;AAClB,aAAKtC,KAAL,CAAWG,UAAX,CAAsB,OAAKoC,SAAL,EAAtB,EAAwCD,CAAxC;AACD,KAjCH;;AAAA;AAAA;;AAAA;AAAA;AAAA,gCAmCc;AAAA;AAAA;AACV,aAAO;AACLlC,QAAAA,CAAC,EAAE,KAAKJ,KAAL,CAAWI,CADT;AAELC,QAAAA,CAAC,EAAE,KAAKL,KAAL,CAAWK;AAFT,OAAP;AAID;AAxCH;AAAA;AAAA,wCA0CsB;AAAA;AAClB,UAAMgC,OAAO,8BAAG,KAAKG,KAAL,CAAWC,OAAd,CAAb;AADkB;;AAAA,iDAEG,KAAKzC,KAAL,CAAW0C,cAFd;AAAA;;AAAA;AAElB,4DAAgD;AAAA,cAAvCC,QAAuC;AAAA;AAC9CN,UAAAA,OAAO,CAACO,gBAAR,CAAyBD,QAAQ,CAACE,IAAlC,EAAwCF,QAAQ,CAACG,QAAjD;AACD;AAJiB;AAAA;AAAA;AAAA;AAAA;AAKnB;AA/CH;AAAA;AAAA,2CAiDyB;AAAA;AACrB,UAAMT,OAAO,8BAAG,KAAKG,KAAL,CAAWC,OAAd,CAAb;AADqB;;AAAA,kDAEA,KAAKzC,KAAL,CAAW0C,cAFX;AAAA;;AAAA;AAErB,+DAAgD;AAAA,cAAvCC,QAAuC;AAAA;AAC9CN,UAAAA,OAAO,CAACU,mBAAR,CAA4BJ,QAAQ,CAACE,IAArC,EAA2CF,QAAQ,CAACG,QAApD;AACD;AAJoB;AAAA;AAAA;AAAA;AAAA;AAKtB;AAtDH;AAAA;AAAA,6BAwDW;AAAA;AACP,UAAME,EAAE,8BAAG,KAAKhD,KAAL,CAAWI,CAAX,GAAe,KAAKJ,KAAL,CAAWiD,IAA7B,CAAR;AACA,UAAMC,EAAE,8BAAG,KAAKlD,KAAL,CAAWK,CAAX,GAAe,KAAKL,KAAL,CAAWiD,IAA7B,CAAR,CAFO,CAIP;;AACA,UAAI7B,QAAQ,8BAAG;AAAM,QAAA,KAAK,EAAE,KAAKpB,KAAL,CAAW2B,KAAxB;AAA+B,QAAA,KAAK,EAAE,KAAK3B,KAAL,CAAWiD,IAAjD;AAAuD,QAAA,MAAM,EAAE,KAAKjD,KAAL,CAAWiD,IAA1E;AAAgF,QAAA,CAAC,EAAE,CAAnF;AAAsF,QAAA,CAAC,EAAE;AAAzF,QAAH,CAAZ,CALO,CAMP;;AANO;;AAOP,UAAI,KAAKjD,KAAL,CAAWoB,QAAf,EAAyB;AAAA;AAAA;AACvBA,QAAAA,QAAQ,GAAG,KAAKpB,KAAL,CAAWoB,QAAtB;AACD,OAFD;AAAA;AAAA;;AAPO;AAWP,aACE;AACE,QAAA,GAAG,EAAE,KAAKoB,KADZ;AAEE,QAAA,OAAO,EAAE,KAAKvC,OAFhB;AAGE,QAAA,WAAW,EAAE,KAAKC,WAHpB;AAIE,QAAA,UAAU,EAAE,KAAKC,UAJnB;AAKE,QAAA,SAAS,sBAAe6C,EAAf,eAAsBE,EAAtB;AALX,SAOG9B,QAPH,CADF;AAWD;AA9EH;;AAAA;AAAA,GAA4BzB,KAAK,CAACkC,SAAlC;;gBAAaL,M,0CACQ;AACjBpB,EAAAA,CAAC,EAAER,SAAS,CAACkC,MAAV,CAAiBC,UADH;AAEjB1B,EAAAA,CAAC,EAAET,SAAS,CAACkC,MAAV,CAAiBC,UAFH;AAGjBkB,EAAAA,IAAI,EAAErD,SAAS,CAACkC,MAHC;AAIjBH,EAAAA,KAAK,EAAE/B,SAAS,CAACuD,GAJA;AAKjBlD,EAAAA,OAAO,EAAEL,SAAS,CAACsC,IALF;AAMjBhC,EAAAA,WAAW,EAAEN,SAAS,CAACsC,IANN;AAOjB/B,EAAAA,UAAU,EAAEP,SAAS,CAACsC,IAPL;AAQjBQ,EAAAA,cAAc,EAAE9C,SAAS,CAACwD,KART;AASjBhC,EAAAA,QAAQ,EAAExB,SAAS,CAACyC;AATH,C;;gBADRb,M,6CAaW;AACpByB,EAAAA,IAAI,EAAE,CADc;AAEpB7C,EAAAA,CAAC,EAAE,CAFiB;AAGpBC,EAAAA,CAAC,EAAE,CAHiB;AAIpBsB,EAAAA,KAAK,EAAE;AAAEb,IAAAA,IAAI,EAAE;AAAR,GAJa;AAKpB4B,EAAAA,cAAc,EAAE;AALI,C","sourcesContent":["/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-style\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\n/**\n * Grid\n *\n * Component that will show children on a cartesian regular grid.\n *\n * Props:\n *   rows       - Number of rows (height) of the grid.\n *   cols       - Number of columns (width) of the grid.\n *   style      - CSS style of the Grid HTML element.\n *   colorMap   - A map from 'x,y' => color.\n *   onClick    - (x, y) => {}\n *                Called when a square is clicked.\n *   onMouseOver    - (x, y) => {}\n *                Called when a square is mouse over.\n *   onMouseOut    - (x, y) => {}\n *                Called when a square is mouse out.\n *\n * Usage:\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2}/>\n * </Grid>\n */\nexport class Grid extends React.Component {\n  static propTypes = {\n    rows: PropTypes.number.isRequired,\n    cols: PropTypes.number.isRequired,\n    outline: PropTypes.bool,\n    style: PropTypes.object,\n    colorMap: PropTypes.object,\n    cellSize: PropTypes.number,\n    onClick: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.element), PropTypes.element]),\n  };\n\n  static defaultProps = {\n    colorMap: {},\n    outline: true,\n    cellSize: 1,\n  };\n\n  _svgRef = React.createRef();\n\n  _getCellColor(x, y) {\n    const key = `${x},${y}`;\n    let color = 'white';\n    if (key in this.props.colorMap) {\n      color = this.props.colorMap[key];\n    }\n    return color;\n  }\n\n  _getGrid() {\n    if (!this.props.outline) {\n      return null;\n    }\n\n    let squares = [];\n    for (let x = 0; x < this.props.cols; x++) {\n      for (let y = 0; y < this.props.rows; y++) {\n        squares.push(\n          <Square\n            key={this.props.cols * y + x}\n            style={{ fill: this._getCellColor(x, y) }}\n            x={x}\n            y={y}\n            size={this.props.cellSize}\n            onClick={this.onClick}\n            onMouseOver={this.onMouseOver}\n            onMouseOut={this.onMouseOut}\n          />,\n        );\n      }\n    }\n    return squares;\n  }\n\n  onClick = (args) => {\n    if (this.props.onClick) {\n      this.props.onClick(args);\n    }\n  };\n\n  onMouseOver = (args) => {\n    if (this.props.onMouseOver) {\n      this.props.onMouseOver(args);\n    }\n  };\n\n  onMouseOut = (args) => {\n    if (this.props.onMouseOut) {\n      this.props.onMouseOut(args);\n    }\n  };\n\n  render() {\n    const tokens = React.Children.map(this.props.children, (child) => {\n      return React.cloneElement(child, {\n        template: Square,\n        // Overwrites Token's onClick, onMouseOver, onMouseOut\n        onClick: this.onClick,\n        onMouseOver: this.onMouseOver,\n        onMouseOut: this.onMouseOut,\n        svgRef: this._svgRef,\n      });\n    });\n\n    return (\n      <svg ref={this._svgRef} viewBox={'0 0 ' + this.props.cols + ' ' + this.props.rows} style={this.props.style}>\n        <g>{this._getGrid()}</g>\n        {tokens}\n      </svg>\n    );\n  }\n}\n\n/**\n * Square\n *\n * Component that renders a square inside a Grid.\n *\n * Props:\n *   x       - X coordinate on grid coordinates.\n *   y       - Y coordinate on grid coordinates.\n *   size    - Square size.\n *   style   - Custom styling.\n *   onClick - Invoked when a Square is clicked.\n *   onMouseOver - Invoked when a Square is mouse over.\n *   onMouseOut - Invoked when a Square is mouse out.\n *   eventListeners - Array of objects with name and callback\n *   for DOM events.\n *\n * Not meant to be used by the end user directly (use Token).\n * Also not exposed in the NPM.\n */\nexport class Square extends React.Component {\n  static propTypes = {\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n    size: PropTypes.number,\n    style: PropTypes.any,\n    onClick: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    eventListeners: PropTypes.array,\n    children: PropTypes.element,\n  };\n\n  static defaultProps = {\n    size: 1,\n    x: 0,\n    y: 0,\n    style: { fill: '#fff' },\n    eventListeners: [],\n  };\n\n  _gRef = React.createRef();\n\n  onClick = (e) => {\n    this.props.onClick(this.getCoords(), e);\n  };\n\n  onMouseOver = (e) => {\n    this.props.onMouseOver(this.getCoords(), e);\n  };\n\n  onMouseOut = (e) => {\n    this.props.onMouseOut(this.getCoords(), e);\n  };\n\n  getCoords() {\n    return {\n      x: this.props.x,\n      y: this.props.y,\n    };\n  }\n\n  componentDidMount() {\n    const element = this._gRef.current;\n    for (let listener of this.props.eventListeners) {\n      element.addEventListener(listener.name, listener.callback);\n    }\n  }\n\n  componentWillUnmount() {\n    const element = this._gRef.current;\n    for (let listener of this.props.eventListeners) {\n      element.removeEventListener(listener.name, listener.callback);\n    }\n  }\n\n  render() {\n    const tx = this.props.x * this.props.size;\n    const ty = this.props.y * this.props.size;\n\n    // If no child, render a square.\n    let children = <rect style={this.props.style} width={this.props.size} height={this.props.size} x={0} y={0} />;\n    // If a child is passed, render child.\n    if (this.props.children) {\n      children = this.props.children;\n    }\n\n    return (\n      <g\n        ref={this._gRef}\n        onClick={this.onClick}\n        onMouseOver={this.onMouseOver}\n        onMouseOut={this.onMouseOut}\n        transform={`translate(${tx}, ${ty})`}\n      >\n        {children}\n      </g>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}