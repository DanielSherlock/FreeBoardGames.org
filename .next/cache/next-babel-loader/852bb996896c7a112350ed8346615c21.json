{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction cov_1r3ps7rd99() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/games/cornerus/game.ts\";\n  var hash = \"a5891a3ebd1a1b2651311e6a49503d718d79cdd1\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/games/cornerus/game.ts\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 27,\n          column: 2\n        },\n        end: {\n          line: 27,\n          column: 64\n        }\n      },\n      \"1\": {\n        start: {\n          line: 31,\n          column: 2\n        },\n        end: {\n          line: 31,\n          column: 20\n        }\n      },\n      \"2\": {\n        start: {\n          line: 35,\n          column: 2\n        },\n        end: {\n          line: 35,\n          column: 46\n        }\n      },\n      \"3\": {\n        start: {\n          line: 40,\n          column: 2\n        },\n        end: {\n          line: 50,\n          column: 3\n        }\n      },\n      \"4\": {\n        start: {\n          line: 41,\n          column: 4\n        },\n        end: {\n          line: 45,\n          column: 5\n        }\n      },\n      \"5\": {\n        start: {\n          line: 42,\n          column: 6\n        },\n        end: {\n          line: 42,\n          column: 42\n        }\n      },\n      \"6\": {\n        start: {\n          line: 44,\n          column: 6\n        },\n        end: {\n          line: 44,\n          column: 42\n        }\n      },\n      \"7\": {\n        start: {\n          line: 46,\n          column: 9\n        },\n        end: {\n          line: 50,\n          column: 3\n        }\n      },\n      \"8\": {\n        start: {\n          line: 47,\n          column: 4\n        },\n        end: {\n          line: 47,\n          column: 47\n        }\n      },\n      \"9\": {\n        start: {\n          line: 49,\n          column: 4\n        },\n        end: {\n          line: 49,\n          column: 20\n        }\n      },\n      \"10\": {\n        start: {\n          line: 54,\n          column: 2\n        },\n        end: {\n          line: 54,\n          column: 23\n        }\n      },\n      \"11\": {\n        start: {\n          line: 58,\n          column: 31\n        },\n        end: {\n          line: 61,\n          column: 5\n        }\n      },\n      \"12\": {\n        start: {\n          line: 58,\n          column: 61\n        },\n        end: {\n          line: 61,\n          column: 3\n        }\n      },\n      \"13\": {\n        start: {\n          line: 60,\n          column: 48\n        },\n        end: {\n          line: 60,\n          column: 101\n        }\n      },\n      \"14\": {\n        start: {\n          line: 60,\n          column: 87\n        },\n        end: {\n          line: 60,\n          column: 93\n        }\n      },\n      \"15\": {\n        start: {\n          line: 63,\n          column: 2\n        },\n        end: {\n          line: 72,\n          column: 3\n        }\n      },\n      \"16\": {\n        start: {\n          line: 64,\n          column: 4\n        },\n        end: {\n          line: 67,\n          column: 40\n        }\n      },\n      \"17\": {\n        start: {\n          line: 67,\n          column: 21\n        },\n        end: {\n          line: 67,\n          column: 38\n        }\n      },\n      \"18\": {\n        start: {\n          line: 68,\n          column: 9\n        },\n        end: {\n          line: 72,\n          column: 3\n        }\n      },\n      \"19\": {\n        start: {\n          line: 69,\n          column: 4\n        },\n        end: {\n          line: 69,\n          column: 82\n        }\n      },\n      \"20\": {\n        start: {\n          line: 69,\n          column: 39\n        },\n        end: {\n          line: 69,\n          column: 46\n        }\n      },\n      \"21\": {\n        start: {\n          line: 69,\n          column: 63\n        },\n        end: {\n          line: 69,\n          column: 80\n        }\n      },\n      \"22\": {\n        start: {\n          line: 71,\n          column: 4\n        },\n        end: {\n          line: 71,\n          column: 56\n        }\n      },\n      \"23\": {\n        start: {\n          line: 71,\n          column: 37\n        },\n        end: {\n          line: 71,\n          column: 54\n        }\n      },\n      \"24\": {\n        start: {\n          line: 76,\n          column: 15\n        },\n        end: {\n          line: 76,\n          column: 40\n        }\n      },\n      \"25\": {\n        start: {\n          line: 77,\n          column: 16\n        },\n        end: {\n          line: 77,\n          column: 41\n        }\n      },\n      \"26\": {\n        start: {\n          line: 78,\n          column: 2\n        },\n        end: {\n          line: 82,\n          column: 3\n        }\n      },\n      \"27\": {\n        start: {\n          line: 78,\n          column: 15\n        },\n        end: {\n          line: 78,\n          column: 16\n        }\n      },\n      \"28\": {\n        start: {\n          line: 79,\n          column: 14\n        },\n        end: {\n          line: 79,\n          column: 22\n        }\n      },\n      \"29\": {\n        start: {\n          line: 80,\n          column: 14\n        },\n        end: {\n          line: 80,\n          column: 34\n        }\n      },\n      \"30\": {\n        start: {\n          line: 81,\n          column: 4\n        },\n        end: {\n          line: 81,\n          column: 52\n        }\n      },\n      \"31\": {\n        start: {\n          line: 83,\n          column: 2\n        },\n        end: {\n          line: 83,\n          column: 17\n        }\n      },\n      \"32\": {\n        start: {\n          line: 87,\n          column: 15\n        },\n        end: {\n          line: 87,\n          column: 40\n        }\n      },\n      \"33\": {\n        start: {\n          line: 88,\n          column: 16\n        },\n        end: {\n          line: 88,\n          column: 41\n        }\n      },\n      \"34\": {\n        start: {\n          line: 89,\n          column: 2\n        },\n        end: {\n          line: 91,\n          column: 3\n        }\n      },\n      \"35\": {\n        start: {\n          line: 89,\n          column: 15\n        },\n        end: {\n          line: 89,\n          column: 16\n        }\n      },\n      \"36\": {\n        start: {\n          line: 90,\n          column: 4\n        },\n        end: {\n          line: 90,\n          column: 75\n        }\n      },\n      \"37\": {\n        start: {\n          line: 92,\n          column: 2\n        },\n        end: {\n          line: 92,\n          column: 17\n        }\n      },\n      \"38\": {\n        start: {\n          line: 96,\n          column: 15\n        },\n        end: {\n          line: 96,\n          column: 40\n        }\n      },\n      \"39\": {\n        start: {\n          line: 97,\n          column: 16\n        },\n        end: {\n          line: 97,\n          column: 41\n        }\n      },\n      \"40\": {\n        start: {\n          line: 98,\n          column: 2\n        },\n        end: {\n          line: 100,\n          column: 3\n        }\n      },\n      \"41\": {\n        start: {\n          line: 98,\n          column: 15\n        },\n        end: {\n          line: 98,\n          column: 16\n        }\n      },\n      \"42\": {\n        start: {\n          line: 99,\n          column: 4\n        },\n        end: {\n          line: 99,\n          column: 56\n        }\n      },\n      \"43\": {\n        start: {\n          line: 101,\n          column: 2\n        },\n        end: {\n          line: 101,\n          column: 17\n        }\n      },\n      \"44\": {\n        start: {\n          line: 105,\n          column: 17\n        },\n        end: {\n          line: 105,\n          column: 62\n        }\n      },\n      \"45\": {\n        start: {\n          line: 106,\n          column: 2\n        },\n        end: {\n          line: 106,\n          column: 50\n        }\n      },\n      \"46\": {\n        start: {\n          line: 109,\n          column: 16\n        },\n        end: {\n          line: 114,\n          column: 1\n        }\n      },\n      \"47\": {\n        start: {\n          line: 117,\n          column: 2\n        },\n        end: {\n          line: 124,\n          column: 67\n        }\n      },\n      \"48\": {\n        start: {\n          line: 118,\n          column: 29\n        },\n        end: {\n          line: 118,\n          column: 46\n        }\n      },\n      \"49\": {\n        start: {\n          line: 119,\n          column: 23\n        },\n        end: {\n          line: 119,\n          column: 35\n        }\n      },\n      \"50\": {\n        start: {\n          line: 121,\n          column: 23\n        },\n        end: {\n          line: 121,\n          column: 67\n        }\n      },\n      \"51\": {\n        start: {\n          line: 122,\n          column: 6\n        },\n        end: {\n          line: 122,\n          column: 56\n        }\n      },\n      \"52\": {\n        start: {\n          line: 124,\n          column: 20\n        },\n        end: {\n          line: 124,\n          column: 65\n        }\n      },\n      \"53\": {\n        start: {\n          line: 134,\n          column: 20\n        },\n        end: {\n          line: 134,\n          column: 53\n        }\n      },\n      \"54\": {\n        start: {\n          line: 135,\n          column: 2\n        },\n        end: {\n          line: 171,\n          column: 3\n        }\n      },\n      \"55\": {\n        start: {\n          line: 136,\n          column: 28\n        },\n        end: {\n          line: 136,\n          column: 51\n        }\n      },\n      \"56\": {\n        start: {\n          line: 140,\n          column: 8\n        },\n        end: {\n          line: 152,\n          column: 9\n        }\n      },\n      \"57\": {\n        start: {\n          line: 142,\n          column: 10\n        },\n        end: {\n          line: 151,\n          column: 11\n        }\n      },\n      \"58\": {\n        start: {\n          line: 149,\n          column: 14\n        },\n        end: {\n          line: 150,\n          column: 79\n        }\n      },\n      \"59\": {\n        start: {\n          line: 157,\n          column: 6\n        },\n        end: {\n          line: 165,\n          column: 7\n        }\n      },\n      \"60\": {\n        start: {\n          line: 164,\n          column: 10\n        },\n        end: {\n          line: 164,\n          column: 119\n        }\n      },\n      \"61\": {\n        start: {\n          line: 168,\n          column: 33\n        },\n        end: {\n          line: 168,\n          column: 111\n        }\n      },\n      \"62\": {\n        start: {\n          line: 170,\n          column: 4\n        },\n        end: {\n          line: 170,\n          column: 16\n        }\n      },\n      \"63\": {\n        start: {\n          line: 172,\n          column: 2\n        },\n        end: {\n          line: 172,\n          column: 19\n        }\n      },\n      \"64\": {\n        start: {\n          line: 176,\n          column: 19\n        },\n        end: {\n          line: 176,\n          column: 50\n        }\n      },\n      \"65\": {\n        start: {\n          line: 177,\n          column: 14\n        },\n        end: {\n          line: 177,\n          column: 62\n        }\n      },\n      \"66\": {\n        start: {\n          line: 179,\n          column: 2\n        },\n        end: {\n          line: 181,\n          column: 3\n        }\n      },\n      \"67\": {\n        start: {\n          line: 180,\n          column: 4\n        },\n        end: {\n          line: 180,\n          column: 30\n        }\n      },\n      \"68\": {\n        start: {\n          line: 182,\n          column: 2\n        },\n        end: {\n          line: 184,\n          column: 3\n        }\n      },\n      \"69\": {\n        start: {\n          line: 183,\n          column: 4\n        },\n        end: {\n          line: 183,\n          column: 30\n        }\n      },\n      \"70\": {\n        start: {\n          line: 185,\n          column: 2\n        },\n        end: {\n          line: 187,\n          column: 3\n        }\n      },\n      \"71\": {\n        start: {\n          line: 185,\n          column: 15\n        },\n        end: {\n          line: 185,\n          column: 16\n        }\n      },\n      \"72\": {\n        start: {\n          line: 186,\n          column: 4\n        },\n        end: {\n          line: 186,\n          column: 31\n        }\n      },\n      \"73\": {\n        start: {\n          line: 189,\n          column: 20\n        },\n        end: {\n          line: 189,\n          column: 73\n        }\n      },\n      \"74\": {\n        start: {\n          line: 191,\n          column: 2\n        },\n        end: {\n          line: 193,\n          column: 3\n        }\n      },\n      \"75\": {\n        start: {\n          line: 192,\n          column: 4\n        },\n        end: {\n          line: 192,\n          column: 24\n        }\n      },\n      \"76\": {\n        start: {\n          line: 195,\n          column: 2\n        },\n        end: {\n          line: 215,\n          column: 4\n        }\n      },\n      \"77\": {\n        start: {\n          line: 198,\n          column: 6\n        },\n        end: {\n          line: 206,\n          column: 7\n        }\n      },\n      \"78\": {\n        start: {\n          line: 202,\n          column: 8\n        },\n        end: {\n          line: 202,\n          column: 24\n        }\n      },\n      \"79\": {\n        start: {\n          line: 203,\n          column: 8\n        },\n        end: {\n          line: 203,\n          column: 24\n        }\n      },\n      \"80\": {\n        start: {\n          line: 205,\n          column: 8\n        },\n        end: {\n          line: 205,\n          column: 22\n        }\n      },\n      \"81\": {\n        start: {\n          line: 212,\n          column: 67\n        },\n        end: {\n          line: 212,\n          column: 75\n        }\n      },\n      \"82\": {\n        start: {\n          line: 219,\n          column: 2\n        },\n        end: {\n          line: 228,\n          column: 4\n        }\n      },\n      \"83\": {\n        start: {\n          line: 231,\n          column: 30\n        },\n        end: {\n          line: 294,\n          column: 1\n        }\n      },\n      \"84\": {\n        start: {\n          line: 234,\n          column: 4\n        },\n        end: {\n          line: 236,\n          column: 5\n        }\n      },\n      \"85\": {\n        start: {\n          line: 234,\n          column: 36\n        },\n        end: {\n          line: 234,\n          column: 75\n        }\n      },\n      \"86\": {\n        start: {\n          line: 235,\n          column: 6\n        },\n        end: {\n          line: 235,\n          column: 51\n        }\n      },\n      \"87\": {\n        start: {\n          line: 241,\n          column: 6\n        },\n        end: {\n          line: 244,\n          column: 7\n        }\n      },\n      \"88\": {\n        start: {\n          line: 241,\n          column: 38\n        },\n        end: {\n          line: 241,\n          column: 77\n        }\n      },\n      \"89\": {\n        start: {\n          line: 242,\n          column: 8\n        },\n        end: {\n          line: 242,\n          column: 66\n        }\n      },\n      \"90\": {\n        start: {\n          line: 243,\n          column: 8\n        },\n        end: {\n          line: 243,\n          column: 15\n        }\n      },\n      \"91\": {\n        start: {\n          line: 246,\n          column: 23\n        },\n        end: {\n          line: 246,\n          column: 81\n        }\n      },\n      \"92\": {\n        start: {\n          line: 247,\n          column: 17\n        },\n        end: {\n          line: 251,\n          column: 7\n        }\n      },\n      \"93\": {\n        start: {\n          line: 252,\n          column: 21\n        },\n        end: {\n          line: 252,\n          column: 22\n        }\n      },\n      \"94\": {\n        start: {\n          line: 254,\n          column: 6\n        },\n        end: {\n          line: 262,\n          column: 7\n        }\n      },\n      \"95\": {\n        start: {\n          line: 254,\n          column: 19\n        },\n        end: {\n          line: 254,\n          column: 20\n        }\n      },\n      \"96\": {\n        start: {\n          line: 255,\n          column: 8\n        },\n        end: {\n          line: 255,\n          column: 80\n        }\n      },\n      \"97\": {\n        start: {\n          line: 256,\n          column: 8\n        },\n        end: {\n          line: 260,\n          column: 10\n        }\n      },\n      \"98\": {\n        start: {\n          line: 261,\n          column: 8\n        },\n        end: {\n          line: 261,\n          column: 19\n        }\n      },\n      \"99\": {\n        start: {\n          line: 264,\n          column: 6\n        },\n        end: {\n          line: 264,\n          column: 102\n        }\n      },\n      \"100\": {\n        start: {\n          line: 265,\n          column: 6\n        },\n        end: {\n          line: 265,\n          column: 18\n        }\n      },\n      \"101\": {\n        start: {\n          line: 273,\n          column: 23\n        },\n        end: {\n          line: 277,\n          column: 5\n        }\n      },\n      \"102\": {\n        start: {\n          line: 279,\n          column: 4\n        },\n        end: {\n          line: 292,\n          column: 6\n        }\n      },\n      \"103\": {\n        start: {\n          line: 283,\n          column: 20\n        },\n        end: {\n          line: 288,\n          column: 9\n        }\n      },\n      \"104\": {\n        start: {\n          line: 287,\n          column: 27\n        },\n        end: {\n          line: 287,\n          column: 28\n        }\n      },\n      \"105\": {\n        start: {\n          line: 296,\n          column: 28\n        },\n        end: {\n          line: 296,\n          column: 38\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"getXY\",\n        decl: {\n          start: {\n            line: 26,\n            column: 16\n          },\n          end: {\n            line: 26,\n            column: 21\n          }\n        },\n        loc: {\n          start: {\n            line: 26,\n            column: 54\n          },\n          end: {\n            line: 28,\n            column: 1\n          }\n        },\n        line: 26\n      },\n      \"1\": {\n        name: \"getPosition\",\n        decl: {\n          start: {\n            line: 30,\n            column: 16\n          },\n          end: {\n            line: 30,\n            column: 27\n          }\n        },\n        loc: {\n          start: {\n            line: 30,\n            column: 50\n          },\n          end: {\n            line: 32,\n            column: 1\n          }\n        },\n        line: 30\n      },\n      \"2\": {\n        name: \"inBounds\",\n        decl: {\n          start: {\n            line: 34,\n            column: 16\n          },\n          end: {\n            line: 34,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 34,\n            column: 47\n          },\n          end: {\n            line: 36,\n            column: 1\n          }\n        },\n        line: 34\n      },\n      \"3\": {\n        name: \"getPlayer\",\n        decl: {\n          start: {\n            line: 39,\n            column: 16\n          },\n          end: {\n            line: 39,\n            column: 25\n          }\n        },\n        loc: {\n          start: {\n            line: 39,\n            column: 66\n          },\n          end: {\n            line: 51,\n            column: 1\n          }\n        },\n        line: 39\n      },\n      \"4\": {\n        name: \"isFirstTurn\",\n        decl: {\n          start: {\n            line: 53,\n            column: 16\n          },\n          end: {\n            line: 53,\n            column: 27\n          }\n        },\n        loc: {\n          start: {\n            line: 53,\n            column: 43\n          },\n          end: {\n            line: 55,\n            column: 1\n          }\n        },\n        line: 53\n      },\n      \"5\": {\n        name: \"getScoreBoard\",\n        decl: {\n          start: {\n            line: 57,\n            column: 16\n          },\n          end: {\n            line: 57,\n            column: 29\n          }\n        },\n        loc: {\n          start: {\n            line: 57,\n            column: 52\n          },\n          end: {\n            line: 73,\n            column: 1\n          }\n        },\n        line: 57\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 58,\n            column: 45\n          },\n          end: {\n            line: 58,\n            column: 46\n          }\n        },\n        loc: {\n          start: {\n            line: 58,\n            column: 61\n          },\n          end: {\n            line: 61,\n            column: 3\n          }\n        },\n        line: 58\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 60,\n            column: 32\n          },\n          end: {\n            line: 60,\n            column: 33\n          }\n        },\n        loc: {\n          start: {\n            line: 60,\n            column: 48\n          },\n          end: {\n            line: 60,\n            column: 101\n          }\n        },\n        line: 60\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 60,\n            column: 75\n          },\n          end: {\n            line: 60,\n            column: 76\n          }\n        },\n        loc: {\n          start: {\n            line: 60,\n            column: 87\n          },\n          end: {\n            line: 60,\n            column: 93\n          }\n        },\n        line: 60\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 67,\n            column: 11\n          },\n          end: {\n            line: 67,\n            column: 12\n          }\n        },\n        loc: {\n          start: {\n            line: 67,\n            column: 21\n          },\n          end: {\n            line: 67,\n            column: 38\n          }\n        },\n        line: 67\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 69,\n            column: 29\n          },\n          end: {\n            line: 69,\n            column: 30\n          }\n        },\n        loc: {\n          start: {\n            line: 69,\n            column: 39\n          },\n          end: {\n            line: 69,\n            column: 46\n          }\n        },\n        line: 69\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 69,\n            column: 53\n          },\n          end: {\n            line: 69,\n            column: 54\n          }\n        },\n        loc: {\n          start: {\n            line: 69,\n            column: 63\n          },\n          end: {\n            line: 69,\n            column: 80\n          }\n        },\n        line: 69\n      },\n      \"12\": {\n        name: \"(anonymous_12)\",\n        decl: {\n          start: {\n            line: 71,\n            column: 27\n          },\n          end: {\n            line: 71,\n            column: 28\n          }\n        },\n        loc: {\n          start: {\n            line: 71,\n            column: 37\n          },\n          end: {\n            line: 71,\n            column: 54\n          }\n        },\n        line: 71\n      },\n      \"13\": {\n        name: \"rotatePiece\",\n        decl: {\n          start: {\n            line: 75,\n            column: 16\n          },\n          end: {\n            line: 75,\n            column: 27\n          }\n        },\n        loc: {\n          start: {\n            line: 75,\n            column: 48\n          },\n          end: {\n            line: 84,\n            column: 1\n          }\n        },\n        line: 75\n      },\n      \"14\": {\n        name: \"flipPieceY\",\n        decl: {\n          start: {\n            line: 86,\n            column: 16\n          },\n          end: {\n            line: 86,\n            column: 26\n          }\n        },\n        loc: {\n          start: {\n            line: 86,\n            column: 47\n          },\n          end: {\n            line: 93,\n            column: 1\n          }\n        },\n        line: 86\n      },\n      \"15\": {\n        name: \"flipPieceX\",\n        decl: {\n          start: {\n            line: 95,\n            column: 16\n          },\n          end: {\n            line: 95,\n            column: 26\n          }\n        },\n        loc: {\n          start: {\n            line: 95,\n            column: 47\n          },\n          end: {\n            line: 102,\n            column: 1\n          }\n        },\n        line: 95\n      },\n      \"16\": {\n        name: \"playerEnded\",\n        decl: {\n          start: {\n            line: 104,\n            column: 9\n          },\n          end: {\n            line: 104,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 104,\n            column: 61\n          },\n          end: {\n            line: 107,\n            column: 1\n          }\n        },\n        line: 104\n      },\n      \"17\": {\n        name: \"getAllPositions\",\n        decl: {\n          start: {\n            line: 116,\n            column: 16\n          },\n          end: {\n            line: 116,\n            column: 31\n          }\n        },\n        loc: {\n          start: {\n            line: 116,\n            column: 78\n          },\n          end: {\n            line: 125,\n            column: 1\n          }\n        },\n        line: 116\n      },\n      \"18\": {\n        name: \"(anonymous_18)\",\n        decl: {\n          start: {\n            line: 118,\n            column: 9\n          },\n          end: {\n            line: 118,\n            column: 10\n          }\n        },\n        loc: {\n          start: {\n            line: 118,\n            column: 29\n          },\n          end: {\n            line: 118,\n            column: 46\n          }\n        },\n        line: 118\n      },\n      \"19\": {\n        name: \"(anonymous_19)\",\n        decl: {\n          start: {\n            line: 119,\n            column: 12\n          },\n          end: {\n            line: 119,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 119,\n            column: 23\n          },\n          end: {\n            line: 119,\n            column: 35\n          }\n        },\n        line: 119\n      },\n      \"20\": {\n        name: \"(anonymous_20)\",\n        decl: {\n          start: {\n            line: 120,\n            column: 9\n          },\n          end: {\n            line: 120,\n            column: 10\n          }\n        },\n        loc: {\n          start: {\n            line: 120,\n            column: 21\n          },\n          end: {\n            line: 123,\n            column: 5\n          }\n        },\n        line: 120\n      },\n      \"21\": {\n        name: \"(anonymous_21)\",\n        decl: {\n          start: {\n            line: 124,\n            column: 10\n          },\n          end: {\n            line: 124,\n            column: 11\n          }\n        },\n        loc: {\n          start: {\n            line: 124,\n            column: 20\n          },\n          end: {\n            line: 124,\n            column: 65\n          }\n        },\n        line: 124\n      },\n      \"22\": {\n        name: \"getValidPositions\",\n        decl: {\n          start: {\n            line: 127,\n            column: 16\n          },\n          end: {\n            line: 127,\n            column: 33\n          }\n        },\n        loc: {\n          start: {\n            line: 133,\n            column: 2\n          },\n          end: {\n            line: 173,\n            column: 1\n          }\n        },\n        line: 133\n      },\n      \"23\": {\n        name: \"(anonymous_23)\",\n        decl: {\n          start: {\n            line: 136,\n            column: 19\n          },\n          end: {\n            line: 136,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 136,\n            column: 28\n          },\n          end: {\n            line: 136,\n            column: 51\n          }\n        },\n        line: 136\n      },\n      \"24\": {\n        name: \"(anonymous_24)\",\n        decl: {\n          start: {\n            line: 139,\n            column: 6\n          },\n          end: {\n            line: 139,\n            column: 7\n          }\n        },\n        loc: {\n          start: {\n            line: 140,\n            column: 8\n          },\n          end: {\n            line: 152,\n            column: 9\n          }\n        },\n        line: 140\n      },\n      \"25\": {\n        name: \"(anonymous_25)\",\n        decl: {\n          start: {\n            line: 141,\n            column: 23\n          },\n          end: {\n            line: 141,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 142,\n            column: 10\n          },\n          end: {\n            line: 151,\n            column: 11\n          }\n        },\n        line: 142\n      },\n      \"26\": {\n        name: \"(anonymous_26)\",\n        decl: {\n          start: {\n            line: 148,\n            column: 12\n          },\n          end: {\n            line: 148,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 149,\n            column: 14\n          },\n          end: {\n            line: 150,\n            column: 79\n          }\n        },\n        line: 149\n      },\n      \"27\": {\n        name: \"(anonymous_27)\",\n        decl: {\n          start: {\n            line: 154,\n            column: 21\n          },\n          end: {\n            line: 154,\n            column: 22\n          }\n        },\n        loc: {\n          start: {\n            line: 157,\n            column: 6\n          },\n          end: {\n            line: 165,\n            column: 7\n          }\n        },\n        line: 157\n      },\n      \"28\": {\n        name: \"(anonymous_28)\",\n        decl: {\n          start: {\n            line: 163,\n            column: 8\n          },\n          end: {\n            line: 163,\n            column: 9\n          }\n        },\n        loc: {\n          start: {\n            line: 164,\n            column: 10\n          },\n          end: {\n            line: 164,\n            column: 119\n          }\n        },\n        line: 164\n      },\n      \"29\": {\n        name: \"(anonymous_29)\",\n        decl: {\n          start: {\n            line: 168,\n            column: 24\n          },\n          end: {\n            line: 168,\n            column: 25\n          }\n        },\n        loc: {\n          start: {\n            line: 168,\n            column: 33\n          },\n          end: {\n            line: 168,\n            column: 111\n          }\n        },\n        line: 168\n      },\n      \"30\": {\n        name: \"placePiece\",\n        decl: {\n          start: {\n            line: 175,\n            column: 16\n          },\n          end: {\n            line: 175,\n            column: 26\n          }\n        },\n        loc: {\n          start: {\n            line: 175,\n            column: 89\n          },\n          end: {\n            line: 216,\n            column: 1\n          }\n        },\n        line: 175\n      },\n      \"31\": {\n        name: \"(anonymous_31)\",\n        decl: {\n          start: {\n            line: 197,\n            column: 23\n          },\n          end: {\n            line: 197,\n            column: 24\n          }\n        },\n        loc: {\n          start: {\n            line: 197,\n            column: 38\n          },\n          end: {\n            line: 207,\n            column: 5\n          }\n        },\n        line: 197\n      },\n      \"32\": {\n        name: \"(anonymous_32)\",\n        decl: {\n          start: {\n            line: 212,\n            column: 57\n          },\n          end: {\n            line: 212,\n            column: 58\n          }\n        },\n        loc: {\n          start: {\n            line: 212,\n            column: 67\n          },\n          end: {\n            line: 212,\n            column: 75\n          }\n        },\n        line: 212\n      },\n      \"33\": {\n        name: \"endGame\",\n        decl: {\n          start: {\n            line: 218,\n            column: 16\n          },\n          end: {\n            line: 218,\n            column: 23\n          }\n        },\n        loc: {\n          start: {\n            line: 218,\n            column: 46\n          },\n          end: {\n            line: 229,\n            column: 1\n          }\n        },\n        line: 218\n      },\n      \"34\": {\n        name: \"(anonymous_34)\",\n        decl: {\n          start: {\n            line: 233,\n            column: 9\n          },\n          end: {\n            line: 233,\n            column: 10\n          }\n        },\n        loc: {\n          start: {\n            line: 233,\n            column: 25\n          },\n          end: {\n            line: 237,\n            column: 3\n          }\n        },\n        line: 233\n      },\n      \"35\": {\n        name: \"(anonymous_35)\",\n        decl: {\n          start: {\n            line: 234,\n            column: 24\n          },\n          end: {\n            line: 234,\n            column: 25\n          }\n        },\n        loc: {\n          start: {\n            line: 234,\n            column: 36\n          },\n          end: {\n            line: 234,\n            column: 75\n          }\n        },\n        line: 234\n      },\n      \"36\": {\n        name: \"(anonymous_36)\",\n        decl: {\n          start: {\n            line: 240,\n            column: 12\n          },\n          end: {\n            line: 240,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 240,\n            column: 24\n          },\n          end: {\n            line: 266,\n            column: 5\n          }\n        },\n        line: 240\n      },\n      \"37\": {\n        name: \"(anonymous_37)\",\n        decl: {\n          start: {\n            line: 241,\n            column: 26\n          },\n          end: {\n            line: 241,\n            column: 27\n          }\n        },\n        loc: {\n          start: {\n            line: 241,\n            column: 38\n          },\n          end: {\n            line: 241,\n            column: 77\n          }\n        },\n        line: 241\n      },\n      \"38\": {\n        name: \"(anonymous_38)\",\n        decl: {\n          start: {\n            line: 272,\n            column: 9\n          },\n          end: {\n            line: 272,\n            column: 10\n          }\n        },\n        loc: {\n          start: {\n            line: 272,\n            column: 22\n          },\n          end: {\n            line: 293,\n            column: 3\n          }\n        },\n        line: 272\n      },\n      \"39\": {\n        name: \"(anonymous_39)\",\n        decl: {\n          start: {\n            line: 283,\n            column: 13\n          },\n          end: {\n            line: 283,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 283,\n            column: 20\n          },\n          end: {\n            line: 288,\n            column: 9\n          }\n        },\n        line: 283\n      },\n      \"40\": {\n        name: \"(anonymous_40)\",\n        decl: {\n          start: {\n            line: 287,\n            column: 17\n          },\n          end: {\n            line: 287,\n            column: 18\n          }\n        },\n        loc: {\n          start: {\n            line: 287,\n            column: 27\n          },\n          end: {\n            line: 287,\n            column: 28\n          }\n        },\n        line: 287\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 35,\n            column: 9\n          },\n          end: {\n            line: 35,\n            column: 45\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 35,\n            column: 9\n          },\n          end: {\n            line: 35,\n            column: 15\n          }\n        }, {\n          start: {\n            line: 35,\n            column: 19\n          },\n          end: {\n            line: 35,\n            column: 25\n          }\n        }, {\n          start: {\n            line: 35,\n            column: 29\n          },\n          end: {\n            line: 35,\n            column: 35\n          }\n        }, {\n          start: {\n            line: 35,\n            column: 39\n          },\n          end: {\n            line: 35,\n            column: 45\n          }\n        }],\n        line: 35\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 40,\n            column: 2\n          },\n          end: {\n            line: 50,\n            column: 3\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 40,\n            column: 2\n          },\n          end: {\n            line: 50,\n            column: 3\n          }\n        }, {\n          start: {\n            line: 40,\n            column: 2\n          },\n          end: {\n            line: 50,\n            column: 3\n          }\n        }],\n        line: 40\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 41,\n            column: 4\n          },\n          end: {\n            line: 45,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 41,\n            column: 4\n          },\n          end: {\n            line: 45,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 41,\n            column: 4\n          },\n          end: {\n            line: 45,\n            column: 5\n          }\n        }],\n        line: 41\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 42,\n            column: 13\n          },\n          end: {\n            line: 42,\n            column: 41\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 42,\n            column: 32\n          },\n          end: {\n            line: 42,\n            column: 35\n          }\n        }, {\n          start: {\n            line: 42,\n            column: 38\n          },\n          end: {\n            line: 42,\n            column: 41\n          }\n        }],\n        line: 42\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 44,\n            column: 13\n          },\n          end: {\n            line: 44,\n            column: 41\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 44,\n            column: 32\n          },\n          end: {\n            line: 44,\n            column: 35\n          }\n        }, {\n          start: {\n            line: 44,\n            column: 38\n          },\n          end: {\n            line: 44,\n            column: 41\n          }\n        }],\n        line: 44\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 46,\n            column: 9\n          },\n          end: {\n            line: 50,\n            column: 3\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 46,\n            column: 9\n          },\n          end: {\n            line: 50,\n            column: 3\n          }\n        }, {\n          start: {\n            line: 46,\n            column: 9\n          },\n          end: {\n            line: 50,\n            column: 3\n          }\n        }],\n        line: 46\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 47,\n            column: 11\n          },\n          end: {\n            line: 47,\n            column: 46\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 47,\n            column: 32\n          },\n          end: {\n            line: 47,\n            column: 35\n          }\n        }, {\n          start: {\n            line: 47,\n            column: 38\n          },\n          end: {\n            line: 47,\n            column: 46\n          }\n        }],\n        line: 47\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 63,\n            column: 2\n          },\n          end: {\n            line: 72,\n            column: 3\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 63,\n            column: 2\n          },\n          end: {\n            line: 72,\n            column: 3\n          }\n        }, {\n          start: {\n            line: 63,\n            column: 2\n          },\n          end: {\n            line: 72,\n            column: 3\n          }\n        }],\n        line: 63\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 68,\n            column: 9\n          },\n          end: {\n            line: 72,\n            column: 3\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 68,\n            column: 9\n          },\n          end: {\n            line: 72,\n            column: 3\n          }\n        }, {\n          start: {\n            line: 68,\n            column: 9\n          },\n          end: {\n            line: 72,\n            column: 3\n          }\n        }],\n        line: 68\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 106,\n            column: 9\n          },\n          end: {\n            line: 106,\n            column: 49\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 106,\n            column: 9\n          },\n          end: {\n            line: 106,\n            column: 19\n          }\n        }, {\n          start: {\n            line: 106,\n            column: 23\n          },\n          end: {\n            line: 106,\n            column: 49\n          }\n        }],\n        line: 106\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 135,\n            column: 2\n          },\n          end: {\n            line: 171,\n            column: 3\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 135,\n            column: 2\n          },\n          end: {\n            line: 171,\n            column: 3\n          }\n        }, {\n          start: {\n            line: 135,\n            column: 2\n          },\n          end: {\n            line: 171,\n            column: 3\n          }\n        }],\n        line: 135\n      },\n      \"11\": {\n        loc: {\n          start: {\n            line: 136,\n            column: 4\n          },\n          end: {\n            line: 168,\n            column: 114\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 136,\n            column: 4\n          },\n          end: {\n            line: 136,\n            column: 52\n          }\n        }, {\n          start: {\n            line: 137,\n            column: 4\n          },\n          end: {\n            line: 153,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 154,\n            column: 5\n          },\n          end: {\n            line: 166,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 167,\n            column: 7\n          },\n          end: {\n            line: 167,\n            column: 24\n          }\n        }, {\n          start: {\n            line: 168,\n            column: 8\n          },\n          end: {\n            line: 168,\n            column: 112\n          }\n        }],\n        line: 136\n      },\n      \"12\": {\n        loc: {\n          start: {\n            line: 140,\n            column: 8\n          },\n          end: {\n            line: 152,\n            column: 9\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 140,\n            column: 8\n          },\n          end: {\n            line: 140,\n            column: 51\n          }\n        }, {\n          start: {\n            line: 141,\n            column: 8\n          },\n          end: {\n            line: 152,\n            column: 9\n          }\n        }],\n        line: 140\n      },\n      \"13\": {\n        loc: {\n          start: {\n            line: 149,\n            column: 14\n          },\n          end: {\n            line: 150,\n            column: 79\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 149,\n            column: 14\n          },\n          end: {\n            line: 149,\n            column: 54\n          }\n        }, {\n          start: {\n            line: 150,\n            column: 14\n          },\n          end: {\n            line: 150,\n            column: 79\n          }\n        }],\n        line: 149\n      },\n      \"14\": {\n        loc: {\n          start: {\n            line: 164,\n            column: 10\n          },\n          end: {\n            line: 164,\n            column: 119\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 164,\n            column: 10\n          },\n          end: {\n            line: 164,\n            column: 50\n          }\n        }, {\n          start: {\n            line: 164,\n            column: 54\n          },\n          end: {\n            line: 164,\n            column: 119\n          }\n        }],\n        line: 164\n      },\n      \"15\": {\n        loc: {\n          start: {\n            line: 168,\n            column: 33\n          },\n          end: {\n            line: 168,\n            column: 111\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 168,\n            column: 33\n          },\n          end: {\n            line: 168,\n            column: 70\n          }\n        }, {\n          start: {\n            line: 168,\n            column: 74\n          },\n          end: {\n            line: 168,\n            column: 111\n          }\n        }],\n        line: 168\n      },\n      \"16\": {\n        loc: {\n          start: {\n            line: 179,\n            column: 2\n          },\n          end: {\n            line: 181,\n            column: 3\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 179,\n            column: 2\n          },\n          end: {\n            line: 181,\n            column: 3\n          }\n        }, {\n          start: {\n            line: 179,\n            column: 2\n          },\n          end: {\n            line: 181,\n            column: 3\n          }\n        }],\n        line: 179\n      },\n      \"17\": {\n        loc: {\n          start: {\n            line: 182,\n            column: 2\n          },\n          end: {\n            line: 184,\n            column: 3\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 182,\n            column: 2\n          },\n          end: {\n            line: 184,\n            column: 3\n          }\n        }, {\n          start: {\n            line: 182,\n            column: 2\n          },\n          end: {\n            line: 184,\n            column: 3\n          }\n        }],\n        line: 182\n      },\n      \"18\": {\n        loc: {\n          start: {\n            line: 191,\n            column: 2\n          },\n          end: {\n            line: 193,\n            column: 3\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 191,\n            column: 2\n          },\n          end: {\n            line: 193,\n            column: 3\n          }\n        }, {\n          start: {\n            line: 191,\n            column: 2\n          },\n          end: {\n            line: 193,\n            column: 3\n          }\n        }],\n        line: 191\n      },\n      \"19\": {\n        loc: {\n          start: {\n            line: 198,\n            column: 6\n          },\n          end: {\n            line: 206,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 198,\n            column: 6\n          },\n          end: {\n            line: 206,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 198,\n            column: 6\n          },\n          end: {\n            line: 206,\n            column: 7\n          }\n        }],\n        line: 198\n      },\n      \"20\": {\n        loc: {\n          start: {\n            line: 199,\n            column: 8\n          },\n          end: {\n            line: 200,\n            column: 95\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 199,\n            column: 8\n          },\n          end: {\n            line: 199,\n            column: 28\n          }\n        }, {\n          start: {\n            line: 200,\n            column: 8\n          },\n          end: {\n            line: 200,\n            column: 95\n          }\n        }],\n        line: 199\n      },\n      \"21\": {\n        loc: {\n          start: {\n            line: 234,\n            column: 4\n          },\n          end: {\n            line: 236,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 234,\n            column: 4\n          },\n          end: {\n            line: 236,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 234,\n            column: 4\n          },\n          end: {\n            line: 236,\n            column: 5\n          }\n        }],\n        line: 234\n      },\n      \"22\": {\n        loc: {\n          start: {\n            line: 234,\n            column: 36\n          },\n          end: {\n            line: 234,\n            column: 75\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 234,\n            column: 36\n          },\n          end: {\n            line: 234,\n            column: 47\n          }\n        }, {\n          start: {\n            line: 234,\n            column: 51\n          },\n          end: {\n            line: 234,\n            column: 75\n          }\n        }],\n        line: 234\n      },\n      \"23\": {\n        loc: {\n          start: {\n            line: 241,\n            column: 6\n          },\n          end: {\n            line: 244,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 241,\n            column: 6\n          },\n          end: {\n            line: 244,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 241,\n            column: 6\n          },\n          end: {\n            line: 244,\n            column: 7\n          }\n        }],\n        line: 241\n      },\n      \"24\": {\n        loc: {\n          start: {\n            line: 241,\n            column: 38\n          },\n          end: {\n            line: 241,\n            column: 77\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 241,\n            column: 38\n          },\n          end: {\n            line: 241,\n            column: 49\n          }\n        }, {\n          start: {\n            line: 241,\n            column: 53\n          },\n          end: {\n            line: 241,\n            column: 77\n          }\n        }],\n        line: 241\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0,\n      \"51\": 0,\n      \"52\": 0,\n      \"53\": 0,\n      \"54\": 0,\n      \"55\": 0,\n      \"56\": 0,\n      \"57\": 0,\n      \"58\": 0,\n      \"59\": 0,\n      \"60\": 0,\n      \"61\": 0,\n      \"62\": 0,\n      \"63\": 0,\n      \"64\": 0,\n      \"65\": 0,\n      \"66\": 0,\n      \"67\": 0,\n      \"68\": 0,\n      \"69\": 0,\n      \"70\": 0,\n      \"71\": 0,\n      \"72\": 0,\n      \"73\": 0,\n      \"74\": 0,\n      \"75\": 0,\n      \"76\": 0,\n      \"77\": 0,\n      \"78\": 0,\n      \"79\": 0,\n      \"80\": 0,\n      \"81\": 0,\n      \"82\": 0,\n      \"83\": 0,\n      \"84\": 0,\n      \"85\": 0,\n      \"86\": 0,\n      \"87\": 0,\n      \"88\": 0,\n      \"89\": 0,\n      \"90\": 0,\n      \"91\": 0,\n      \"92\": 0,\n      \"93\": 0,\n      \"94\": 0,\n      \"95\": 0,\n      \"96\": 0,\n      \"97\": 0,\n      \"98\": 0,\n      \"99\": 0,\n      \"100\": 0,\n      \"101\": 0,\n      \"102\": 0,\n      \"103\": 0,\n      \"104\": 0,\n      \"105\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0\n    },\n    b: {\n      \"0\": [0, 0, 0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0],\n      \"11\": [0, 0, 0, 0, 0],\n      \"12\": [0, 0],\n      \"13\": [0, 0],\n      \"14\": [0, 0],\n      \"15\": [0, 0],\n      \"16\": [0, 0],\n      \"17\": [0, 0],\n      \"18\": [0, 0],\n      \"19\": [0, 0],\n      \"20\": [0, 0],\n      \"21\": [0, 0],\n      \"22\": [0, 0],\n      \"23\": [0, 0],\n      \"24\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"a5891a3ebd1a1b2651311e6a49503d718d79cdd1\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_1r3ps7rd99 = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_1r3ps7rd99();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { INVALID_MOVE, TurnOrder } from 'boardgame.io/core';\nimport { pieces } from './pieces';\nexport function getXY(position, size) {\n  cov_1r3ps7rd99().f[0]++;\n  cov_1r3ps7rd99().s[0]++;\n  return {\n    x: position % size,\n    y: Math.floor(position / size)\n  };\n}\nexport function getPosition(x, y) {\n  cov_1r3ps7rd99().f[1]++;\n  cov_1r3ps7rd99().s[1]++;\n  return x + y * 20;\n}\nexport function inBounds(x, y) {\n  cov_1r3ps7rd99().f[2]++;\n  cov_1r3ps7rd99().s[2]++;\n  return (cov_1r3ps7rd99().b[0][0]++, x >= 0) && (cov_1r3ps7rd99().b[0][1]++, x < 20) && (cov_1r3ps7rd99().b[0][2]++, y >= 0) && (cov_1r3ps7rd99().b[0][3]++, y < 20);\n} // Map real playerID to 'fake' one\n\nexport function getPlayer(ctx, G, playerID) {\n  cov_1r3ps7rd99().f[3]++;\n  cov_1r3ps7rd99().s[3]++;\n\n  if (ctx.numPlayers === 2) {\n    cov_1r3ps7rd99().b[1][0]++;\n    cov_1r3ps7rd99().s[4]++;\n\n    if (playerID === '0') {\n      cov_1r3ps7rd99().b[2][0]++;\n      cov_1r3ps7rd99().s[5]++;\n      return G.turn % 4 === 1 ? (cov_1r3ps7rd99().b[3][0]++, '0') : (cov_1r3ps7rd99().b[3][1]++, '1');\n    } else {\n      cov_1r3ps7rd99().b[2][1]++;\n      cov_1r3ps7rd99().s[6]++;\n      return G.turn % 4 === 2 ? (cov_1r3ps7rd99().b[4][0]++, '2') : (cov_1r3ps7rd99().b[4][1]++, '3');\n    }\n  } else {\n    cov_1r3ps7rd99().b[1][1]++;\n    cov_1r3ps7rd99().s[7]++;\n\n    if (ctx.numPlayers === 3) {\n      cov_1r3ps7rd99().b[5][0]++;\n      cov_1r3ps7rd99().s[8]++;\n      return ctx.turn % 4 === 0 ? (cov_1r3ps7rd99().b[6][0]++, '3') : (cov_1r3ps7rd99().b[6][1]++, playerID);\n    } else {\n      cov_1r3ps7rd99().b[5][1]++;\n      cov_1r3ps7rd99().s[9]++;\n      return playerID;\n    }\n  }\n}\nexport function isFirstTurn(ctx) {\n  cov_1r3ps7rd99().f[4]++;\n  cov_1r3ps7rd99().s[10]++;\n  return ctx.turn <= 4;\n}\nexport function getScoreBoard(G, ctx) {\n  cov_1r3ps7rd99().f[5]++;\n  var scoreboard = (cov_1r3ps7rd99().s[11]++, G.players.map(function (player, i) {\n    cov_1r3ps7rd99().f[6]++;\n    cov_1r3ps7rd99().s[12]++;\n    return {\n      playerID: i.toString(),\n      score: player.pieces.reduce(function (acc, piece) {\n        cov_1r3ps7rd99().f[7]++;\n        cov_1r3ps7rd99().s[13]++;\n        return acc - pieces[piece].filter(function (square) {\n          cov_1r3ps7rd99().f[8]++;\n          cov_1r3ps7rd99().s[14]++;\n          return square;\n        }).length;\n      }, 0)\n    };\n  }));\n  cov_1r3ps7rd99().s[15]++;\n\n  if (ctx.numPlayers === 2) {\n    cov_1r3ps7rd99().b[7][0]++;\n    cov_1r3ps7rd99().s[16]++;\n    return [{\n      playerID: '0',\n      score: scoreboard[0].score + scoreboard[1].score\n    }, {\n      playerID: '1',\n      score: scoreboard[2].score + scoreboard[3].score\n    }].sort(function (a, b) {\n      cov_1r3ps7rd99().f[9]++;\n      cov_1r3ps7rd99().s[17]++;\n      return b.score - a.score;\n    });\n  } else {\n    cov_1r3ps7rd99().b[7][1]++;\n    cov_1r3ps7rd99().s[18]++;\n\n    if (ctx.numPlayers === 3) {\n      cov_1r3ps7rd99().b[8][0]++;\n      cov_1r3ps7rd99().s[19]++;\n      return scoreboard.filter(function (_, i) {\n        cov_1r3ps7rd99().f[10]++;\n        cov_1r3ps7rd99().s[20]++;\n        return i !== 3;\n      }).sort(function (a, b) {\n        cov_1r3ps7rd99().f[11]++;\n        cov_1r3ps7rd99().s[21]++;\n        return b.score - a.score;\n      });\n    } else {\n      cov_1r3ps7rd99().b[8][1]++;\n      cov_1r3ps7rd99().s[22]++;\n      return scoreboard.sort(function (a, b) {\n        cov_1r3ps7rd99().f[12]++;\n        cov_1r3ps7rd99().s[23]++;\n        return b.score - a.score;\n      });\n    }\n  }\n}\nexport function rotatePiece(squares) {\n  cov_1r3ps7rd99().f[13]++;\n  var size = (cov_1r3ps7rd99().s[24]++, Math.sqrt(squares.length));\n  var rotated = (cov_1r3ps7rd99().s[25]++, new Array(squares.length));\n  cov_1r3ps7rd99().s[26]++;\n\n  for (var n = (cov_1r3ps7rd99().s[27]++, 0); n < squares.length; n++) {\n    var x = (cov_1r3ps7rd99().s[28]++, n % size);\n    var y = (cov_1r3ps7rd99().s[29]++, Math.floor(n / size));\n    cov_1r3ps7rd99().s[30]++;\n    rotated[n] = squares[(size - x - 1) * size + y];\n  }\n\n  cov_1r3ps7rd99().s[31]++;\n  return rotated;\n}\nexport function flipPieceY(squares) {\n  cov_1r3ps7rd99().f[14]++;\n  var size = (cov_1r3ps7rd99().s[32]++, Math.sqrt(squares.length));\n  var flipped = (cov_1r3ps7rd99().s[33]++, new Array(squares.length));\n  cov_1r3ps7rd99().s[34]++;\n\n  for (var n = (cov_1r3ps7rd99().s[35]++, 0); n < squares.length; n++) {\n    cov_1r3ps7rd99().s[36]++;\n    flipped[n] = squares[n + size * (size - Math.floor(n / size) * 2 - 1)];\n  }\n\n  cov_1r3ps7rd99().s[37]++;\n  return flipped;\n}\nexport function flipPieceX(squares) {\n  cov_1r3ps7rd99().f[15]++;\n  var size = (cov_1r3ps7rd99().s[38]++, Math.sqrt(squares.length));\n  var flipped = (cov_1r3ps7rd99().s[39]++, new Array(squares.length));\n  cov_1r3ps7rd99().s[40]++;\n\n  for (var n = (cov_1r3ps7rd99().s[41]++, 0); n < squares.length; n++) {\n    cov_1r3ps7rd99().s[42]++;\n    flipped[n] = squares[n + size - n % size * 2 - 1];\n  }\n\n  cov_1r3ps7rd99().s[43]++;\n  return flipped;\n}\n\nfunction playerEnded(G, ctx, playerID) {\n  cov_1r3ps7rd99().f[16]++;\n  var player = (cov_1r3ps7rd99().s[44]++, G.players[getPlayer(ctx, G, playerID)]);\n  cov_1r3ps7rd99().s[45]++;\n  return (cov_1r3ps7rd99().b[9][0]++, player.end) || (cov_1r3ps7rd99().b[9][1]++, player.pieces.length === 0);\n}\n\nvar corners = (cov_1r3ps7rd99().s[46]++, [[0, 0], [19, 0], [19, 19], [0, 19]]);\nexport function getAllPositions(piece, transform) {\n  cov_1r3ps7rd99().f[17]++;\n  cov_1r3ps7rd99().s[47]++;\n  return piece.map(function (square, index) {\n    cov_1r3ps7rd99().f[18]++;\n    cov_1r3ps7rd99().s[48]++;\n    return {\n      square: square,\n      index: index\n    };\n  }).filter(function (piece) {\n    cov_1r3ps7rd99().f[19]++;\n    cov_1r3ps7rd99().s[49]++;\n    return piece.square;\n  }).map(function (square) {\n    cov_1r3ps7rd99().f[20]++;\n\n    var _ref = (cov_1r3ps7rd99().s[50]++, getXY(square.index, Math.sqrt(piece.length))),\n        x = _ref.x,\n        y = _ref.y;\n\n    cov_1r3ps7rd99().s[51]++;\n    return {\n      x: x + transform.x,\n      y: y + transform.y\n    };\n  }).sort(function (a, b) {\n    cov_1r3ps7rd99().f[21]++;\n    cov_1r3ps7rd99().s[52]++;\n    return getPosition(b.x, b.y) - getPosition(a.x, a.y);\n  });\n}\nexport function getValidPositions(G, ctx, piece, transform, playerID) {\n  cov_1r3ps7rd99().f[22]++;\n  var positions = (cov_1r3ps7rd99().s[53]++, getAllPositions(piece, transform));\n  cov_1r3ps7rd99().s[54]++;\n\n  if ((cov_1r3ps7rd99().b[11][0]++, positions.some(function (pos) {\n    cov_1r3ps7rd99().f[23]++;\n    cov_1r3ps7rd99().s[55]++;\n    return !inBounds(pos.x, pos.y);\n  })) || (cov_1r3ps7rd99().b[11][1]++, // Check if piece is on board\n  positions.some( // Check if squares don't touch with edges\n  function (pos) {\n    cov_1r3ps7rd99().f[24]++;\n    cov_1r3ps7rd99().s[56]++;\n    return (cov_1r3ps7rd99().b[12][0]++, G.board[getPosition(pos.x, pos.y)] !== null) || (cov_1r3ps7rd99().b[12][1]++, positions.some(function (pos) {\n      cov_1r3ps7rd99().f[25]++;\n      cov_1r3ps7rd99().s[57]++;\n      return [[-1, 0], [1, 0], [0, -1], [0, 1]].some(function (dir) {\n        cov_1r3ps7rd99().f[26]++;\n        cov_1r3ps7rd99().s[58]++;\n        return (cov_1r3ps7rd99().b[13][0]++, inBounds(pos.x + dir[0], pos.y + dir[1])) && (cov_1r3ps7rd99().b[13][1]++, G.board[getPosition(pos.x + dir[0], pos.y + dir[1])] === playerID);\n      });\n    }));\n  })) || (cov_1r3ps7rd99().b[11][2]++, !positions.some(function (pos) {\n    cov_1r3ps7rd99().f[27]++;\n    cov_1r3ps7rd99().s[59]++;\n    return (// Check if squares are touching with corner atleast 1 time\n      [[-1, -1], [1, -1], [-1, 1], [1, 1]].some(function (dir) {\n        cov_1r3ps7rd99().f[28]++;\n        cov_1r3ps7rd99().s[60]++;\n        return (cov_1r3ps7rd99().b[14][0]++, inBounds(pos.x + dir[0], pos.y + dir[1])) && (cov_1r3ps7rd99().b[14][1]++, G.board[getPosition(pos.x + dir[0], pos.y + dir[1])] === playerID);\n      })\n    );\n  })) && ((cov_1r3ps7rd99().b[11][3]++, !isFirstTurn(ctx)) || (cov_1r3ps7rd99().b[11][4]++, !positions.some(function (pos) {\n    cov_1r3ps7rd99().f[29]++;\n    cov_1r3ps7rd99().s[61]++;\n    return (cov_1r3ps7rd99().b[15][0]++, pos.x === corners[playerID][0]) && (cov_1r3ps7rd99().b[15][1]++, pos.y === corners[playerID][1]);\n  })))) {\n    cov_1r3ps7rd99().b[10][0]++;\n    cov_1r3ps7rd99().s[62]++;\n    return null;\n  } else {\n    cov_1r3ps7rd99().b[10][1]++;\n  }\n\n  cov_1r3ps7rd99().s[63]++;\n  return positions;\n}\nexport function placePiece(G, ctx, id, transform) {\n  cov_1r3ps7rd99().f[30]++;\n  var playerID = (cov_1r3ps7rd99().s[64]++, getPlayer(ctx, G, ctx.playerID));\n  var piece = (cov_1r3ps7rd99().s[65]++, pieces[G.players[parseInt(playerID)].pieces[id]]);\n  cov_1r3ps7rd99().s[66]++;\n\n  if (transform.flipX) {\n    cov_1r3ps7rd99().b[16][0]++;\n    cov_1r3ps7rd99().s[67]++;\n    piece = flipPieceX(piece);\n  } else {\n    cov_1r3ps7rd99().b[16][1]++;\n  }\n\n  cov_1r3ps7rd99().s[68]++;\n\n  if (transform.flipY) {\n    cov_1r3ps7rd99().b[17][0]++;\n    cov_1r3ps7rd99().s[69]++;\n    piece = flipPieceY(piece);\n  } else {\n    cov_1r3ps7rd99().b[17][1]++;\n  }\n\n  cov_1r3ps7rd99().s[70]++;\n\n  for (var i = (cov_1r3ps7rd99().s[71]++, 0); i < transform.rotation; i++) {\n    cov_1r3ps7rd99().s[72]++;\n    piece = rotatePiece(piece);\n  }\n\n  var positions = (cov_1r3ps7rd99().s[73]++, getValidPositions(G, ctx, piece, transform, playerID));\n  cov_1r3ps7rd99().s[74]++;\n\n  if (positions === null) {\n    cov_1r3ps7rd99().b[18][0]++;\n    cov_1r3ps7rd99().s[75]++;\n    return INVALID_MOVE;\n  } else {\n    cov_1r3ps7rd99().b[18][1]++;\n  }\n\n  cov_1r3ps7rd99().s[76]++;\n  return _objectSpread({}, G, {\n    board: G.board.map(function (square, i) {\n      cov_1r3ps7rd99().f[31]++;\n      cov_1r3ps7rd99().s[77]++;\n\n      if ((cov_1r3ps7rd99().b[20][0]++, positions.length > 0) && (cov_1r3ps7rd99().b[20][1]++, i === getPosition(positions[positions.length - 1].x, positions[positions.length - 1].y))) {\n        cov_1r3ps7rd99().b[19][0]++;\n        cov_1r3ps7rd99().s[78]++;\n        positions.pop();\n        cov_1r3ps7rd99().s[79]++;\n        return playerID;\n      } else {\n        cov_1r3ps7rd99().b[19][1]++;\n        cov_1r3ps7rd99().s[80]++;\n        return square;\n      }\n    }),\n    players: Object.values(_objectSpread({}, G.players, _defineProperty({}, playerID, _objectSpread({}, G.players[playerID], {\n      pieces: G.players[playerID].pieces.filter(function (_, i) {\n        cov_1r3ps7rd99().f[32]++;\n        cov_1r3ps7rd99().s[81]++;\n        return i !== id;\n      })\n    }))))\n  });\n}\nexport function endGame(G, ctx) {\n  cov_1r3ps7rd99().f[33]++;\n  cov_1r3ps7rd99().s[82]++;\n  return _objectSpread({}, G, {\n    players: Object.values(_objectSpread({}, G.players, _defineProperty({}, getPlayer(ctx, G, ctx.playerID), _objectSpread({}, G.players[getPlayer(ctx, G, ctx.playerID)], {\n      end: true\n    }))))\n  });\n}\nvar GameConfig = (cov_1r3ps7rd99().s[83]++, {\n  name: 'cornerus',\n  endIf: function endIf(G, ctx) {\n    cov_1r3ps7rd99().f[34]++;\n    cov_1r3ps7rd99().s[84]++;\n\n    if (!G.players.some(function (player) {\n      cov_1r3ps7rd99().f[35]++;\n      cov_1r3ps7rd99().s[85]++;\n      return (cov_1r3ps7rd99().b[22][0]++, !player.end) && (cov_1r3ps7rd99().b[22][1]++, player.pieces.length > 0);\n    })) {\n      cov_1r3ps7rd99().b[21][0]++;\n      cov_1r3ps7rd99().s[86]++;\n      return {\n        scoreboard: getScoreBoard(G, ctx)\n      };\n    } else {\n      cov_1r3ps7rd99().b[21][1]++;\n    }\n  },\n  turn: {\n    order: TurnOrder.CUSTOM_FROM('turnOrder'),\n    onMove: function onMove(G, ctx) {\n      cov_1r3ps7rd99().f[36]++;\n      cov_1r3ps7rd99().s[87]++;\n\n      if (!G.players.some(function (player) {\n        cov_1r3ps7rd99().f[37]++;\n        cov_1r3ps7rd99().s[88]++;\n        return (cov_1r3ps7rd99().b[24][0]++, !player.end) && (cov_1r3ps7rd99().b[24][1]++, player.pieces.length > 0);\n      })) {\n        cov_1r3ps7rd99().b[23][0]++;\n        cov_1r3ps7rd99().s[89]++;\n        ctx.events.endGame({\n          scoreboard: getScoreBoard(G, ctx)\n        });\n        cov_1r3ps7rd99().s[90]++;\n        return;\n      } else {\n        cov_1r3ps7rd99().b[23][1]++;\n      }\n\n      var nextPlayer = (cov_1r3ps7rd99().s[91]++, ctx.playOrder[(G.playOrderPos + 1) % ctx.playOrder.length]);\n      var newG = (cov_1r3ps7rd99().s[92]++, _objectSpread({}, G, {\n        turn: G.turn + 1,\n        playOrderPos: (G.playOrderPos + 1) % ctx.playOrder.length\n      }));\n      var turnPlus = (cov_1r3ps7rd99().s[93]++, 1);\n      cov_1r3ps7rd99().s[94]++;\n\n      for (var i = (cov_1r3ps7rd99().s[95]++, 2); playerEnded(newG, ctx, nextPlayer); i++) {\n        cov_1r3ps7rd99().s[96]++;\n        nextPlayer = ctx.playOrder[(G.playOrderPos + i) % ctx.playOrder.length];\n        cov_1r3ps7rd99().s[97]++;\n        newG = _objectSpread({}, newG, {\n          turn: newG.turn + 1,\n          playOrderPos: (newG.playOrderPos + 1) % ctx.playOrder.length\n        });\n        cov_1r3ps7rd99().s[98]++;\n        turnPlus++;\n      }\n\n      cov_1r3ps7rd99().s[99]++;\n      ctx.events.endTurn({\n        next: ctx.playOrder[(G.playOrderPos + turnPlus) % ctx.playOrder.length]\n      });\n      cov_1r3ps7rd99().s[100]++;\n      return newG;\n    }\n  },\n  moves: {\n    placePiece: placePiece,\n    endGame: endGame\n  },\n  setup: function setup(ctx) {\n    cov_1r3ps7rd99().f[38]++;\n    var turnOrders = (cov_1r3ps7rd99().s[101]++, [['0', '1'], ['0', '1', '2', '0', '0', '1', '2', '1', '0', '1', '2', '2'], ['0', '1', '2', '3']]);\n    cov_1r3ps7rd99().s[102]++;\n    return {\n      board: Array(400).fill(null),\n      players: Array(4).fill(0).map(function () {\n        cov_1r3ps7rd99().f[39]++;\n        cov_1r3ps7rd99().s[103]++;\n        return {\n          end: false,\n          pieces: Array(pieces.length).fill(0).map(function (_, i) {\n            cov_1r3ps7rd99().f[40]++;\n            cov_1r3ps7rd99().s[104]++;\n            return i;\n          })\n        };\n      }),\n      turnOrder: turnOrders[ctx.numPlayers - 2],\n      turn: 1,\n      playOrderPos: 0\n    };\n  }\n});\nexport var CornerusGame = (cov_1r3ps7rd99().s[105]++, GameConfig);","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/games/cornerus/game.ts"],"names":["INVALID_MOVE","TurnOrder","pieces","getXY","position","size","x","y","Math","floor","getPosition","inBounds","getPlayer","ctx","G","playerID","numPlayers","turn","isFirstTurn","getScoreBoard","scoreboard","players","map","player","i","toString","score","reduce","acc","piece","filter","square","length","sort","a","b","_","rotatePiece","squares","sqrt","rotated","Array","n","flipPieceY","flipped","flipPieceX","playerEnded","end","corners","getAllPositions","transform","index","getValidPositions","positions","some","pos","board","dir","placePiece","id","parseInt","flipX","flipY","rotation","pop","Object","values","endGame","GameConfig","name","endIf","order","CUSTOM_FROM","onMove","events","nextPlayer","playOrder","playOrderPos","newG","turnPlus","endTurn","next","moves","setup","turnOrders","fill","turnOrder","CornerusGame"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["import { IGameArgs, IGameCtx, INVALID_MOVE, TurnOrder } from 'boardgame.io/core';\nimport { IScore } from '../common/Scoreboard';\nimport { pieces } from './pieces';\n\nexport interface IPieceTransform {\n  x: number;\n  y: number;\n  rotation: number;\n  flipX: boolean;\n  flipY: boolean;\n}\n\nexport interface IPlayer {\n  end: boolean;\n  pieces: number[];\n}\n\nexport interface IG {\n  board: string[];\n  players: IPlayer[];\n  turnOrder: string[];\n  turn: number;\n  playOrderPos: number;\n}\n\nexport function getXY(position: number, size: number) {\n  return { x: position % size, y: Math.floor(position / size) };\n}\n\nexport function getPosition(x: number, y: number) {\n  return x + y * 20;\n}\n\nexport function inBounds(x: number, y: number) {\n  return x >= 0 && x < 20 && y >= 0 && y < 20;\n}\n\n// Map real playerID to 'fake' one\nexport function getPlayer(ctx: IGameCtx, G: IG, playerID: string) {\n  if (ctx.numPlayers === 2) {\n    if (playerID === '0') {\n      return G.turn % 4 === 1 ? '0' : '1';\n    } else {\n      return G.turn % 4 === 2 ? '2' : '3';\n    }\n  } else if (ctx.numPlayers === 3) {\n    return ctx.turn % 4 === 0 ? '3' : playerID;\n  } else {\n    return playerID;\n  }\n}\n\nexport function isFirstTurn(ctx: IGameCtx) {\n  return ctx.turn <= 4;\n}\n\nexport function getScoreBoard(G: IG, ctx: IGameCtx) {\n  const scoreboard: IScore[] = G.players.map((player, i) => ({\n    playerID: i.toString(),\n    score: player.pieces.reduce((acc, piece) => acc - pieces[piece].filter((square) => square).length, 0),\n  }));\n\n  if (ctx.numPlayers === 2) {\n    return [\n      { playerID: '0', score: scoreboard[0].score + scoreboard[1].score },\n      { playerID: '1', score: scoreboard[2].score + scoreboard[3].score },\n    ].sort((a, b) => b.score - a.score);\n  } else if (ctx.numPlayers === 3) {\n    return scoreboard.filter((_, i) => i !== 3).sort((a, b) => b.score - a.score);\n  } else {\n    return scoreboard.sort((a, b) => b.score - a.score);\n  }\n}\n\nexport function rotatePiece(squares: boolean[]) {\n  const size = Math.sqrt(squares.length);\n  let rotated = new Array(squares.length);\n  for (let n = 0; n < squares.length; n++) {\n    const x = n % size;\n    const y = Math.floor(n / size);\n    rotated[n] = squares[(size - x - 1) * size + y];\n  }\n  return rotated;\n}\n\nexport function flipPieceY(squares: boolean[]) {\n  const size = Math.sqrt(squares.length);\n  let flipped = new Array(squares.length);\n  for (let n = 0; n < squares.length; n++) {\n    flipped[n] = squares[n + size * (size - Math.floor(n / size) * 2 - 1)];\n  }\n  return flipped;\n}\n\nexport function flipPieceX(squares: boolean[]) {\n  const size = Math.sqrt(squares.length);\n  let flipped = new Array(squares.length);\n  for (let n = 0; n < squares.length; n++) {\n    flipped[n] = squares[n + size - (n % size) * 2 - 1];\n  }\n  return flipped;\n}\n\nfunction playerEnded(G: IG, ctx: IGameCtx, playerID: string) {\n  const player = G.players[getPlayer(ctx, G, playerID) as any];\n  return player.end || player.pieces.length === 0;\n}\n\nconst corners = [\n  [0, 0],\n  [19, 0],\n  [19, 19],\n  [0, 19],\n];\n\nexport function getAllPositions(piece: boolean[], transform: IPieceTransform) {\n  return piece\n    .map((square, index) => ({ square, index }))\n    .filter((piece) => piece.square)\n    .map((square) => {\n      const { x, y } = getXY(square.index, Math.sqrt(piece.length));\n      return { x: x + transform.x, y: y + transform.y };\n    })\n    .sort((a, b) => getPosition(b.x, b.y) - getPosition(a.x, a.y));\n}\n\nexport function getValidPositions(\n  G: IG,\n  ctx: IGameCtx,\n  piece: boolean[],\n  transform: IPieceTransform,\n  playerID: string,\n) {\n  const positions = getAllPositions(piece, transform);\n  if (\n    positions.some((pos) => !inBounds(pos.x, pos.y)) || // Check if piece is on board\n    positions.some(\n      // Check if squares don't touch with edges\n      (pos) =>\n        G.board[getPosition(pos.x, pos.y)] !== null ||\n        positions.some((pos) =>\n          [\n            [-1, 0],\n            [1, 0],\n            [0, -1],\n            [0, 1],\n          ].some(\n            (dir) =>\n              inBounds(pos.x + dir[0], pos.y + dir[1]) &&\n              G.board[getPosition(pos.x + dir[0], pos.y + dir[1])] === playerID,\n          ),\n        ),\n    ) ||\n    (!positions.some((\n      pos, // Check if squares are touching with corner atleast 1 time\n    ) =>\n      [\n        [-1, -1],\n        [1, -1],\n        [-1, 1],\n        [1, 1],\n      ].some(\n        (dir) =>\n          inBounds(pos.x + dir[0], pos.y + dir[1]) && G.board[getPosition(pos.x + dir[0], pos.y + dir[1])] === playerID,\n      ),\n    ) &&\n      (!isFirstTurn(ctx) ||\n        !positions.some((pos) => pos.x === corners[playerID as any][0] && pos.y === corners[playerID as any][1])))\n  ) {\n    return null;\n  }\n  return positions;\n}\n\nexport function placePiece(G: IG, ctx: IGameCtx, id: number, transform: IPieceTransform) {\n  const playerID = getPlayer(ctx, G, ctx.playerID);\n  let piece = pieces[G.players[parseInt(playerID)].pieces[id]];\n\n  if (transform.flipX) {\n    piece = flipPieceX(piece);\n  }\n  if (transform.flipY) {\n    piece = flipPieceY(piece);\n  }\n  for (let i = 0; i < transform.rotation; i++) {\n    piece = rotatePiece(piece);\n  }\n\n  const positions = getValidPositions(G, ctx, piece, transform, playerID);\n\n  if (positions === null) {\n    return INVALID_MOVE;\n  }\n\n  return {\n    ...G,\n    board: G.board.map((square, i) => {\n      if (\n        positions.length > 0 &&\n        i === getPosition(positions[positions.length - 1].x, positions[positions.length - 1].y)\n      ) {\n        positions.pop();\n        return playerID;\n      } else {\n        return square;\n      }\n    }),\n    players: Object.values({\n      ...G.players,\n      [playerID]: {\n        ...G.players[playerID as any],\n        pieces: G.players[playerID as any].pieces.filter((_, i) => i !== id),\n      },\n    }),\n  };\n}\n\nexport function endGame(G: IG, ctx: IGameCtx) {\n  return {\n    ...G,\n    players: Object.values({\n      ...G.players,\n      [getPlayer(ctx, G, ctx.playerID)]: {\n        ...G.players[getPlayer(ctx, G, ctx.playerID) as any],\n        end: true,\n      },\n    }),\n  };\n}\n\nconst GameConfig: IGameArgs = {\n  name: 'cornerus',\n  endIf: (G: IG, ctx) => {\n    if (!G.players.some((player) => !player.end && player.pieces.length > 0)) {\n      return { scoreboard: getScoreBoard(G, ctx) };\n    }\n  },\n  turn: {\n    order: TurnOrder.CUSTOM_FROM('turnOrder'),\n    onMove: (G, ctx) => {\n      if (!G.players.some((player) => !player.end && player.pieces.length > 0)) {\n        ctx.events.endGame({ scoreboard: getScoreBoard(G, ctx) });\n        return;\n      }\n\n      let nextPlayer = ctx.playOrder[(G.playOrderPos + 1) % ctx.playOrder.length];\n      let newG = {\n        ...G,\n        turn: G.turn + 1,\n        playOrderPos: (G.playOrderPos + 1) % ctx.playOrder.length,\n      };\n      let turnPlus = 1;\n\n      for (let i = 2; playerEnded(newG, ctx, nextPlayer); i++) {\n        nextPlayer = ctx.playOrder[(G.playOrderPos + i) % ctx.playOrder.length];\n        newG = {\n          ...newG,\n          turn: newG.turn + 1,\n          playOrderPos: (newG.playOrderPos + 1) % ctx.playOrder.length,\n        };\n        turnPlus++;\n      }\n\n      ctx.events.endTurn({ next: ctx.playOrder[(G.playOrderPos + turnPlus) % ctx.playOrder.length] });\n      return newG;\n    },\n  },\n  moves: {\n    placePiece,\n    endGame,\n  },\n  setup: (ctx): IG => {\n    const turnOrders = [\n      ['0', '1'],\n      ['0', '1', '2', '0', '0', '1', '2', '1', '0', '1', '2', '2'],\n      ['0', '1', '2', '3'],\n    ];\n\n    return {\n      board: Array(400).fill(null),\n      players: Array(4)\n        .fill(0)\n        .map(() => ({\n          end: false,\n          pieces: Array(pieces.length)\n            .fill(0)\n            .map((_, i) => i),\n        })),\n      turnOrder: turnOrders[ctx.numPlayers - 2],\n      turn: 1,\n      playOrderPos: 0,\n    };\n  },\n};\n\nexport const CornerusGame = GameConfig;\n"]},"metadata":{},"sourceType":"module"}