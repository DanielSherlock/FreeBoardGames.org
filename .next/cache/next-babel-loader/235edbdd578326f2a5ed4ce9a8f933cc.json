{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction cov_xq0uwk3n8() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/games/seabattle/Radar.tsx\";\n  var hash = \"72c84c1dd0213be758a846891b5bcfbc651d7bdc\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/games/seabattle/Radar.tsx\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 29,\n          column: 4\n        },\n        end: {\n          line: 29,\n          column: 17\n        }\n      },\n      \"1\": {\n        start: {\n          line: 33,\n          column: 19\n        },\n        end: {\n          line: 35,\n          column: 32\n        }\n      },\n      \"2\": {\n        start: {\n          line: 36,\n          column: 4\n        },\n        end: {\n          line: 42,\n          column: 6\n        }\n      },\n      \"3\": {\n        start: {\n          line: 45,\n          column: 13\n        },\n        end: {\n          line: 54,\n          column: 3\n        }\n      },\n      \"4\": {\n        start: {\n          line: 46,\n          column: 4\n        },\n        end: {\n          line: 53,\n          column: 5\n        }\n      },\n      \"5\": {\n        start: {\n          line: 47,\n          column: 24\n        },\n        end: {\n          line: 47,\n          column: 58\n        }\n      },\n      \"6\": {\n        start: {\n          line: 48,\n          column: 6\n        },\n        end: {\n          line: 50,\n          column: 7\n        }\n      },\n      \"7\": {\n        start: {\n          line: 49,\n          column: 8\n        },\n        end: {\n          line: 49,\n          column: 36\n        }\n      },\n      \"8\": {\n        start: {\n          line: 52,\n          column: 6\n        },\n        end: {\n          line: 52,\n          column: 33\n        }\n      },\n      \"9\": {\n        start: {\n          line: 56,\n          column: 16\n        },\n        end: {\n          line: 58,\n          column: 3\n        }\n      },\n      \"10\": {\n        start: {\n          line: 57,\n          column: 4\n        },\n        end: {\n          line: 57,\n          column: 31\n        }\n      },\n      \"11\": {\n        start: {\n          line: 60,\n          column: 12\n        },\n        end: {\n          line: 72,\n          column: 3\n        }\n      },\n      \"12\": {\n        start: {\n          line: 61,\n          column: 14\n        },\n        end: {\n          line: 61,\n          column: 34\n        }\n      },\n      \"13\": {\n        start: {\n          line: 62,\n          column: 14\n        },\n        end: {\n          line: 62,\n          column: 34\n        }\n      },\n      \"14\": {\n        start: {\n          line: 63,\n          column: 22\n        },\n        end: {\n          line: 63,\n          column: 38\n        }\n      },\n      \"15\": {\n        start: {\n          line: 64,\n          column: 22\n        },\n        end: {\n          line: 64,\n          column: 38\n        }\n      },\n      \"16\": {\n        start: {\n          line: 65,\n          column: 4\n        },\n        end: {\n          line: 67,\n          column: 5\n        }\n      },\n      \"17\": {\n        start: {\n          line: 66,\n          column: 6\n        },\n        end: {\n          line: 66,\n          column: 13\n        }\n      },\n      \"18\": {\n        start: {\n          line: 68,\n          column: 4\n        },\n        end: {\n          line: 71,\n          column: 5\n        }\n      },\n      \"19\": {\n        start: {\n          line: 69,\n          column: 24\n        },\n        end: {\n          line: 69,\n          column: 60\n        }\n      },\n      \"20\": {\n        start: {\n          line: 70,\n          column: 6\n        },\n        end: {\n          line: 70,\n          column: 38\n        }\n      },\n      \"21\": {\n        start: {\n          line: 75,\n          column: 4\n        },\n        end: {\n          line: 77,\n          column: 7\n        }\n      },\n      \"22\": {\n        start: {\n          line: 76,\n          column: 6\n        },\n        end: {\n          line: 76,\n          column: 72\n        }\n      },\n      \"23\": {\n        start: {\n          line: 76,\n          column: 41\n        },\n        end: {\n          line: 76,\n          column: 63\n        }\n      },\n      \"24\": {\n        start: {\n          line: 81,\n          column: 17\n        },\n        end: {\n          line: 81,\n          column: 44\n        }\n      },\n      \"25\": {\n        start: {\n          line: 82,\n          column: 18\n        },\n        end: {\n          line: 82,\n          column: 61\n        }\n      },\n      \"26\": {\n        start: {\n          line: 83,\n          column: 4\n        },\n        end: {\n          line: 83,\n          column: 42\n        }\n      },\n      \"27\": {\n        start: {\n          line: 87,\n          column: 17\n        },\n        end: {\n          line: 87,\n          column: 44\n        }\n      },\n      \"28\": {\n        start: {\n          line: 88,\n          column: 18\n        },\n        end: {\n          line: 88,\n          column: 61\n        }\n      },\n      \"29\": {\n        start: {\n          line: 89,\n          column: 17\n        },\n        end: {\n          line: 89,\n          column: 24\n        }\n      },\n      \"30\": {\n        start: {\n          line: 90,\n          column: 4\n        },\n        end: {\n          line: 90,\n          column: 22\n        }\n      },\n      \"31\": {\n        start: {\n          line: 91,\n          column: 4\n        },\n        end: {\n          line: 91,\n          column: 19\n        }\n      },\n      \"32\": {\n        start: {\n          line: 92,\n          column: 4\n        },\n        end: {\n          line: 92,\n          column: 70\n        }\n      },\n      \"33\": {\n        start: {\n          line: 96,\n          column: 17\n        },\n        end: {\n          line: 96,\n          column: 40\n        }\n      },\n      \"34\": {\n        start: {\n          line: 97,\n          column: 21\n        },\n        end: {\n          line: 97,\n          column: 23\n        }\n      },\n      \"35\": {\n        start: {\n          line: 98,\n          column: 4\n        },\n        end: {\n          line: 100,\n          column: 5\n        }\n      },\n      \"36\": {\n        start: {\n          line: 98,\n          column: 17\n        },\n        end: {\n          line: 98,\n          column: 18\n        }\n      },\n      \"37\": {\n        start: {\n          line: 99,\n          column: 6\n        },\n        end: {\n          line: 99,\n          column: 66\n        }\n      },\n      \"38\": {\n        start: {\n          line: 101,\n          column: 21\n        },\n        end: {\n          line: 101,\n          column: 42\n        }\n      },\n      \"39\": {\n        start: {\n          line: 102,\n          column: 4\n        },\n        end: {\n          line: 102,\n          column: 51\n        }\n      },\n      \"40\": {\n        start: {\n          line: 103,\n          column: 4\n        },\n        end: {\n          line: 103,\n          column: 32\n        }\n      },\n      \"41\": {\n        start: {\n          line: 111,\n          column: 4\n        },\n        end: {\n          line: 124,\n          column: 5\n        }\n      },\n      \"42\": {\n        start: {\n          line: 113,\n          column: 8\n        },\n        end: {\n          line: 113,\n          column: 28\n        }\n      },\n      \"43\": {\n        start: {\n          line: 114,\n          column: 8\n        },\n        end: {\n          line: 114,\n          column: 14\n        }\n      },\n      \"44\": {\n        start: {\n          line: 116,\n          column: 8\n        },\n        end: {\n          line: 116,\n          column: 28\n        }\n      },\n      \"45\": {\n        start: {\n          line: 117,\n          column: 8\n        },\n        end: {\n          line: 117,\n          column: 14\n        }\n      },\n      \"46\": {\n        start: {\n          line: 119,\n          column: 8\n        },\n        end: {\n          line: 119,\n          column: 28\n        }\n      },\n      \"47\": {\n        start: {\n          line: 120,\n          column: 8\n        },\n        end: {\n          line: 120,\n          column: 14\n        }\n      },\n      \"48\": {\n        start: {\n          line: 122,\n          column: 8\n        },\n        end: {\n          line: 122,\n          column: 28\n        }\n      },\n      \"49\": {\n        start: {\n          line: 123,\n          column: 8\n        },\n        end: {\n          line: 123,\n          column: 14\n        }\n      },\n      \"50\": {\n        start: {\n          line: 125,\n          column: 4\n        },\n        end: {\n          line: 129,\n          column: 5\n        }\n      },\n      \"51\": {\n        start: {\n          line: 126,\n          column: 6\n        },\n        end: {\n          line: 126,\n          column: 65\n        }\n      },\n      \"52\": {\n        start: {\n          line: 128,\n          column: 6\n        },\n        end: {\n          line: 128,\n          column: 18\n        }\n      },\n      \"53\": {\n        start: {\n          line: 133,\n          column: 19\n        },\n        end: {\n          line: 133,\n          column: 21\n        }\n      },\n      \"54\": {\n        start: {\n          line: 134,\n          column: 4\n        },\n        end: {\n          line: 150,\n          column: 5\n        }\n      },\n      \"55\": {\n        start: {\n          line: 135,\n          column: 19\n        },\n        end: {\n          line: 135,\n          column: 32\n        }\n      },\n      \"56\": {\n        start: {\n          line: 136,\n          column: 26\n        },\n        end: {\n          line: 136,\n          column: 105\n        }\n      },\n      \"57\": {\n        start: {\n          line: 138,\n          column: 6\n        },\n        end: {\n          line: 149,\n          column: 8\n        }\n      },\n      \"58\": {\n        start: {\n          line: 151,\n          column: 4\n        },\n        end: {\n          line: 151,\n          column: 18\n        }\n      },\n      \"59\": {\n        start: {\n          line: 155,\n          column: 34\n        },\n        end: {\n          line: 155,\n          column: 36\n        }\n      },\n      \"60\": {\n        start: {\n          line: 156,\n          column: 4\n        },\n        end: {\n          line: 158,\n          column: 5\n        }\n      },\n      \"61\": {\n        start: {\n          line: 157,\n          column: 6\n        },\n        end: {\n          line: 157,\n          column: 20\n        }\n      },\n      \"62\": {\n        start: {\n          line: 159,\n          column: 12\n        },\n        end: {\n          line: 159,\n          column: 13\n        }\n      },\n      \"63\": {\n        start: {\n          line: 160,\n          column: 4\n        },\n        end: {\n          line: 177,\n          column: 5\n        }\n      },\n      \"64\": {\n        start: {\n          line: 162,\n          column: 6\n        },\n        end: {\n          line: 166,\n          column: 7\n        }\n      },\n      \"65\": {\n        start: {\n          line: 163,\n          column: 8\n        },\n        end: {\n          line: 163,\n          column: 29\n        }\n      },\n      \"66\": {\n        start: {\n          line: 165,\n          column: 8\n        },\n        end: {\n          line: 165,\n          column: 30\n        }\n      },\n      \"67\": {\n        start: {\n          line: 167,\n          column: 6\n        },\n        end: {\n          line: 169,\n          column: 7\n        }\n      },\n      \"68\": {\n        start: {\n          line: 168,\n          column: 8\n        },\n        end: {\n          line: 168,\n          column: 43\n        }\n      },\n      \"69\": {\n        start: {\n          line: 170,\n          column: 21\n        },\n        end: {\n          line: 170,\n          column: 43\n        }\n      },\n      \"70\": {\n        start: {\n          line: 171,\n          column: 6\n        },\n        end: {\n          line: 175,\n          column: 8\n        }\n      },\n      \"71\": {\n        start: {\n          line: 176,\n          column: 6\n        },\n        end: {\n          line: 176,\n          column: 10\n        }\n      },\n      \"72\": {\n        start: {\n          line: 178,\n          column: 4\n        },\n        end: {\n          line: 178,\n          column: 18\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 28,\n            column: 2\n          },\n          end: {\n            line: 28,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 28,\n            column: 34\n          },\n          end: {\n            line: 30,\n            column: 3\n          }\n        },\n        line: 28\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 32,\n            column: 2\n          },\n          end: {\n            line: 32,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 32,\n            column: 11\n          },\n          end: {\n            line: 43,\n            column: 3\n          }\n        },\n        line: 32\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 45,\n            column: 13\n          },\n          end: {\n            line: 45,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 45,\n            column: 51\n          },\n          end: {\n            line: 54,\n            column: 3\n          }\n        },\n        line: 45\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 56,\n            column: 16\n          },\n          end: {\n            line: 56,\n            column: 17\n          }\n        },\n        loc: {\n          start: {\n            line: 56,\n            column: 22\n          },\n          end: {\n            line: 58,\n            column: 3\n          }\n        },\n        line: 56\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 60,\n            column: 12\n          },\n          end: {\n            line: 60,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 60,\n            column: 88\n          },\n          end: {\n            line: 72,\n            column: 3\n          }\n        },\n        line: 60\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 74,\n            column: 2\n          },\n          end: {\n            line: 74,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 74,\n            column: 42\n          },\n          end: {\n            line: 78,\n            column: 3\n          }\n        },\n        line: 74\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 75,\n            column: 38\n          },\n          end: {\n            line: 75,\n            column: 39\n          }\n        },\n        loc: {\n          start: {\n            line: 75,\n            column: 48\n          },\n          end: {\n            line: 77,\n            column: 5\n          }\n        },\n        line: 75\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 76,\n            column: 34\n          },\n          end: {\n            line: 76,\n            column: 35\n          }\n        },\n        loc: {\n          start: {\n            line: 76,\n            column: 41\n          },\n          end: {\n            line: 76,\n            column: 63\n          }\n        },\n        line: 76\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 80,\n            column: 2\n          },\n          end: {\n            line: 80,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 80,\n            column: 53\n          },\n          end: {\n            line: 84,\n            column: 3\n          }\n        },\n        line: 80\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 86,\n            column: 2\n          },\n          end: {\n            line: 86,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 86,\n            column: 33\n          },\n          end: {\n            line: 93,\n            column: 3\n          }\n        },\n        line: 86\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 95,\n            column: 2\n          },\n          end: {\n            line: 95,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 95,\n            column: 63\n          },\n          end: {\n            line: 104,\n            column: 3\n          }\n        },\n        line: 95\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 106,\n            column: 2\n          },\n          end: {\n            line: 106,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 106,\n            column: 53\n          },\n          end: {\n            line: 130,\n            column: 3\n          }\n        },\n        line: 106\n      },\n      \"12\": {\n        name: \"(anonymous_12)\",\n        decl: {\n          start: {\n            line: 132,\n            column: 2\n          },\n          end: {\n            line: 132,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 132,\n            column: 14\n          },\n          end: {\n            line: 152,\n            column: 3\n          }\n        },\n        line: 132\n      },\n      \"13\": {\n        name: \"(anonymous_13)\",\n        decl: {\n          start: {\n            line: 154,\n            column: 2\n          },\n          end: {\n            line: 154,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 154,\n            column: 15\n          },\n          end: {\n            line: 179,\n            column: 3\n          }\n        },\n        line: 154\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 46,\n            column: 4\n          },\n          end: {\n            line: 53,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 46,\n            column: 4\n          },\n          end: {\n            line: 53,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 46,\n            column: 4\n          },\n          end: {\n            line: 53,\n            column: 5\n          }\n        }],\n        line: 46\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 48,\n            column: 6\n          },\n          end: {\n            line: 50,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 48,\n            column: 6\n          },\n          end: {\n            line: 50,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 48,\n            column: 6\n          },\n          end: {\n            line: 50,\n            column: 7\n          }\n        }],\n        line: 48\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 65,\n            column: 4\n          },\n          end: {\n            line: 67,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 65,\n            column: 4\n          },\n          end: {\n            line: 67,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 65,\n            column: 4\n          },\n          end: {\n            line: 67,\n            column: 5\n          }\n        }],\n        line: 65\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 65,\n            column: 8\n          },\n          end: {\n            line: 65,\n            column: 44\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 65,\n            column: 8\n          },\n          end: {\n            line: 65,\n            column: 13\n          }\n        }, {\n          start: {\n            line: 65,\n            column: 17\n          },\n          end: {\n            line: 65,\n            column: 22\n          }\n        }, {\n          start: {\n            line: 65,\n            column: 26\n          },\n          end: {\n            line: 65,\n            column: 33\n          }\n        }, {\n          start: {\n            line: 65,\n            column: 37\n          },\n          end: {\n            line: 65,\n            column: 44\n          }\n        }],\n        line: 65\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 68,\n            column: 4\n          },\n          end: {\n            line: 71,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 68,\n            column: 4\n          },\n          end: {\n            line: 71,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 68,\n            column: 4\n          },\n          end: {\n            line: 71,\n            column: 5\n          }\n        }],\n        line: 68\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 68,\n            column: 8\n          },\n          end: {\n            line: 68,\n            column: 42\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 68,\n            column: 8\n          },\n          end: {\n            line: 68,\n            column: 23\n          }\n        }, {\n          start: {\n            line: 68,\n            column: 27\n          },\n          end: {\n            line: 68,\n            column: 42\n          }\n        }],\n        line: 68\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 76,\n            column: 41\n          },\n          end: {\n            line: 76,\n            column: 63\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 76,\n            column: 41\n          },\n          end: {\n            line: 76,\n            column: 50\n          }\n        }, {\n          start: {\n            line: 76,\n            column: 54\n          },\n          end: {\n            line: 76,\n            column: 63\n          }\n        }],\n        line: 76\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 111,\n            column: 4\n          },\n          end: {\n            line: 124,\n            column: 5\n          }\n        },\n        type: \"switch\",\n        locations: [{\n          start: {\n            line: 112,\n            column: 6\n          },\n          end: {\n            line: 114,\n            column: 14\n          }\n        }, {\n          start: {\n            line: 115,\n            column: 6\n          },\n          end: {\n            line: 117,\n            column: 14\n          }\n        }, {\n          start: {\n            line: 118,\n            column: 6\n          },\n          end: {\n            line: 120,\n            column: 14\n          }\n        }, {\n          start: {\n            line: 121,\n            column: 6\n          },\n          end: {\n            line: 123,\n            column: 14\n          }\n        }],\n        line: 111\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 125,\n            column: 4\n          },\n          end: {\n            line: 129,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 125,\n            column: 4\n          },\n          end: {\n            line: 129,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 125,\n            column: 4\n          },\n          end: {\n            line: 129,\n            column: 5\n          }\n        }],\n        line: 125\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 136,\n            column: 66\n          },\n          end: {\n            line: 136,\n            column: 104\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 136,\n            column: 95\n          },\n          end: {\n            line: 136,\n            column: 98\n          }\n        }, {\n          start: {\n            line: 136,\n            column: 101\n          },\n          end: {\n            line: 136,\n            column: 104\n          }\n        }],\n        line: 136\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 156,\n            column: 4\n          },\n          end: {\n            line: 158,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 156,\n            column: 4\n          },\n          end: {\n            line: 158,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 156,\n            column: 4\n          },\n          end: {\n            line: 158,\n            column: 5\n          }\n        }],\n        line: 156\n      },\n      \"11\": {\n        loc: {\n          start: {\n            line: 162,\n            column: 6\n          },\n          end: {\n            line: 166,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 162,\n            column: 6\n          },\n          end: {\n            line: 166,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 162,\n            column: 6\n          },\n          end: {\n            line: 166,\n            column: 7\n          }\n        }],\n        line: 162\n      },\n      \"12\": {\n        loc: {\n          start: {\n            line: 167,\n            column: 6\n          },\n          end: {\n            line: 169,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 167,\n            column: 6\n          },\n          end: {\n            line: 169,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 167,\n            column: 6\n          },\n          end: {\n            line: 169,\n            column: 7\n          }\n        }],\n        line: 167\n      },\n      \"13\": {\n        loc: {\n          start: {\n            line: 167,\n            column: 10\n          },\n          end: {\n            line: 167,\n            column: 69\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 167,\n            column: 10\n          },\n          end: {\n            line: 167,\n            column: 31\n          }\n        }, {\n          start: {\n            line: 167,\n            column: 35\n          },\n          end: {\n            line: 167,\n            column: 69\n          }\n        }],\n        line: 167\n      },\n      \"14\": {\n        loc: {\n          start: {\n            line: 170,\n            column: 21\n          },\n          end: {\n            line: 170,\n            column: 43\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 170,\n            column: 21\n          },\n          end: {\n            line: 170,\n            column: 38\n          }\n        }, {\n          start: {\n            line: 170,\n            column: 42\n          },\n          end: {\n            line: 170,\n            column: 43\n          }\n        }],\n        line: 170\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0,\n      \"51\": 0,\n      \"52\": 0,\n      \"53\": 0,\n      \"54\": 0,\n      \"55\": 0,\n      \"56\": 0,\n      \"57\": 0,\n      \"58\": 0,\n      \"59\": 0,\n      \"60\": 0,\n      \"61\": 0,\n      \"62\": 0,\n      \"63\": 0,\n      \"64\": 0,\n      \"65\": 0,\n      \"66\": 0,\n      \"67\": 0,\n      \"68\": 0,\n      \"69\": 0,\n      \"70\": 0,\n      \"71\": 0,\n      \"72\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0, 0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0, 0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0],\n      \"11\": [0, 0],\n      \"12\": [0, 0],\n      \"13\": [0, 0],\n      \"14\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"72c84c1dd0213be758a846891b5bcfbc651d7bdc\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_xq0uwk3n8 = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_xq0uwk3n8();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { getCellVector } from './game';\nimport { Grid } from 'ui';\nimport { Token } from 'ui';\nimport SvgShip2 from './media/SvgShip2';\nimport SvgShip3 from './media/SvgShip3';\nimport SvgShip4 from './media/SvgShip4';\nimport SvgShip5 from './media/SvgShip5';\nimport SvgBackground from './media/SvgBackground';\nimport SvgHit from './media/SvgHit';\nimport SvgMiss from './media/SvgMiss';\nimport { Blink } from 'components/App/Blink';\nexport class Radar extends (React.Component) {\n  constructor(props) {\n    cov_xq0uwk3n8().f[0]++;\n    cov_xq0uwk3n8().s[0]++;\n    super(props);\n\n    _defineProperty(this, \"_onClick\", (cov_xq0uwk3n8().s[3]++, coords => {\n      cov_xq0uwk3n8().f[2]++;\n      cov_xq0uwk3n8().s[4]++;\n\n      if (this.props.editable) {\n        cov_xq0uwk3n8().b[0][0]++;\n        const shipIndex = (cov_xq0uwk3n8().s[5]++, this._findShip(coords.x, coords.y));\n        cov_xq0uwk3n8().s[6]++;\n\n        if (shipIndex !== -1) {\n          cov_xq0uwk3n8().b[1][0]++;\n          cov_xq0uwk3n8().s[7]++;\n\n          this._rotateShip(shipIndex);\n        } else {\n          cov_xq0uwk3n8().b[1][1]++;\n        }\n      } else {\n        cov_xq0uwk3n8().b[0][1]++;\n        cov_xq0uwk3n8().s[8]++;\n        this.props.onClick(coords);\n      }\n    }));\n\n    _defineProperty(this, \"_shouldDrag\", (cov_xq0uwk3n8().s[9]++, () => {\n      cov_xq0uwk3n8().f[3]++;\n      cov_xq0uwk3n8().s[10]++;\n      return this.props.editable;\n    }));\n\n    _defineProperty(this, \"_onDrop\", (cov_xq0uwk3n8().s[11]++, coords => {\n      cov_xq0uwk3n8().f[4]++;\n      const x = (cov_xq0uwk3n8().s[12]++, Math.round(coords.x));\n      const y = (cov_xq0uwk3n8().s[13]++, Math.round(coords.y));\n      const originalX = (cov_xq0uwk3n8().s[14]++, coords.originalX);\n      const originalY = (cov_xq0uwk3n8().s[15]++, coords.originalY);\n      cov_xq0uwk3n8().s[16]++;\n\n      if ((cov_xq0uwk3n8().b[3][0]++, x < 0) || (cov_xq0uwk3n8().b[3][1]++, y < 0) || (cov_xq0uwk3n8().b[3][2]++, x >= 10) || (cov_xq0uwk3n8().b[3][3]++, y >= 10)) {\n        cov_xq0uwk3n8().b[2][0]++;\n        cov_xq0uwk3n8().s[17]++;\n        return;\n      } else {\n        cov_xq0uwk3n8().b[2][1]++;\n      }\n\n      cov_xq0uwk3n8().s[18]++;\n\n      if ((cov_xq0uwk3n8().b[5][0]++, originalX !== x) || (cov_xq0uwk3n8().b[5][1]++, originalY !== y)) {\n        cov_xq0uwk3n8().b[4][0]++;\n        const shipIndex = (cov_xq0uwk3n8().s[19]++, this._findShip(originalX, originalY));\n        cov_xq0uwk3n8().s[20]++;\n\n        this._moveShip(shipIndex, x, y);\n      } else {\n        cov_xq0uwk3n8().b[4][1]++;\n      }\n    }));\n  }\n\n  render() {\n    cov_xq0uwk3n8().f[1]++;\n    const result = (cov_xq0uwk3n8().s[1]++, [__jsx(SvgBackground, {\n      onClick: this._onClick,\n      key: \"background\"\n    })].concat(this._getShips()).concat(this._getSalvos()));\n    cov_xq0uwk3n8().s[2]++;\n    return __jsx(\"div\", {\n      className: \"seabattle-radar\"\n    }, __jsx(Grid, {\n      rows: 10,\n      cols: 10,\n      outline: false,\n      onClick: this._onClick\n    }, result));\n  }\n\n  _findShip(x, y) {\n    cov_xq0uwk3n8().f[5]++;\n    cov_xq0uwk3n8().s[21]++;\n    return this.props.ships.findIndex(ship => {\n      cov_xq0uwk3n8().f[6]++;\n      cov_xq0uwk3n8().s[22]++;\n      return ship.cells.findIndex(c => {\n        cov_xq0uwk3n8().f[7]++;\n        cov_xq0uwk3n8().s[23]++;\n        return (cov_xq0uwk3n8().b[6][0]++, c.x === x) && (cov_xq0uwk3n8().b[6][1]++, c.y === y);\n      }) !== -1;\n    });\n  }\n\n  _moveShip(shipIndex, x, y) {\n    cov_xq0uwk3n8().f[8]++;\n    const ship = (cov_xq0uwk3n8().s[24]++, this.props.ships[shipIndex]);\n    const delta = (cov_xq0uwk3n8().s[25]++, getCellVector(ship.cells[1], ship.cells[0]));\n    cov_xq0uwk3n8().s[26]++;\n\n    this._setShip(shipIndex, x, y, delta);\n  }\n\n  _rotateShip(shipIndex) {\n    cov_xq0uwk3n8().f[9]++;\n    const ship = (cov_xq0uwk3n8().s[27]++, this.props.ships[shipIndex]);\n    const delta = (cov_xq0uwk3n8().s[28]++, getCellVector(ship.cells[1], ship.cells[0]));\n    const temp = (cov_xq0uwk3n8().s[29]++, delta.x);\n    cov_xq0uwk3n8().s[30]++;\n    delta.x = delta.y;\n    cov_xq0uwk3n8().s[31]++;\n    delta.y = temp;\n    cov_xq0uwk3n8().s[32]++;\n\n    this._setShip(shipIndex, ship.cells[0].x, ship.cells[0].y, delta);\n  }\n\n  _setShip(index, x, y, vector) {\n    cov_xq0uwk3n8().f[10]++;\n    const ship = (cov_xq0uwk3n8().s[33]++, this.props.ships[index]);\n    const newCells = (cov_xq0uwk3n8().s[34]++, []);\n    cov_xq0uwk3n8().s[35]++;\n\n    for (let i = (cov_xq0uwk3n8().s[36]++, 0); i < ship.cells.length; i++) {\n      cov_xq0uwk3n8().s[37]++;\n      newCells.push({\n        x: x + vector.x * i,\n        y: y + vector.y * i\n      });\n    }\n\n    const newShips = (cov_xq0uwk3n8().s[38]++, [...this.props.ships]);\n    cov_xq0uwk3n8().s[39]++;\n    newShips[index] = _objectSpread({}, ship, {\n      cells: newCells\n    });\n    cov_xq0uwk3n8().s[40]++;\n    this.props.onEdit(newShips);\n  }\n\n  _getShipDrawing(size, rotation) {\n    cov_xq0uwk3n8().f[11]++;\n    // Drawings from https://github.com/studioromeo/battleship-svgs (MIT license)\n    // Used SVGR to transform to react components.\n    // https://github.com/smooth-code/svgr\n    let ship;\n    cov_xq0uwk3n8().s[41]++;\n\n    switch (size) {\n      case 2:\n        cov_xq0uwk3n8().b[7][0]++;\n        cov_xq0uwk3n8().s[42]++;\n        ship = __jsx(SvgShip2, null);\n        cov_xq0uwk3n8().s[43]++;\n        break;\n\n      case 3:\n        cov_xq0uwk3n8().b[7][1]++;\n        cov_xq0uwk3n8().s[44]++;\n        ship = __jsx(SvgShip3, null);\n        cov_xq0uwk3n8().s[45]++;\n        break;\n\n      case 4:\n        cov_xq0uwk3n8().b[7][2]++;\n        cov_xq0uwk3n8().s[46]++;\n        ship = __jsx(SvgShip4, null);\n        cov_xq0uwk3n8().s[47]++;\n        break;\n\n      case 5:\n        cov_xq0uwk3n8().b[7][3]++;\n        cov_xq0uwk3n8().s[48]++;\n        ship = __jsx(SvgShip5, null);\n        cov_xq0uwk3n8().s[49]++;\n        break;\n    }\n\n    cov_xq0uwk3n8().s[50]++;\n\n    if (rotation === 'v') {\n      cov_xq0uwk3n8().b[8][0]++;\n      cov_xq0uwk3n8().s[51]++;\n      return __jsx(\"g\", {\n        transform: \"translate(1 0) rotate(90)\"\n      }, ship);\n    } else {\n      cov_xq0uwk3n8().b[8][1]++;\n      cov_xq0uwk3n8().s[52]++;\n      return ship;\n    }\n  }\n\n  _getShips() {\n    cov_xq0uwk3n8().f[12]++;\n    const result = (cov_xq0uwk3n8().s[53]++, []);\n    cov_xq0uwk3n8().s[54]++;\n\n    for (const ship of this.props.ships) {\n      const cell = (cov_xq0uwk3n8().s[55]++, ship.cells[0]);\n      const shipDrawing = (cov_xq0uwk3n8().s[56]++, this._getShipDrawing(ship.cells.length, cell.x === ship.cells[1].x ? (cov_xq0uwk3n8().b[9][0]++, 'v') : (cov_xq0uwk3n8().b[9][1]++, 'h')));\n      cov_xq0uwk3n8().s[57]++;\n      result.push(__jsx(Token, {\n        x: cell.x,\n        y: cell.y,\n        draggable: this.props.editable,\n        shouldDrag: this._shouldDrag,\n        onDrop: this._onDrop,\n        key: ship.id\n      }, shipDrawing));\n    }\n\n    cov_xq0uwk3n8().s[58]++;\n    return result;\n  }\n\n  _getSalvos() {\n    cov_xq0uwk3n8().f[13]++;\n    const result = (cov_xq0uwk3n8().s[59]++, []);\n    cov_xq0uwk3n8().s[60]++;\n\n    if (!this.props.salvos) {\n      cov_xq0uwk3n8().b[10][0]++;\n      cov_xq0uwk3n8().s[61]++;\n      return result;\n    } else {\n      cov_xq0uwk3n8().b[10][1]++;\n    }\n\n    let i = (cov_xq0uwk3n8().s[62]++, 0);\n    cov_xq0uwk3n8().s[63]++;\n\n    for (const salvo of this.props.salvos) {\n      let drawing;\n      cov_xq0uwk3n8().s[64]++;\n\n      if (salvo.hit) {\n        cov_xq0uwk3n8().b[11][0]++;\n        cov_xq0uwk3n8().s[65]++;\n        drawing = __jsx(SvgHit, null);\n      } else {\n        cov_xq0uwk3n8().b[11][1]++;\n        cov_xq0uwk3n8().s[66]++;\n        drawing = __jsx(SvgMiss, null);\n      }\n\n      cov_xq0uwk3n8().s[67]++;\n\n      if ((cov_xq0uwk3n8().b[13][0]++, this.props.blinkSalvo) && (cov_xq0uwk3n8().b[13][1]++, i === this.props.salvos.length - 1)) {\n        cov_xq0uwk3n8().b[12][0]++;\n        cov_xq0uwk3n8().s[68]++;\n        drawing = __jsx(Blink, null, drawing);\n      } else {\n        cov_xq0uwk3n8().b[12][1]++;\n      }\n\n      const player = (cov_xq0uwk3n8().s[69]++, (cov_xq0uwk3n8().b[14][0]++, this.props.player) || (cov_xq0uwk3n8().b[14][1]++, 0));\n      cov_xq0uwk3n8().s[70]++;\n      result.push(__jsx(Token, {\n        x: salvo.cell.x,\n        y: salvo.cell.y,\n        draggable: false,\n        key: `salvo_${i}_${player}`\n      }, drawing));\n      cov_xq0uwk3n8().s[71]++;\n      i++;\n    }\n\n    cov_xq0uwk3n8().s[72]++;\n    return result;\n  }\n\n}","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/games/seabattle/Radar.tsx"],"names":["React","getCellVector","Grid","Token","SvgShip2","SvgShip3","SvgShip4","SvgShip5","SvgBackground","SvgHit","SvgMiss","Blink","Radar","Component","constructor","props","coords","editable","shipIndex","_findShip","x","y","_rotateShip","onClick","Math","round","originalX","originalY","_moveShip","render","result","_onClick","concat","_getShips","_getSalvos","ships","findIndex","ship","cells","c","delta","_setShip","temp","index","vector","newCells","i","length","push","newShips","onEdit","_getShipDrawing","size","rotation","cell","shipDrawing","_shouldDrag","_onDrop","id","salvos","salvo","drawing","hit","blinkSalvo","player"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["import React from 'react';\nimport { IShip, ICell, ISalvo, getCellVector } from './game';\nimport { Grid } from 'ui';\nimport { Token } from 'ui';\nimport SvgShip2 from './media/SvgShip2';\nimport SvgShip3 from './media/SvgShip3';\nimport SvgShip4 from './media/SvgShip4';\nimport SvgShip5 from './media/SvgShip5';\nimport SvgBackground from './media/SvgBackground';\nimport SvgHit from './media/SvgHit';\nimport SvgMiss from './media/SvgMiss';\nimport { Blink } from 'components/App/Blink';\n\nexport interface IColorMap {\n  [key: string]: string;\n}\ninterface IRadarProps {\n  player?: number;\n  ships: IShip[];\n  salvos?: ISalvo[];\n  editable: boolean;\n  blinkSalvo?: boolean;\n  onEdit?: (ships: IShip[]) => void;\n  onClick?: (cell: ICell) => void;\n}\n\nexport class Radar extends React.Component<IRadarProps, {}> {\n  constructor(props: IRadarProps) {\n    super(props);\n  }\n\n  render() {\n    const result = [<SvgBackground onClick={this._onClick} key=\"background\" />]\n      .concat(this._getShips())\n      .concat(this._getSalvos());\n    return (\n      <div className=\"seabattle-radar\">\n        <Grid rows={10} cols={10} outline={false} onClick={this._onClick}>\n          {result}\n        </Grid>\n      </div>\n    );\n  }\n\n  _onClick = (coords: { x: number; y: number }) => {\n    if (this.props.editable) {\n      const shipIndex = this._findShip(coords.x, coords.y);\n      if (shipIndex !== -1) {\n        this._rotateShip(shipIndex);\n      }\n    } else {\n      this.props.onClick(coords);\n    }\n  };\n\n  _shouldDrag = () => {\n    return this.props.editable;\n  };\n\n  _onDrop = (coords: { x: number; y: number; originalX: number; originalY: number }) => {\n    const x = Math.round(coords.x);\n    const y = Math.round(coords.y);\n    const originalX = coords.originalX;\n    const originalY = coords.originalY;\n    if (x < 0 || y < 0 || x >= 10 || y >= 10) {\n      return;\n    }\n    if (originalX !== x || originalY !== y) {\n      const shipIndex = this._findShip(originalX, originalY);\n      this._moveShip(shipIndex, x, y);\n    }\n  };\n\n  _findShip(x: number, y: number): number {\n    return this.props.ships.findIndex((ship) => {\n      return ship.cells.findIndex((c) => c.x === x && c.y === y) !== -1;\n    });\n  }\n\n  _moveShip(shipIndex: number, x: number, y: number) {\n    const ship = this.props.ships[shipIndex];\n    const delta = getCellVector(ship.cells[1], ship.cells[0]);\n    this._setShip(shipIndex, x, y, delta);\n  }\n\n  _rotateShip(shipIndex: number) {\n    const ship = this.props.ships[shipIndex];\n    const delta = getCellVector(ship.cells[1], ship.cells[0]);\n    const temp = delta.x;\n    delta.x = delta.y;\n    delta.y = temp;\n    this._setShip(shipIndex, ship.cells[0].x, ship.cells[0].y, delta);\n  }\n\n  _setShip(index: number, x: number, y: number, vector: ICell) {\n    const ship = this.props.ships[index];\n    const newCells = [];\n    for (let i = 0; i < ship.cells.length; i++) {\n      newCells.push({ x: x + vector.x * i, y: y + vector.y * i });\n    }\n    const newShips = [...this.props.ships];\n    newShips[index] = { ...ship, cells: newCells };\n    this.props.onEdit(newShips);\n  }\n\n  _getShipDrawing(size: number, rotation: 'h' | 'v') {\n    // Drawings from https://github.com/studioromeo/battleship-svgs (MIT license)\n    // Used SVGR to transform to react components.\n    // https://github.com/smooth-code/svgr\n    let ship;\n    switch (size) {\n      case 2:\n        ship = <SvgShip2 />;\n        break;\n      case 3:\n        ship = <SvgShip3 />;\n        break;\n      case 4:\n        ship = <SvgShip4 />;\n        break;\n      case 5:\n        ship = <SvgShip5 />;\n        break;\n    }\n    if (rotation === 'v') {\n      return <g transform=\"translate(1 0) rotate(90)\">{ship}</g>;\n    } else {\n      return ship;\n    }\n  }\n\n  _getShips() {\n    const result = [];\n    for (const ship of this.props.ships) {\n      const cell = ship.cells[0];\n      const shipDrawing = this._getShipDrawing(ship.cells.length, cell.x === ship.cells[1].x ? 'v' : 'h');\n\n      result.push(\n        <Token\n          x={cell.x}\n          y={cell.y}\n          draggable={this.props.editable}\n          shouldDrag={this._shouldDrag}\n          onDrop={this._onDrop}\n          key={ship.id}\n        >\n          {shipDrawing}\n        </Token>,\n      );\n    }\n    return result;\n  }\n\n  _getSalvos() {\n    const result: JSX.Element[] = [];\n    if (!this.props.salvos) {\n      return result;\n    }\n    let i = 0;\n    for (const salvo of this.props.salvos) {\n      let drawing;\n      if (salvo.hit) {\n        drawing = <SvgHit />;\n      } else {\n        drawing = <SvgMiss />;\n      }\n      if (this.props.blinkSalvo && i === this.props.salvos.length - 1) {\n        drawing = <Blink>{drawing}</Blink>;\n      }\n      const player = this.props.player || 0;\n      result.push(\n        <Token x={salvo.cell.x} y={salvo.cell.y} draggable={false} key={`salvo_${i}_${player}`}>\n          {drawing}\n        </Token>,\n      );\n      i++;\n    }\n    return result;\n  }\n}\n"]},"metadata":{},"sourceType":"module"}