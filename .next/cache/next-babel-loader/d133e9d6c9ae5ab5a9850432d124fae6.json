{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction cov_1rqcdrfc2l() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/games/cornerus/Controls.tsx\";\n  var hash = \"87695272eff34a104ec3839bc55f78069cdf3e44\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/games/cornerus/Controls.tsx\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 29,\n          column: 11\n        },\n        end: {\n          line: 29,\n          column: 32\n        }\n      },\n      \"1\": {\n        start: {\n          line: 30,\n          column: 11\n        },\n        end: {\n          line: 30,\n          column: 32\n        }\n      },\n      \"2\": {\n        start: {\n          line: 33,\n          column: 15\n        },\n        end: {\n          line: 33,\n          column: 49\n        }\n      },\n      \"3\": {\n        start: {\n          line: 34,\n          column: 4\n        },\n        end: {\n          line: 36,\n          column: 5\n        }\n      },\n      \"4\": {\n        start: {\n          line: 34,\n          column: 17\n        },\n        end: {\n          line: 34,\n          column: 18\n        }\n      },\n      \"5\": {\n        start: {\n          line: 35,\n          column: 6\n        },\n        end: {\n          line: 35,\n          column: 31\n        }\n      },\n      \"6\": {\n        start: {\n          line: 38,\n          column: 4\n        },\n        end: {\n          line: 45,\n          column: 7\n        }\n      },\n      \"7\": {\n        start: {\n          line: 49,\n          column: 4\n        },\n        end: {\n          line: 60,\n          column: 7\n        }\n      },\n      \"8\": {\n        start: {\n          line: 64,\n          column: 4\n        },\n        end: {\n          line: 75,\n          column: 7\n        }\n      },\n      \"9\": {\n        start: {\n          line: 79,\n          column: 21\n        },\n        end: {\n          line: 79,\n          column: 90\n        }\n      },\n      \"10\": {\n        start: {\n          line: 80,\n          column: 18\n        },\n        end: {\n          line: 80,\n          column: 105\n        }\n      },\n      \"11\": {\n        start: {\n          line: 81,\n          column: 4\n        },\n        end: {\n          line: 86,\n          column: 7\n        }\n      },\n      \"12\": {\n        start: {\n          line: 90,\n          column: 4\n        },\n        end: {\n          line: 127,\n          column: 6\n        }\n      },\n      \"13\": {\n        start: {\n          line: 92,\n          column: 35\n        },\n        end: {\n          line: 92,\n          column: 49\n        }\n      },\n      \"14\": {\n        start: {\n          line: 95,\n          column: 35\n        },\n        end: {\n          line: 95,\n          column: 49\n        }\n      },\n      \"15\": {\n        start: {\n          line: 106,\n          column: 12\n        },\n        end: {\n          line: 109,\n          column: 13\n        }\n      },\n      \"16\": {\n        start: {\n          line: 115,\n          column: 35\n        },\n        end: {\n          line: 115,\n          column: 49\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 32,\n            column: 2\n          },\n          end: {\n            line: 32,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 32,\n            column: 20\n          },\n          end: {\n            line: 46,\n            column: 3\n          }\n        },\n        line: 32\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 48,\n            column: 2\n          },\n          end: {\n            line: 48,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 48,\n            column: 10\n          },\n          end: {\n            line: 61,\n            column: 3\n          }\n        },\n        line: 48\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 63,\n            column: 2\n          },\n          end: {\n            line: 63,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 63,\n            column: 10\n          },\n          end: {\n            line: 76,\n            column: 3\n          }\n        },\n        line: 63\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 78,\n            column: 2\n          },\n          end: {\n            line: 78,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 78,\n            column: 25\n          },\n          end: {\n            line: 87,\n            column: 3\n          }\n        },\n        line: 78\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 89,\n            column: 2\n          },\n          end: {\n            line: 89,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 89,\n            column: 11\n          },\n          end: {\n            line: 128,\n            column: 3\n          }\n        },\n        line: 89\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 92,\n            column: 29\n          },\n          end: {\n            line: 92,\n            column: 30\n          }\n        },\n        loc: {\n          start: {\n            line: 92,\n            column: 35\n          },\n          end: {\n            line: 92,\n            column: 49\n          }\n        },\n        line: 92\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 95,\n            column: 29\n          },\n          end: {\n            line: 95,\n            column: 30\n          }\n        },\n        loc: {\n          start: {\n            line: 95,\n            column: 35\n          },\n          end: {\n            line: 95,\n            column: 49\n          }\n        },\n        line: 95\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 105,\n            column: 19\n          },\n          end: {\n            line: 105,\n            column: 20\n          }\n        },\n        loc: {\n          start: {\n            line: 106,\n            column: 12\n          },\n          end: {\n            line: 109,\n            column: 13\n          }\n        },\n        line: 106\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 115,\n            column: 29\n          },\n          end: {\n            line: 115,\n            column: 30\n          }\n        },\n        loc: {\n          start: {\n            line: 115,\n            column: 35\n          },\n          end: {\n            line: 115,\n            column: 49\n          }\n        },\n        line: 115\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 55,\n            column: 10\n          },\n          end: {\n            line: 57,\n            column: 59\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 56,\n            column: 14\n          },\n          end: {\n            line: 56,\n            column: 49\n          }\n        }, {\n          start: {\n            line: 57,\n            column: 14\n          },\n          end: {\n            line: 57,\n            column: 59\n          }\n        }],\n        line: 55\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 70,\n            column: 10\n          },\n          end: {\n            line: 72,\n            column: 59\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 71,\n            column: 14\n          },\n          end: {\n            line: 71,\n            column: 49\n          }\n        }, {\n          start: {\n            line: 72,\n            column: 14\n          },\n          end: {\n            line: 72,\n            column: 59\n          }\n        }],\n        line: 70\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 122,\n            column: 28\n          },\n          end: {\n            line: 122,\n            column: 63\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 122,\n            column: 56\n          },\n          end: {\n            line: 122,\n            column: 57\n          }\n        }, {\n          start: {\n            line: 122,\n            column: 60\n          },\n          end: {\n            line: 122,\n            column: 63\n          }\n        }],\n        line: 122\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"87695272eff34a104ec3839bc55f78069cdf3e44\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_1rqcdrfc2l = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_1rqcdrfc2l();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport { rotatePiece, flipPieceY, flipPieceX, getPlayer } from './game';\nimport { pieces } from './pieces';\nimport Done from '@material-ui/icons/Done';\nimport RotateLeft from '@material-ui/icons/RotateLeft';\nimport RotateRight from '@material-ui/icons/RotateRight';\nimport Flip from '@material-ui/icons/Flip';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport IconButton from '@material-ui/core/IconButton';\nimport css from './Controls.css';\nexport default class Controls extends (React.Component) {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"_flipY\", (cov_1rqcdrfc2l().s[0]++, this.flipY.bind(this)));\n\n    _defineProperty(this, \"_flipX\", (cov_1rqcdrfc2l().s[1]++, this.flipX.bind(this)));\n  }\n\n  rotate(n) {\n    cov_1rqcdrfc2l().f[0]++;\n    let data = (cov_1rqcdrfc2l().s[2]++, rotatePiece(this.props.piece.data));\n    cov_1rqcdrfc2l().s[3]++;\n\n    for (let i = (cov_1rqcdrfc2l().s[4]++, 0); i < n - 1; i++) {\n      cov_1rqcdrfc2l().s[5]++;\n      data = rotatePiece(data);\n    }\n\n    cov_1rqcdrfc2l().s[6]++;\n    this.props.modifyPiece(_objectSpread({}, this.props.piece, {\n      transform: _objectSpread({}, this.props.piece.transform, {\n        rotation: (this.props.piece.transform.rotation + n) % 4\n      }),\n      data\n    }));\n  }\n\n  flipY() {\n    cov_1rqcdrfc2l().f[1]++;\n    cov_1rqcdrfc2l().s[7]++;\n    this.props.modifyPiece(_objectSpread({}, this.props.piece, {\n      transform: _objectSpread({}, this.props.piece.transform, {\n        flipY: !this.props.piece.transform.flipY,\n        rotation: this.props.piece.transform.rotation % 2 === 0 ? (cov_1rqcdrfc2l().b[0][0]++, this.props.piece.transform.rotation) : (cov_1rqcdrfc2l().b[0][1]++, (this.props.piece.transform.rotation + 2) % 4)\n      }),\n      data: flipPieceY(this.props.piece.data)\n    }));\n  }\n\n  flipX() {\n    cov_1rqcdrfc2l().f[2]++;\n    cov_1rqcdrfc2l().s[8]++;\n    this.props.modifyPiece(_objectSpread({}, this.props.piece, {\n      transform: _objectSpread({}, this.props.piece.transform, {\n        flipX: !this.props.piece.transform.flipX,\n        rotation: this.props.piece.transform.rotation % 2 === 0 ? (cov_1rqcdrfc2l().b[1][0]++, this.props.piece.transform.rotation) : (cov_1rqcdrfc2l().b[1][1]++, (this.props.piece.transform.rotation + 2) % 4)\n      }),\n      data: flipPieceX(this.props.piece.data)\n    }));\n  }\n\n  select(offset) {\n    cov_1rqcdrfc2l().f[3]++;\n    const playerID = (cov_1rqcdrfc2l().s[9]++, getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer));\n    const index = (cov_1rqcdrfc2l().s[10]++, (this.props.piece.index + offset) % this.props.G.players[playerID].pieces.length);\n    cov_1rqcdrfc2l().s[11]++;\n    this.props.modifyPiece(_objectSpread({}, this.props.piece, {\n      index,\n      data: pieces[this.props.G.players[playerID].pieces[index]],\n      transform: _objectSpread({}, this.props.piece.transform, {\n        flipX: false,\n        flipY: false,\n        rotation: 0\n      })\n    }));\n  }\n\n  render() {\n    cov_1rqcdrfc2l().f[4]++;\n    cov_1rqcdrfc2l().s[12]++;\n    return __jsx(\"div\", {\n      className: css.Controls\n    }, __jsx(IconButton, {\n      onClick: () => {\n        cov_1rqcdrfc2l().f[5]++;\n        cov_1rqcdrfc2l().s[13]++;\n        return this.rotate(3);\n      },\n      id: \"rotate-left\"\n    }, __jsx(RotateLeft, null)), __jsx(IconButton, {\n      onClick: () => {\n        cov_1rqcdrfc2l().f[6]++;\n        cov_1rqcdrfc2l().s[14]++;\n        return this.rotate(1);\n      },\n      id: \"rotate-right\"\n    }, __jsx(RotateRight, null)), __jsx(IconButton, {\n      onClick: this._flipY,\n      style: {\n        transform: 'rotate(90deg)'\n      },\n      id: \"flip-y\"\n    }, __jsx(Flip, null)), __jsx(IconButton, {\n      onClick: this._flipX,\n      id: \"flip-x\"\n    }, __jsx(Flip, null)), __jsx(IconButton, {\n      onClick: () => {\n        cov_1rqcdrfc2l().f[7]++;\n        cov_1rqcdrfc2l().s[15]++;\n        return this.select(this.props.G.players[getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer)].pieces.length - 1);\n      },\n      id: \"select-prev\"\n    }, __jsx(ChevronLeft, null)), __jsx(IconButton, {\n      onClick: () => {\n        cov_1rqcdrfc2l().f[8]++;\n        cov_1rqcdrfc2l().s[16]++;\n        return this.select(1);\n      },\n      id: \"select-next\"\n    }, __jsx(ChevronRight, null)), __jsx(IconButton, {\n      onClick: this.props.placePiece,\n      id: \"place\",\n      disabled: !this.props.validTransform,\n      style: {\n        opacity: this.props.validTransform ? (cov_1rqcdrfc2l().b[2][0]++, 1) : (cov_1rqcdrfc2l().b[2][1]++, 0.5)\n      }\n    }, __jsx(Done, null)));\n  }\n\n}","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/games/cornerus/Controls.tsx"],"names":["React","rotatePiece","flipPieceY","flipPieceX","getPlayer","pieces","Done","RotateLeft","RotateRight","Flip","ChevronLeft","ChevronRight","IconButton","css","Controls","Component","flipY","bind","flipX","rotate","n","data","props","piece","i","modifyPiece","transform","rotation","select","offset","playerID","ctx","G","currentPlayer","index","players","length","render","_flipY","_flipX","placePiece","validTransform","opacity"],"mappings":"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","sourcesContent":["import React from 'react';\n\nimport { IGameCtx } from 'boardgame.io/core';\n\nimport { IG, rotatePiece, flipPieceY, flipPieceX, getPlayer } from './game';\nimport { IPiece } from './board';\nimport { pieces } from './pieces';\n\nimport Done from '@material-ui/icons/Done';\nimport RotateLeft from '@material-ui/icons/RotateLeft';\nimport RotateRight from '@material-ui/icons/RotateRight';\nimport Flip from '@material-ui/icons/Flip';\nimport ChevronLeft from '@material-ui/icons/ChevronLeft';\nimport ChevronRight from '@material-ui/icons/ChevronRight';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport css from './Controls.css';\n\ninterface IControlsProps {\n  placePiece: () => void;\n  modifyPiece: (piece: IPiece) => void;\n  validTransform: boolean;\n  piece: IPiece;\n  G: IG;\n  ctx: IGameCtx;\n}\n\nexport default class Controls extends React.Component<IControlsProps, {}> {\n  _flipY = this.flipY.bind(this);\n  _flipX = this.flipX.bind(this);\n\n  rotate(n: number) {\n    let data = rotatePiece(this.props.piece.data);\n    for (let i = 0; i < n - 1; i++) {\n      data = rotatePiece(data);\n    }\n\n    this.props.modifyPiece({\n      ...this.props.piece,\n      transform: {\n        ...this.props.piece.transform,\n        rotation: (this.props.piece.transform.rotation + n) % 4,\n      },\n      data,\n    });\n  }\n\n  flipY() {\n    this.props.modifyPiece({\n      ...this.props.piece,\n      transform: {\n        ...this.props.piece.transform,\n        flipY: !this.props.piece.transform.flipY,\n        rotation:\n          this.props.piece.transform.rotation % 2 === 0\n            ? this.props.piece.transform.rotation\n            : (this.props.piece.transform.rotation + 2) % 4,\n      },\n      data: flipPieceY(this.props.piece.data),\n    });\n  }\n\n  flipX() {\n    this.props.modifyPiece({\n      ...this.props.piece,\n      transform: {\n        ...this.props.piece.transform,\n        flipX: !this.props.piece.transform.flipX,\n        rotation:\n          this.props.piece.transform.rotation % 2 === 0\n            ? this.props.piece.transform.rotation\n            : (this.props.piece.transform.rotation + 2) % 4,\n      },\n      data: flipPieceX(this.props.piece.data),\n    });\n  }\n\n  select(offset: number) {\n    const playerID = getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer);\n    const index = (this.props.piece.index + offset) % this.props.G.players[playerID as any].pieces.length;\n    this.props.modifyPiece({\n      ...this.props.piece,\n      index,\n      data: pieces[this.props.G.players[playerID as any].pieces[index]],\n      transform: { ...this.props.piece.transform, flipX: false, flipY: false, rotation: 0 },\n    });\n  }\n\n  render() {\n    return (\n      <div className={css.Controls}>\n        <IconButton onClick={() => this.rotate(3)} id=\"rotate-left\">\n          <RotateLeft />\n        </IconButton>\n        <IconButton onClick={() => this.rotate(1)} id=\"rotate-right\">\n          <RotateRight />\n        </IconButton>\n        <IconButton onClick={this._flipY} style={{ transform: 'rotate(90deg)' }} id=\"flip-y\">\n          <Flip />\n        </IconButton>\n        <IconButton onClick={this._flipX} id=\"flip-x\">\n          <Flip />\n        </IconButton>\n        <IconButton\n          onClick={() =>\n            this.select(\n              this.props.G.players[getPlayer(this.props.ctx, this.props.G, this.props.ctx.currentPlayer) as any].pieces\n                .length - 1,\n            )\n          }\n          id=\"select-prev\"\n        >\n          <ChevronLeft />\n        </IconButton>\n        <IconButton onClick={() => this.select(1)} id=\"select-next\">\n          <ChevronRight />\n        </IconButton>\n        <IconButton\n          onClick={this.props.placePiece}\n          id=\"place\"\n          disabled={!this.props.validTransform}\n          style={{ opacity: this.props.validTransform ? 1 : 0.5 }}\n        >\n          <Done />\n        </IconButton>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}