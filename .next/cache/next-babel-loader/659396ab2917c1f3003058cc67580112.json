{"ast":null,"code":"var __jsx = React.createElement;\n\nfunction cov_1z72eol64x() {\n  var path = \"/home/j/Documents/FreeBoardGames.org/src/ui/2d/token.js\";\n  var hash = \"c6f8879a25ecbed105cf5c19a3aada49cefea075\";\n  var global = new Function(\"return this\")();\n  var gcv = \"__coverage__\";\n  var coverageData = {\n    path: \"/home/j/Documents/FreeBoardGames.org/src/ui/2d/token.js\",\n    statementMap: {\n      \"0\": {\n        start: {\n          line: 57,\n          column: 21\n        },\n        end: {\n          line: 74,\n          column: 3\n        }\n      },\n      \"1\": {\n        start: {\n          line: 76,\n          column: 24\n        },\n        end: {\n          line: 79,\n          column: 3\n        }\n      },\n      \"2\": {\n        start: {\n          line: 82,\n          column: 4\n        },\n        end: {\n          line: 82,\n          column: 17\n        }\n      },\n      \"3\": {\n        start: {\n          line: 83,\n          column: 4\n        },\n        end: {\n          line: 87,\n          column: 6\n        }\n      },\n      \"4\": {\n        start: {\n          line: 90,\n          column: 15\n        },\n        end: {\n          line: 100,\n          column: 3\n        }\n      },\n      \"5\": {\n        start: {\n          line: 91,\n          column: 4\n        },\n        end: {\n          line: 99,\n          column: 5\n        }\n      },\n      \"6\": {\n        start: {\n          line: 92,\n          column: 6\n        },\n        end: {\n          line: 92,\n          column: 25\n        }\n      },\n      \"7\": {\n        start: {\n          line: 93,\n          column: 6\n        },\n        end: {\n          line: 93,\n          column: 39\n        }\n      },\n      \"8\": {\n        start: {\n          line: 94,\n          column: 6\n        },\n        end: {\n          line: 97,\n          column: 9\n        }\n      },\n      \"9\": {\n        start: {\n          line: 98,\n          column: 6\n        },\n        end: {\n          line: 98,\n          column: 48\n        }\n      },\n      \"10\": {\n        start: {\n          line: 102,\n          column: 10\n        },\n        end: {\n          line: 129,\n          column: 3\n        }\n      },\n      \"11\": {\n        start: {\n          line: 103,\n          column: 4\n        },\n        end: {\n          line: 128,\n          column: 5\n        }\n      },\n      \"12\": {\n        start: {\n          line: 104,\n          column: 6\n        },\n        end: {\n          line: 104,\n          column: 25\n        }\n      },\n      \"13\": {\n        start: {\n          line: 105,\n          column: 6\n        },\n        end: {\n          line: 105,\n          column: 39\n        }\n      },\n      \"14\": {\n        start: {\n          line: 106,\n          column: 18\n        },\n        end: {\n          line: 106,\n          column: 68\n        }\n      },\n      \"15\": {\n        start: {\n          line: 107,\n          column: 25\n        },\n        end: {\n          line: 107,\n          column: 55\n        }\n      },\n      \"16\": {\n        start: {\n          line: 108,\n          column: 25\n        },\n        end: {\n          line: 108,\n          column: 55\n        }\n      },\n      \"17\": {\n        start: {\n          line: 109,\n          column: 24\n        },\n        end: {\n          line: 109,\n          column: 63\n        }\n      },\n      \"18\": {\n        start: {\n          line: 110,\n          column: 24\n        },\n        end: {\n          line: 110,\n          column: 63\n        }\n      },\n      \"19\": {\n        start: {\n          line: 111,\n          column: 16\n        },\n        end: {\n          line: 111,\n          column: 40\n        }\n      },\n      \"20\": {\n        start: {\n          line: 112,\n          column: 16\n        },\n        end: {\n          line: 112,\n          column: 40\n        }\n      },\n      \"21\": {\n        start: {\n          line: 113,\n          column: 6\n        },\n        end: {\n          line: 120,\n          column: 7\n        }\n      },\n      \"22\": {\n        start: {\n          line: 114,\n          column: 8\n        },\n        end: {\n          line: 119,\n          column: 11\n        }\n      },\n      \"23\": {\n        start: {\n          line: 122,\n          column: 6\n        },\n        end: {\n          line: 127,\n          column: 9\n        }\n      },\n      \"24\": {\n        start: {\n          line: 131,\n          column: 13\n        },\n        end: {\n          line: 155,\n          column: 3\n        }\n      },\n      \"25\": {\n        start: {\n          line: 132,\n          column: 4\n        },\n        end: {\n          line: 154,\n          column: 5\n        }\n      },\n      \"26\": {\n        start: {\n          line: 133,\n          column: 6\n        },\n        end: {\n          line: 133,\n          column: 25\n        }\n      },\n      \"27\": {\n        start: {\n          line: 136,\n          column: 19\n        },\n        end: {\n          line: 136,\n          column: 101\n        }\n      },\n      \"28\": {\n        start: {\n          line: 137,\n          column: 6\n        },\n        end: {\n          line: 146,\n          column: 7\n        }\n      },\n      \"29\": {\n        start: {\n          line: 138,\n          column: 8\n        },\n        end: {\n          line: 143,\n          column: 11\n        }\n      },\n      \"30\": {\n        start: {\n          line: 145,\n          column: 8\n        },\n        end: {\n          line: 145,\n          column: 65\n        }\n      },\n      \"31\": {\n        start: {\n          line: 147,\n          column: 6\n        },\n        end: {\n          line: 152,\n          column: 9\n        }\n      },\n      \"32\": {\n        start: {\n          line: 153,\n          column: 6\n        },\n        end: {\n          line: 153,\n          column: 49\n        }\n      },\n      \"33\": {\n        start: {\n          line: 157,\n          column: 13\n        },\n        end: {\n          line: 164,\n          column: 3\n        }\n      },\n      \"34\": {\n        start: {\n          line: 161,\n          column: 4\n        },\n        end: {\n          line: 163,\n          column: 5\n        }\n      },\n      \"35\": {\n        start: {\n          line: 162,\n          column: 6\n        },\n        end: {\n          line: 162,\n          column: 32\n        }\n      },\n      \"36\": {\n        start: {\n          line: 167,\n          column: 4\n        },\n        end: {\n          line: 169,\n          column: 5\n        }\n      },\n      \"37\": {\n        start: {\n          line: 168,\n          column: 6\n        },\n        end: {\n          line: 168,\n          column: 49\n        }\n      },\n      \"38\": {\n        start: {\n          line: 179,\n          column: 19\n        },\n        end: {\n          line: 179,\n          column: 35\n        }\n      },\n      \"39\": {\n        start: {\n          line: 180,\n          column: 19\n        },\n        end: {\n          line: 180,\n          column: 44\n        }\n      },\n      \"40\": {\n        start: {\n          line: 183,\n          column: 4\n        },\n        end: {\n          line: 185,\n          column: 5\n        }\n      },\n      \"41\": {\n        start: {\n          line: 184,\n          column: 6\n        },\n        end: {\n          line: 184,\n          column: 13\n        }\n      },\n      \"42\": {\n        start: {\n          line: 187,\n          column: 4\n        },\n        end: {\n          line: 193,\n          column: 7\n        }\n      },\n      \"43\": {\n        start: {\n          line: 195,\n          column: 4\n        },\n        end: {\n          line: 195,\n          column: 53\n        }\n      },\n      \"44\": {\n        start: {\n          line: 203,\n          column: 18\n        },\n        end: {\n          line: 203,\n          column: 43\n        }\n      },\n      \"45\": {\n        start: {\n          line: 204,\n          column: 4\n        },\n        end: {\n          line: 204,\n          column: 23\n        }\n      },\n      \"46\": {\n        start: {\n          line: 204,\n          column: 16\n        },\n        end: {\n          line: 204,\n          column: 23\n        }\n      },\n      \"47\": {\n        start: {\n          line: 205,\n          column: 35\n        },\n        end: {\n          line: 205,\n          column: 57\n        }\n      },\n      \"48\": {\n        start: {\n          line: 206,\n          column: 4\n        },\n        end: {\n          line: 208,\n          column: 5\n        }\n      },\n      \"49\": {\n        start: {\n          line: 207,\n          column: 6\n        },\n        end: {\n          line: 207,\n          column: 59\n        }\n      },\n      \"50\": {\n        start: {\n          line: 209,\n          column: 4\n        },\n        end: {\n          line: 209,\n          column: 74\n        }\n      },\n      \"51\": {\n        start: {\n          line: 210,\n          column: 4\n        },\n        end: {\n          line: 210,\n          column: 74\n        }\n      },\n      \"52\": {\n        start: {\n          line: 211,\n          column: 4\n        },\n        end: {\n          line: 211,\n          column: 75\n        }\n      },\n      \"53\": {\n        start: {\n          line: 212,\n          column: 4\n        },\n        end: {\n          line: 212,\n          column: 78\n        }\n      },\n      \"54\": {\n        start: {\n          line: 213,\n          column: 4\n        },\n        end: {\n          line: 213,\n          column: 79\n        }\n      },\n      \"55\": {\n        start: {\n          line: 214,\n          column: 4\n        },\n        end: {\n          line: 214,\n          column: 78\n        }\n      },\n      \"56\": {\n        start: {\n          line: 215,\n          column: 4\n        },\n        end: {\n          line: 215,\n          column: 76\n        }\n      },\n      \"57\": {\n        start: {\n          line: 223,\n          column: 4\n        },\n        end: {\n          line: 245,\n          column: 18\n        }\n      },\n      \"58\": {\n        start: {\n          line: 224,\n          column: 20\n        },\n        end: {\n          line: 224,\n          column: 47\n        }\n      },\n      \"59\": {\n        start: {\n          line: 225,\n          column: 21\n        },\n        end: {\n          line: 225,\n          column: 37\n        }\n      },\n      \"60\": {\n        start: {\n          line: 226,\n          column: 6\n        },\n        end: {\n          line: 244,\n          column: 7\n        }\n      },\n      \"61\": {\n        start: {\n          line: 227,\n          column: 27\n        },\n        end: {\n          line: 227,\n          column: 92\n        }\n      },\n      \"62\": {\n        start: {\n          line: 229,\n          column: 8\n        },\n        end: {\n          line: 234,\n          column: 11\n        }\n      },\n      \"63\": {\n        start: {\n          line: 236,\n          column: 8\n        },\n        end: {\n          line: 236,\n          column: 57\n        }\n      },\n      \"64\": {\n        start: {\n          line: 238,\n          column: 8\n        },\n        end: {\n          line: 243,\n          column: 11\n        }\n      },\n      \"65\": {\n        start: {\n          line: 254,\n          column: 4\n        },\n        end: {\n          line: 254,\n          column: 50\n        }\n      },\n      \"66\": {\n        start: {\n          line: 265,\n          column: 4\n        },\n        end: {\n          line: 265,\n          column: 15\n        }\n      },\n      \"67\": {\n        start: {\n          line: 266,\n          column: 4\n        },\n        end: {\n          line: 266,\n          column: 46\n        }\n      },\n      \"68\": {\n        start: {\n          line: 266,\n          column: 15\n        },\n        end: {\n          line: 266,\n          column: 46\n        }\n      },\n      \"69\": {\n        start: {\n          line: 267,\n          column: 4\n        },\n        end: {\n          line: 267,\n          column: 11\n        }\n      },\n      \"70\": {\n        start: {\n          line: 268,\n          column: 4\n        },\n        end: {\n          line: 268,\n          column: 41\n        }\n      },\n      \"71\": {\n        start: {\n          line: 275,\n          column: 4\n        },\n        end: {\n          line: 278,\n          column: 6\n        }\n      },\n      \"72\": {\n        start: {\n          line: 282,\n          column: 22\n        },\n        end: {\n          line: 282,\n          column: 41\n        }\n      },\n      \"73\": {\n        start: {\n          line: 284,\n          column: 4\n        },\n        end: {\n          line: 297,\n          column: 6\n        }\n      }\n    },\n    fnMap: {\n      \"0\": {\n        name: \"(anonymous_0)\",\n        decl: {\n          start: {\n            line: 81,\n            column: 2\n          },\n          end: {\n            line: 81,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 81,\n            column: 21\n          },\n          end: {\n            line: 88,\n            column: 3\n          }\n        },\n        line: 81\n      },\n      \"1\": {\n        name: \"(anonymous_1)\",\n        decl: {\n          start: {\n            line: 90,\n            column: 15\n          },\n          end: {\n            line: 90,\n            column: 16\n          }\n        },\n        loc: {\n          start: {\n            line: 90,\n            column: 22\n          },\n          end: {\n            line: 100,\n            column: 3\n          }\n        },\n        line: 90\n      },\n      \"2\": {\n        name: \"(anonymous_2)\",\n        decl: {\n          start: {\n            line: 102,\n            column: 10\n          },\n          end: {\n            line: 102,\n            column: 11\n          }\n        },\n        loc: {\n          start: {\n            line: 102,\n            column: 17\n          },\n          end: {\n            line: 129,\n            column: 3\n          }\n        },\n        line: 102\n      },\n      \"3\": {\n        name: \"(anonymous_3)\",\n        decl: {\n          start: {\n            line: 131,\n            column: 13\n          },\n          end: {\n            line: 131,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 131,\n            column: 20\n          },\n          end: {\n            line: 155,\n            column: 3\n          }\n        },\n        line: 131\n      },\n      \"4\": {\n        name: \"(anonymous_4)\",\n        decl: {\n          start: {\n            line: 157,\n            column: 13\n          },\n          end: {\n            line: 157,\n            column: 14\n          }\n        },\n        loc: {\n          start: {\n            line: 157,\n            column: 24\n          },\n          end: {\n            line: 164,\n            column: 3\n          }\n        },\n        line: 157\n      },\n      \"5\": {\n        name: \"(anonymous_5)\",\n        decl: {\n          start: {\n            line: 166,\n            column: 2\n          },\n          end: {\n            line: 166,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 166,\n            column: 25\n          },\n          end: {\n            line: 170,\n            column: 3\n          }\n        },\n        line: 166\n      },\n      \"6\": {\n        name: \"(anonymous_6)\",\n        decl: {\n          start: {\n            line: 178,\n            column: 2\n          },\n          end: {\n            line: 178,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 178,\n            column: 46\n          },\n          end: {\n            line: 196,\n            column: 3\n          }\n        },\n        line: 178\n      },\n      \"7\": {\n        name: \"(anonymous_7)\",\n        decl: {\n          start: {\n            line: 202,\n            column: 2\n          },\n          end: {\n            line: 202,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 202,\n            column: 44\n          },\n          end: {\n            line: 216,\n            column: 3\n          }\n        },\n        line: 202\n      },\n      \"8\": {\n        name: \"(anonymous_8)\",\n        decl: {\n          start: {\n            line: 222,\n            column: 2\n          },\n          end: {\n            line: 222,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 222,\n            column: 16\n          },\n          end: {\n            line: 246,\n            column: 3\n          }\n        },\n        line: 222\n      },\n      \"9\": {\n        name: \"(anonymous_9)\",\n        decl: {\n          start: {\n            line: 223,\n            column: 12\n          },\n          end: {\n            line: 223,\n            column: 13\n          }\n        },\n        loc: {\n          start: {\n            line: 223,\n            column: 18\n          },\n          end: {\n            line: 245,\n            column: 5\n          }\n        },\n        line: 223\n      },\n      \"10\": {\n        name: \"(anonymous_10)\",\n        decl: {\n          start: {\n            line: 253,\n            column: 2\n          },\n          end: {\n            line: 253,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 253,\n            column: 32\n          },\n          end: {\n            line: 255,\n            column: 3\n          }\n        },\n        line: 253\n      },\n      \"11\": {\n        name: \"(anonymous_11)\",\n        decl: {\n          start: {\n            line: 264,\n            column: 2\n          },\n          end: {\n            line: 264,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 264,\n            column: 30\n          },\n          end: {\n            line: 269,\n            column: 3\n          }\n        },\n        line: 264\n      },\n      \"12\": {\n        name: \"(anonymous_12)\",\n        decl: {\n          start: {\n            line: 274,\n            column: 2\n          },\n          end: {\n            line: 274,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 274,\n            column: 20\n          },\n          end: {\n            line: 279,\n            column: 3\n          }\n        },\n        line: 274\n      },\n      \"13\": {\n        name: \"(anonymous_13)\",\n        decl: {\n          start: {\n            line: 281,\n            column: 2\n          },\n          end: {\n            line: 281,\n            column: 3\n          }\n        },\n        loc: {\n          start: {\n            line: 281,\n            column: 11\n          },\n          end: {\n            line: 298,\n            column: 3\n          }\n        },\n        line: 281\n      }\n    },\n    branchMap: {\n      \"0\": {\n        loc: {\n          start: {\n            line: 91,\n            column: 4\n          },\n          end: {\n            line: 99,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 91,\n            column: 4\n          },\n          end: {\n            line: 99,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 91,\n            column: 4\n          },\n          end: {\n            line: 99,\n            column: 5\n          }\n        }],\n        line: 91\n      },\n      \"1\": {\n        loc: {\n          start: {\n            line: 91,\n            column: 8\n          },\n          end: {\n            line: 91,\n            column: 71\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 91,\n            column: 8\n          },\n          end: {\n            line: 91,\n            column: 28\n          }\n        }, {\n          start: {\n            line: 91,\n            column: 32\n          },\n          end: {\n            line: 91,\n            column: 71\n          }\n        }],\n        line: 91\n      },\n      \"2\": {\n        loc: {\n          start: {\n            line: 93,\n            column: 10\n          },\n          end: {\n            line: 93,\n            column: 38\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 93,\n            column: 22\n          },\n          end: {\n            line: 93,\n            column: 34\n          }\n        }, {\n          start: {\n            line: 93,\n            column: 37\n          },\n          end: {\n            line: 93,\n            column: 38\n          }\n        }],\n        line: 93\n      },\n      \"3\": {\n        loc: {\n          start: {\n            line: 103,\n            column: 4\n          },\n          end: {\n            line: 128,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 103,\n            column: 4\n          },\n          end: {\n            line: 128,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 103,\n            column: 4\n          },\n          end: {\n            line: 128,\n            column: 5\n          }\n        }],\n        line: 103\n      },\n      \"4\": {\n        loc: {\n          start: {\n            line: 105,\n            column: 10\n          },\n          end: {\n            line: 105,\n            column: 38\n          }\n        },\n        type: \"cond-expr\",\n        locations: [{\n          start: {\n            line: 105,\n            column: 22\n          },\n          end: {\n            line: 105,\n            column: 34\n          }\n        }, {\n          start: {\n            line: 105,\n            column: 37\n          },\n          end: {\n            line: 105,\n            column: 38\n          }\n        }],\n        line: 105\n      },\n      \"5\": {\n        loc: {\n          start: {\n            line: 113,\n            column: 6\n          },\n          end: {\n            line: 120,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 113,\n            column: 6\n          },\n          end: {\n            line: 120,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 113,\n            column: 6\n          },\n          end: {\n            line: 120,\n            column: 7\n          }\n        }],\n        line: 113\n      },\n      \"6\": {\n        loc: {\n          start: {\n            line: 132,\n            column: 4\n          },\n          end: {\n            line: 154,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 132,\n            column: 4\n          },\n          end: {\n            line: 154,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 132,\n            column: 4\n          },\n          end: {\n            line: 154,\n            column: 5\n          }\n        }],\n        line: 132\n      },\n      \"7\": {\n        loc: {\n          start: {\n            line: 137,\n            column: 6\n          },\n          end: {\n            line: 146,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 137,\n            column: 6\n          },\n          end: {\n            line: 146,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 137,\n            column: 6\n          },\n          end: {\n            line: 146,\n            column: 7\n          }\n        }],\n        line: 137\n      },\n      \"8\": {\n        loc: {\n          start: {\n            line: 161,\n            column: 4\n          },\n          end: {\n            line: 163,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 161,\n            column: 4\n          },\n          end: {\n            line: 163,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 161,\n            column: 4\n          },\n          end: {\n            line: 163,\n            column: 5\n          }\n        }],\n        line: 161\n      },\n      \"9\": {\n        loc: {\n          start: {\n            line: 161,\n            column: 10\n          },\n          end: {\n            line: 161,\n            column: 73\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 161,\n            column: 10\n          },\n          end: {\n            line: 161,\n            column: 30\n          }\n        }, {\n          start: {\n            line: 161,\n            column: 34\n          },\n          end: {\n            line: 161,\n            column: 73\n          }\n        }],\n        line: 161\n      },\n      \"10\": {\n        loc: {\n          start: {\n            line: 167,\n            column: 4\n          },\n          end: {\n            line: 169,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 167,\n            column: 4\n          },\n          end: {\n            line: 169,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 167,\n            column: 4\n          },\n          end: {\n            line: 169,\n            column: 5\n          }\n        }],\n        line: 167\n      },\n      \"11\": {\n        loc: {\n          start: {\n            line: 183,\n            column: 4\n          },\n          end: {\n            line: 185,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 183,\n            column: 4\n          },\n          end: {\n            line: 185,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 183,\n            column: 4\n          },\n          end: {\n            line: 185,\n            column: 5\n          }\n        }],\n        line: 183\n      },\n      \"12\": {\n        loc: {\n          start: {\n            line: 183,\n            column: 8\n          },\n          end: {\n            line: 183,\n            column: 60\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 183,\n            column: 8\n          },\n          end: {\n            line: 183,\n            column: 32\n          }\n        }, {\n          start: {\n            line: 183,\n            column: 36\n          },\n          end: {\n            line: 183,\n            column: 60\n          }\n        }],\n        line: 183\n      },\n      \"13\": {\n        loc: {\n          start: {\n            line: 204,\n            column: 4\n          },\n          end: {\n            line: 204,\n            column: 23\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 204,\n            column: 4\n          },\n          end: {\n            line: 204,\n            column: 23\n          }\n        }, {\n          start: {\n            line: 204,\n            column: 4\n          },\n          end: {\n            line: 204,\n            column: 23\n          }\n        }],\n        line: 204\n      },\n      \"14\": {\n        loc: {\n          start: {\n            line: 206,\n            column: 4\n          },\n          end: {\n            line: 208,\n            column: 5\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 206,\n            column: 4\n          },\n          end: {\n            line: 208,\n            column: 5\n          }\n        }, {\n          start: {\n            line: 206,\n            column: 4\n          },\n          end: {\n            line: 208,\n            column: 5\n          }\n        }],\n        line: 206\n      },\n      \"15\": {\n        loc: {\n          start: {\n            line: 226,\n            column: 6\n          },\n          end: {\n            line: 244,\n            column: 7\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 226,\n            column: 6\n          },\n          end: {\n            line: 244,\n            column: 7\n          }\n        }, {\n          start: {\n            line: 226,\n            column: 6\n          },\n          end: {\n            line: 244,\n            column: 7\n          }\n        }],\n        line: 226\n      },\n      \"16\": {\n        loc: {\n          start: {\n            line: 226,\n            column: 10\n          },\n          end: {\n            line: 226,\n            column: 70\n          }\n        },\n        type: \"binary-expr\",\n        locations: [{\n          start: {\n            line: 226,\n            column: 10\n          },\n          end: {\n            line: 226,\n            column: 48\n          }\n        }, {\n          start: {\n            line: 226,\n            column: 52\n          },\n          end: {\n            line: 226,\n            column: 70\n          }\n        }],\n        line: 226\n      },\n      \"17\": {\n        loc: {\n          start: {\n            line: 253,\n            column: 12\n          },\n          end: {\n            line: 253,\n            column: 30\n          }\n        },\n        type: \"default-arg\",\n        locations: [{\n          start: {\n            line: 253,\n            column: 20\n          },\n          end: {\n            line: 253,\n            column: 30\n          }\n        }],\n        line: 253\n      },\n      \"18\": {\n        loc: {\n          start: {\n            line: 266,\n            column: 4\n          },\n          end: {\n            line: 266,\n            column: 46\n          }\n        },\n        type: \"if\",\n        locations: [{\n          start: {\n            line: 266,\n            column: 4\n          },\n          end: {\n            line: 266,\n            column: 46\n          }\n        }, {\n          start: {\n            line: 266,\n            column: 4\n          },\n          end: {\n            line: 266,\n            column: 46\n          }\n        }],\n        line: 266\n      }\n    },\n    s: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0,\n      \"14\": 0,\n      \"15\": 0,\n      \"16\": 0,\n      \"17\": 0,\n      \"18\": 0,\n      \"19\": 0,\n      \"20\": 0,\n      \"21\": 0,\n      \"22\": 0,\n      \"23\": 0,\n      \"24\": 0,\n      \"25\": 0,\n      \"26\": 0,\n      \"27\": 0,\n      \"28\": 0,\n      \"29\": 0,\n      \"30\": 0,\n      \"31\": 0,\n      \"32\": 0,\n      \"33\": 0,\n      \"34\": 0,\n      \"35\": 0,\n      \"36\": 0,\n      \"37\": 0,\n      \"38\": 0,\n      \"39\": 0,\n      \"40\": 0,\n      \"41\": 0,\n      \"42\": 0,\n      \"43\": 0,\n      \"44\": 0,\n      \"45\": 0,\n      \"46\": 0,\n      \"47\": 0,\n      \"48\": 0,\n      \"49\": 0,\n      \"50\": 0,\n      \"51\": 0,\n      \"52\": 0,\n      \"53\": 0,\n      \"54\": 0,\n      \"55\": 0,\n      \"56\": 0,\n      \"57\": 0,\n      \"58\": 0,\n      \"59\": 0,\n      \"60\": 0,\n      \"61\": 0,\n      \"62\": 0,\n      \"63\": 0,\n      \"64\": 0,\n      \"65\": 0,\n      \"66\": 0,\n      \"67\": 0,\n      \"68\": 0,\n      \"69\": 0,\n      \"70\": 0,\n      \"71\": 0,\n      \"72\": 0,\n      \"73\": 0\n    },\n    f: {\n      \"0\": 0,\n      \"1\": 0,\n      \"2\": 0,\n      \"3\": 0,\n      \"4\": 0,\n      \"5\": 0,\n      \"6\": 0,\n      \"7\": 0,\n      \"8\": 0,\n      \"9\": 0,\n      \"10\": 0,\n      \"11\": 0,\n      \"12\": 0,\n      \"13\": 0\n    },\n    b: {\n      \"0\": [0, 0],\n      \"1\": [0, 0],\n      \"2\": [0, 0],\n      \"3\": [0, 0],\n      \"4\": [0, 0],\n      \"5\": [0, 0],\n      \"6\": [0, 0],\n      \"7\": [0, 0],\n      \"8\": [0, 0],\n      \"9\": [0, 0],\n      \"10\": [0, 0],\n      \"11\": [0, 0],\n      \"12\": [0, 0],\n      \"13\": [0, 0],\n      \"14\": [0, 0],\n      \"15\": [0, 0],\n      \"16\": [0, 0],\n      \"17\": [0],\n      \"18\": [0, 0]\n    },\n    _coverageSchema: \"1a1c01bbd47fc00a2c39e90264f33305004495a9\",\n    hash: \"c6f8879a25ecbed105cf5c19a3aada49cefea075\"\n  };\n  var coverage = global[gcv] || (global[gcv] = {});\n\n  if (!coverage[path] || coverage[path].hash !== hash) {\n    coverage[path] = coverageData;\n  }\n\n  var actualCoverage = coverage[path];\n\n  cov_1z72eol64x = function () {\n    return actualCoverage;\n  };\n\n  return actualCoverage;\n}\n\ncov_1z72eol64x();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-syle\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Square } from './grid';\n/**\n * Token\n *\n * Component that represents a board game piece (or token).\n * Can be used by itself or with one of the grid systems\n * provided (Grid or HexGrid).\n *\n * A token renders as a square inside a Grid and a\n * hexagon inside a HexGrid. Additionally, you can pass\n * it a child if you want any other custom rendering.\n *\n * Props:\n *   x       - X coordinate on grid / hex grid.\n *   y       - Y coordinate on grid / hex grid.\n *   z       - Z coordinate on hex grid.\n *   animate - Changes in position are animated if true.\n *   animationDuration - Length of animation.\n *   onClick - Called when the token is clicked.\n *   onMouseOver - Called when the token is mouse over.\n *   onMouseOut - Called when the token is mouse out.\n *   draggable - Whether a Token is draggable or not.\n *   shouldDrag - Whether a draggable token should start drag.\n *   onDrag - Called when a token was dragged (moved).\n *            Parameter contain { x, y, originalX, originalY }.\n *   onDrop - Called when the token was dropped after dragging.\n *            Parameter contain { x, y, originalX, originalY }.\n *\n * Usage:\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2}/>\n * </Grid>\n *\n * <HexGrid>\n *   <Token x={1} y={2} z={-3}/>\n * </HexGrid>\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2}>\n *     <Knight color=\"white\"/>\n *   </Token>\n * </Grid>\n */\n\nexport class Token extends (React.Component) {\n  constructor(props) {\n    cov_1z72eol64x().f[0]++;\n    cov_1z72eol64x().s[2]++;\n    super(props);\n\n    _defineProperty(this, \"_startDrag\", (cov_1z72eol64x().s[4]++, e => {\n      cov_1z72eol64x().f[1]++;\n      cov_1z72eol64x().s[5]++;\n\n      if ((cov_1z72eol64x().b[1][0]++, this.props.draggable) && (cov_1z72eol64x().b[1][1]++, this.props.shouldDrag(this.getCoords()))) {\n        cov_1z72eol64x().b[0][0]++;\n        cov_1z72eol64x().s[6]++;\n        e.preventDefault(); // Required for Safari/iOs.\n\n        cov_1z72eol64x().s[7]++;\n        e = e.touches ? (cov_1z72eol64x().b[2][0]++, e.touches[0]) : (cov_1z72eol64x().b[2][1]++, e);\n        cov_1z72eol64x().s[8]++;\n        this.setState(_objectSpread({}, this.state, {\n          dragged: {\n            x: e.pageX,\n            y: e.pageY\n          }\n        }));\n        cov_1z72eol64x().s[9]++;\n\n        this._addOrRemoveDragEventListeners(true);\n      } else {\n        cov_1z72eol64x().b[0][1]++;\n      }\n    }));\n\n    _defineProperty(this, \"_drag\", (cov_1z72eol64x().s[10]++, e => {\n      cov_1z72eol64x().f[2]++;\n      cov_1z72eol64x().s[11]++;\n\n      if (this.state.dragged) {\n        cov_1z72eol64x().b[3][0]++;\n        cov_1z72eol64x().s[12]++;\n        e.preventDefault(); // Required for Safari/iOs.\n\n        cov_1z72eol64x().s[13]++;\n        e = e.touches ? (cov_1z72eol64x().b[4][0]++, e.touches[0]) : (cov_1z72eol64x().b[4][1]++, e);\n        const ctm = (cov_1z72eol64x().s[14]++, this.props.svgRef.current.getScreenCTM().inverse());\n        const deltaPageX = (cov_1z72eol64x().s[15]++, e.pageX - this.state.dragged.x);\n        const deltaPageY = (cov_1z72eol64x().s[16]++, e.pageY - this.state.dragged.y);\n        const deltaSvgX = (cov_1z72eol64x().s[17]++, ctm.a * deltaPageX + ctm.b * deltaPageY);\n        const deltaSvgY = (cov_1z72eol64x().s[18]++, ctm.c * deltaPageX + ctm.d * deltaPageY);\n        const x = (cov_1z72eol64x().s[19]++, this.state.x + deltaSvgX);\n        const y = (cov_1z72eol64x().s[20]++, this.state.y + deltaSvgY);\n        cov_1z72eol64x().s[21]++;\n\n        if (this.props.onDrag) {\n          cov_1z72eol64x().b[5][0]++;\n          cov_1z72eol64x().s[22]++;\n          this.props.onDrag({\n            x,\n            y,\n            originalX: this.props.x,\n            originalY: this.props.y\n          });\n        } else {\n          cov_1z72eol64x().b[5][1]++;\n        }\n\n        cov_1z72eol64x().s[23]++;\n        this.setState(_objectSpread({}, this.state, {\n          x,\n          y,\n          dragged: {\n            x: e.pageX,\n            y: e.pageY\n          }\n        }));\n      } else {\n        cov_1z72eol64x().b[3][1]++;\n      }\n    }));\n\n    _defineProperty(this, \"_endDrag\", (cov_1z72eol64x().s[24]++, e => {\n      cov_1z72eol64x().f[3]++;\n      cov_1z72eol64x().s[25]++;\n\n      if (this.state.dragged) {\n        cov_1z72eol64x().b[6][0]++;\n        cov_1z72eol64x().s[26]++;\n        e.preventDefault(); // Whether this is a drop or a click depends if the mouse moved after drag.\n        // Android will issue very small drag events, so we need a distance.\n\n        const dist = (cov_1z72eol64x().s[27]++, Math.sqrt((this.state.x - this.props.x) ** 2 + (this.state.y - this.props.y) ** 2));\n        cov_1z72eol64x().s[28]++;\n\n        if (dist > 0.2) {\n          cov_1z72eol64x().b[7][0]++;\n          cov_1z72eol64x().s[29]++;\n          this.props.onDrop({\n            x: this.state.x,\n            y: this.state.y,\n            originalX: this.props.x,\n            originalY: this.props.y\n          });\n        } else {\n          cov_1z72eol64x().b[7][1]++;\n          cov_1z72eol64x().s[30]++;\n          this.props.onClick({\n            x: this.state.x,\n            y: this.state.y\n          });\n        }\n\n        cov_1z72eol64x().s[31]++;\n        this.setState(_objectSpread({}, this.state, {\n          x: this.props.x,\n          y: this.props.y,\n          dragged: null\n        }));\n        cov_1z72eol64x().s[32]++;\n\n        this._addOrRemoveDragEventListeners(false);\n      } else {\n        cov_1z72eol64x().b[6][1]++;\n      }\n    }));\n\n    _defineProperty(this, \"_onClick\", (cov_1z72eol64x().s[33]++, param => {\n      cov_1z72eol64x().f[4]++;\n      cov_1z72eol64x().s[34]++;\n\n      // Ignore onClick if the element is draggable, because desktops will\n      // send both onClick and touch events, leading to duplication.\n      // Whether this will be a click or a drop will be defined in _endDrag.\n      if (!((cov_1z72eol64x().b[9][0]++, this.props.draggable) && (cov_1z72eol64x().b[9][1]++, this.props.shouldDrag(this.getCoords())))) {\n        cov_1z72eol64x().b[8][0]++;\n        cov_1z72eol64x().s[35]++;\n        this.props.onClick(param);\n      } else {\n        cov_1z72eol64x().b[8][1]++;\n      }\n    }));\n\n    cov_1z72eol64x().s[3]++;\n    this.state = _objectSpread({}, this.getCoords(), {\n      dragged: null,\n      usingTouch: false\n    });\n  }\n\n  componentWillUnmount() {\n    cov_1z72eol64x().f[5]++;\n    cov_1z72eol64x().s[36]++;\n\n    if (this.state.dragged) {\n      cov_1z72eol64x().b[10][0]++;\n      cov_1z72eol64x().s[37]++;\n\n      this._addOrRemoveDragEventListeners(false);\n    } else {\n      cov_1z72eol64x().b[10][1]++;\n    }\n  }\n  /**\n   * If there is a change in props, saves old x/y,\n   * and current time. Starts animation.\n   * @param {Object} nextProps Next props.\n   */\n  // eslint-disable-next-line react/no-deprecated\n\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    cov_1z72eol64x().f[6]++;\n    let oldCoord = (cov_1z72eol64x().s[38]++, this.getCoords());\n    let newCoord = (cov_1z72eol64x().s[39]++, this.getCoords(nextProps)); // Debounce.\n\n    cov_1z72eol64x().s[40]++;\n\n    if ((cov_1z72eol64x().b[12][0]++, oldCoord.x == newCoord.x) && (cov_1z72eol64x().b[12][1]++, oldCoord.y == newCoord.y)) {\n      cov_1z72eol64x().b[11][0]++;\n      cov_1z72eol64x().s[41]++;\n      return;\n    } else {\n      cov_1z72eol64x().b[11][1]++;\n    }\n\n    cov_1z72eol64x().s[42]++;\n    this.setState(_objectSpread({}, this.state, {\n      originTime: Date.now(),\n      originX: this.state.x,\n      originY: this.state.y,\n      originZ: this.state.z\n    }));\n    cov_1z72eol64x().s[43]++;\n    requestAnimationFrame(this._animate(Date.now()));\n  }\n  /**\n   * Add or remove event listeners.\n   * @param {boolean} shouldAdd If it should add (or remove) listeners.\n   */\n\n\n  _addOrRemoveDragEventListeners(shouldAdd) {\n    cov_1z72eol64x().f[7]++;\n    const svgEl = (cov_1z72eol64x().s[44]++, this.props.svgRef.current);\n    cov_1z72eol64x().s[45]++;\n\n    if (!svgEl) {\n      cov_1z72eol64x().b[13][0]++;\n      cov_1z72eol64x().s[46]++;\n      return;\n    } else {\n      cov_1z72eol64x().b[13][1]++;\n    }\n\n    let addOrRemoveEventListener = (cov_1z72eol64x().s[47]++, svgEl.addEventListener);\n    cov_1z72eol64x().s[48]++;\n\n    if (!shouldAdd) {\n      cov_1z72eol64x().b[14][0]++;\n      cov_1z72eol64x().s[49]++;\n      addOrRemoveEventListener = svgEl.removeEventListener;\n    } else {\n      cov_1z72eol64x().b[14][1]++;\n    }\n\n    cov_1z72eol64x().s[50]++;\n    addOrRemoveEventListener('touchmove', this._drag, {\n      passive: false\n    });\n    cov_1z72eol64x().s[51]++;\n    addOrRemoveEventListener('mousemove', this._drag, {\n      passive: false\n    });\n    cov_1z72eol64x().s[52]++;\n    addOrRemoveEventListener('mouseup', this._endDrag, {\n      passive: false\n    });\n    cov_1z72eol64x().s[53]++;\n    addOrRemoveEventListener('mouseleave', this._endDrag, {\n      passive: false\n    });\n    cov_1z72eol64x().s[54]++;\n    addOrRemoveEventListener('touchcancel', this._endDrag, {\n      passive: false\n    });\n    cov_1z72eol64x().s[55]++;\n    addOrRemoveEventListener('touchleave', this._endDrag, {\n      passive: false\n    });\n    cov_1z72eol64x().s[56]++;\n    addOrRemoveEventListener('touchend', this._endDrag, {\n      passive: false\n    });\n  }\n  /**\n   * Recursively animates x and y.\n   * @param {number} now Unix timestamp when this was called.\n   */\n\n\n  _animate(now) {\n    cov_1z72eol64x().f[8]++;\n    cov_1z72eol64x().s[57]++;\n    return (() => {\n      cov_1z72eol64x().f[9]++;\n      let elapsed = (cov_1z72eol64x().s[58]++, now - this.state.originTime);\n      let svgCoord = (cov_1z72eol64x().s[59]++, this.getCoords());\n      cov_1z72eol64x().s[60]++;\n\n      if ((cov_1z72eol64x().b[16][0]++, elapsed < this.props.animationDuration) && (cov_1z72eol64x().b[16][1]++, this.props.animate)) {\n        cov_1z72eol64x().b[15][0]++;\n        const percentage = (cov_1z72eol64x().s[61]++, this._easeInOutCubic(elapsed, 0, 1, this.props.animationDuration));\n        cov_1z72eol64x().s[62]++;\n        this.setState(_objectSpread({}, this.state, {\n          x: (svgCoord.x - this.state.originX) * percentage + this.state.originX,\n          y: (svgCoord.y - this.state.originY) * percentage + this.state.originY,\n          z: (svgCoord.z - this.state.originZ) * percentage + this.state.originZ\n        }));\n        cov_1z72eol64x().s[63]++;\n        requestAnimationFrame(this._animate(Date.now()));\n      } else {\n        cov_1z72eol64x().b[15][1]++;\n        cov_1z72eol64x().s[64]++;\n        this.setState(_objectSpread({}, this.state, {\n          x: svgCoord.x,\n          y: svgCoord.y,\n          z: svgCoord.z\n        }));\n      }\n    }).bind(this);\n  }\n  /**\n   * Gets SVG x/y/z coordinates.\n   * @param {Object} props Props object to get coordinates from.\n   * @return {Object} Object with x, y and z parameters.\n   */\n\n\n  getCoords(props = (cov_1z72eol64x().b[17][0]++, this.props)) {\n    cov_1z72eol64x().f[10]++;\n    cov_1z72eol64x().s[65]++;\n    return {\n      x: props.x,\n      y: props.y,\n      z: props.z\n    };\n  }\n  /**\n   * Returns animation easing value. See http://easings.net/#easeInOutCubic.\n   * @param {number} t Current time.\n   * @param {number} b Beginning value.\n   * @param {number} c Final value.\n   * @param {number} d Duration.\n   */\n\n\n  _easeInOutCubic(t, b, c, d) {\n    cov_1z72eol64x().f[11]++;\n    cov_1z72eol64x().s[66]++;\n    t /= d / 2;\n    cov_1z72eol64x().s[67]++;\n\n    if (t < 1) {\n      cov_1z72eol64x().b[18][0]++;\n      cov_1z72eol64x().s[68]++;\n      return c / 2 * t * t * t + b;\n    } else {\n      cov_1z72eol64x().b[18][1]++;\n    }\n\n    cov_1z72eol64x().s[69]++;\n    t -= 2;\n    cov_1z72eol64x().s[70]++;\n    return c / 2 * (t * t * t + 2) + b;\n  }\n  /**\n   * Gets event listeners needed for drag and drop.\n   */\n\n\n  _eventListeners() {\n    cov_1z72eol64x().f[12]++;\n    cov_1z72eol64x().s[71]++;\n    return [{\n      name: 'mousedown',\n      callback: this._startDrag\n    }, {\n      name: 'touchstart',\n      callback: this._startDrag\n    }];\n  }\n\n  render() {\n    cov_1z72eol64x().f[13]++;\n    const Component = (cov_1z72eol64x().s[72]++, this.props.template);\n    cov_1z72eol64x().s[73]++;\n    return __jsx(Component, {\n      x: this.state.x,\n      y: this.state.y,\n      z: this.state.z,\n      style: this.props.style,\n      onClick: this._onClick,\n      onMouseOver: this.props.onMouseOver,\n      onMouseOut: this.props.onMouseOut,\n      eventListeners: this._eventListeners()\n    }, this.props.children);\n  }\n\n}\n\n_defineProperty(Token, \"propTypes\", (cov_1z72eol64x().s[0]++, {\n  x: PropTypes.number,\n  y: PropTypes.number,\n  z: PropTypes.number,\n  template: PropTypes.any,\n  style: PropTypes.any,\n  animate: PropTypes.bool,\n  onClick: PropTypes.func,\n  onMouseOver: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  children: PropTypes.element,\n  animationDuration: PropTypes.number,\n  draggable: PropTypes.bool,\n  shouldDrag: PropTypes.func,\n  onDrag: PropTypes.func,\n  onDrop: PropTypes.func,\n  svgRef: PropTypes.object\n}));\n\n_defineProperty(Token, \"defaultProps\", (cov_1z72eol64x().s[1]++, {\n  animationDuration: 750,\n  template: Square\n}));","map":{"version":3,"sources":["/home/j/Documents/FreeBoardGames.org/src/ui/2d/token.js"],"names":["React","PropTypes","Square","Token","Component","constructor","props","e","draggable","shouldDrag","getCoords","preventDefault","touches","setState","state","dragged","x","pageX","y","pageY","_addOrRemoveDragEventListeners","ctm","svgRef","current","getScreenCTM","inverse","deltaPageX","deltaPageY","deltaSvgX","a","b","deltaSvgY","c","d","onDrag","originalX","originalY","dist","Math","sqrt","onDrop","onClick","param","usingTouch","componentWillUnmount","UNSAFE_componentWillReceiveProps","nextProps","oldCoord","newCoord","originTime","Date","now","originX","originY","originZ","z","requestAnimationFrame","_animate","shouldAdd","svgEl","addOrRemoveEventListener","addEventListener","removeEventListener","_drag","passive","_endDrag","elapsed","svgCoord","animationDuration","animate","percentage","_easeInOutCubic","bind","t","_eventListeners","name","callback","_startDrag","render","template","style","_onClick","onMouseOver","onMouseOut","children","number","any","bool","func","element","object"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","sourcesContent":["/*\n * Copyright 2018 The boardgame.io Authors\n *\n * Use of this source code is governed by a MIT-syle\n * license that can be found in the LICENSE file or at\n * https://opensource.org/licenses/MIT.\n */\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Square } from './grid';\n\n/**\n * Token\n *\n * Component that represents a board game piece (or token).\n * Can be used by itself or with one of the grid systems\n * provided (Grid or HexGrid).\n *\n * A token renders as a square inside a Grid and a\n * hexagon inside a HexGrid. Additionally, you can pass\n * it a child if you want any other custom rendering.\n *\n * Props:\n *   x       - X coordinate on grid / hex grid.\n *   y       - Y coordinate on grid / hex grid.\n *   z       - Z coordinate on hex grid.\n *   animate - Changes in position are animated if true.\n *   animationDuration - Length of animation.\n *   onClick - Called when the token is clicked.\n *   onMouseOver - Called when the token is mouse over.\n *   onMouseOut - Called when the token is mouse out.\n *   draggable - Whether a Token is draggable or not.\n *   shouldDrag - Whether a draggable token should start drag.\n *   onDrag - Called when a token was dragged (moved).\n *            Parameter contain { x, y, originalX, originalY }.\n *   onDrop - Called when the token was dropped after dragging.\n *            Parameter contain { x, y, originalX, originalY }.\n *\n * Usage:\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2}/>\n * </Grid>\n *\n * <HexGrid>\n *   <Token x={1} y={2} z={-3}/>\n * </HexGrid>\n *\n * <Grid rows={8} cols={8}>\n *   <Token x={1} y={2}>\n *     <Knight color=\"white\"/>\n *   </Token>\n * </Grid>\n */\nexport class Token extends React.Component {\n  static propTypes = {\n    x: PropTypes.number,\n    y: PropTypes.number,\n    z: PropTypes.number,\n    template: PropTypes.any,\n    style: PropTypes.any,\n    animate: PropTypes.bool,\n    onClick: PropTypes.func,\n    onMouseOver: PropTypes.func,\n    onMouseOut: PropTypes.func,\n    children: PropTypes.element,\n    animationDuration: PropTypes.number,\n    draggable: PropTypes.bool,\n    shouldDrag: PropTypes.func,\n    onDrag: PropTypes.func,\n    onDrop: PropTypes.func,\n    svgRef: PropTypes.object,\n  };\n\n  static defaultProps = {\n    animationDuration: 750,\n    template: Square,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      ...this.getCoords(),\n      dragged: null,\n      usingTouch: false,\n    };\n  }\n\n  _startDrag = (e) => {\n    if (this.props.draggable && this.props.shouldDrag(this.getCoords())) {\n      e.preventDefault(); // Required for Safari/iOs.\n      e = e.touches ? e.touches[0] : e;\n      this.setState({\n        ...this.state,\n        dragged: { x: e.pageX, y: e.pageY },\n      });\n      this._addOrRemoveDragEventListeners(true);\n    }\n  };\n\n  _drag = (e) => {\n    if (this.state.dragged) {\n      e.preventDefault(); // Required for Safari/iOs.\n      e = e.touches ? e.touches[0] : e;\n      const ctm = this.props.svgRef.current.getScreenCTM().inverse();\n      const deltaPageX = e.pageX - this.state.dragged.x;\n      const deltaPageY = e.pageY - this.state.dragged.y;\n      const deltaSvgX = ctm.a * deltaPageX + ctm.b * deltaPageY;\n      const deltaSvgY = ctm.c * deltaPageX + ctm.d * deltaPageY;\n      const x = this.state.x + deltaSvgX;\n      const y = this.state.y + deltaSvgY;\n      if (this.props.onDrag) {\n        this.props.onDrag({\n          x,\n          y,\n          originalX: this.props.x,\n          originalY: this.props.y,\n        });\n      }\n\n      this.setState({\n        ...this.state,\n        x,\n        y,\n        dragged: { x: e.pageX, y: e.pageY },\n      });\n    }\n  };\n\n  _endDrag = (e) => {\n    if (this.state.dragged) {\n      e.preventDefault();\n      // Whether this is a drop or a click depends if the mouse moved after drag.\n      // Android will issue very small drag events, so we need a distance.\n      const dist = Math.sqrt((this.state.x - this.props.x) ** 2 + (this.state.y - this.props.y) ** 2);\n      if (dist > 0.2) {\n        this.props.onDrop({\n          x: this.state.x,\n          y: this.state.y,\n          originalX: this.props.x,\n          originalY: this.props.y,\n        });\n      } else {\n        this.props.onClick({ x: this.state.x, y: this.state.y });\n      }\n      this.setState({\n        ...this.state,\n        x: this.props.x,\n        y: this.props.y,\n        dragged: null,\n      });\n      this._addOrRemoveDragEventListeners(false);\n    }\n  };\n\n  _onClick = (param) => {\n    // Ignore onClick if the element is draggable, because desktops will\n    // send both onClick and touch events, leading to duplication.\n    // Whether this will be a click or a drop will be defined in _endDrag.\n    if (!(this.props.draggable && this.props.shouldDrag(this.getCoords()))) {\n      this.props.onClick(param);\n    }\n  };\n\n  componentWillUnmount() {\n    if (this.state.dragged) {\n      this._addOrRemoveDragEventListeners(false);\n    }\n  }\n\n  /**\n   * If there is a change in props, saves old x/y,\n   * and current time. Starts animation.\n   * @param {Object} nextProps Next props.\n   */\n  // eslint-disable-next-line react/no-deprecated\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    let oldCoord = this.getCoords();\n    let newCoord = this.getCoords(nextProps);\n\n    // Debounce.\n    if (oldCoord.x == newCoord.x && oldCoord.y == newCoord.y) {\n      return;\n    }\n\n    this.setState({\n      ...this.state,\n      originTime: Date.now(),\n      originX: this.state.x,\n      originY: this.state.y,\n      originZ: this.state.z,\n    });\n\n    requestAnimationFrame(this._animate(Date.now()));\n  }\n\n  /**\n   * Add or remove event listeners.\n   * @param {boolean} shouldAdd If it should add (or remove) listeners.\n   */\n  _addOrRemoveDragEventListeners(shouldAdd) {\n    const svgEl = this.props.svgRef.current;\n    if (!svgEl) return;\n    let addOrRemoveEventListener = svgEl.addEventListener;\n    if (!shouldAdd) {\n      addOrRemoveEventListener = svgEl.removeEventListener;\n    }\n    addOrRemoveEventListener('touchmove', this._drag, { passive: false });\n    addOrRemoveEventListener('mousemove', this._drag, { passive: false });\n    addOrRemoveEventListener('mouseup', this._endDrag, { passive: false });\n    addOrRemoveEventListener('mouseleave', this._endDrag, { passive: false });\n    addOrRemoveEventListener('touchcancel', this._endDrag, { passive: false });\n    addOrRemoveEventListener('touchleave', this._endDrag, { passive: false });\n    addOrRemoveEventListener('touchend', this._endDrag, { passive: false });\n  }\n\n  /**\n   * Recursively animates x and y.\n   * @param {number} now Unix timestamp when this was called.\n   */\n  _animate(now) {\n    return (() => {\n      let elapsed = now - this.state.originTime;\n      let svgCoord = this.getCoords();\n      if (elapsed < this.props.animationDuration && this.props.animate) {\n        const percentage = this._easeInOutCubic(elapsed, 0, 1, this.props.animationDuration);\n\n        this.setState({\n          ...this.state,\n          x: (svgCoord.x - this.state.originX) * percentage + this.state.originX,\n          y: (svgCoord.y - this.state.originY) * percentage + this.state.originY,\n          z: (svgCoord.z - this.state.originZ) * percentage + this.state.originZ,\n        });\n\n        requestAnimationFrame(this._animate(Date.now()));\n      } else {\n        this.setState({\n          ...this.state,\n          x: svgCoord.x,\n          y: svgCoord.y,\n          z: svgCoord.z,\n        });\n      }\n    }).bind(this);\n  }\n\n  /**\n   * Gets SVG x/y/z coordinates.\n   * @param {Object} props Props object to get coordinates from.\n   * @return {Object} Object with x, y and z parameters.\n   */\n  getCoords(props = this.props) {\n    return { x: props.x, y: props.y, z: props.z };\n  }\n\n  /**\n   * Returns animation easing value. See http://easings.net/#easeInOutCubic.\n   * @param {number} t Current time.\n   * @param {number} b Beginning value.\n   * @param {number} c Final value.\n   * @param {number} d Duration.\n   */\n  _easeInOutCubic(t, b, c, d) {\n    t /= d / 2;\n    if (t < 1) return (c / 2) * t * t * t + b;\n    t -= 2;\n    return (c / 2) * (t * t * t + 2) + b;\n  }\n\n  /**\n   * Gets event listeners needed for drag and drop.\n   */\n  _eventListeners() {\n    return [\n      { name: 'mousedown', callback: this._startDrag },\n      { name: 'touchstart', callback: this._startDrag },\n    ];\n  }\n\n  render() {\n    const Component = this.props.template;\n\n    return (\n      <Component\n        x={this.state.x}\n        y={this.state.y}\n        z={this.state.z}\n        style={this.props.style}\n        onClick={this._onClick}\n        onMouseOver={this.props.onMouseOver}\n        onMouseOut={this.props.onMouseOut}\n        eventListeners={this._eventListeners()}\n      >\n        {this.props.children}\n      </Component>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}